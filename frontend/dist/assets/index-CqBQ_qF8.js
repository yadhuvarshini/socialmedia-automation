const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PostComposer-CHewp-o3.js","assets/PostComposer-jc002izz.css"])))=>i.map(i=>d[i]);
function Mv(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Uv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wp={exports:{}},Ja={},Gp={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var so=Symbol.for("react.element"),Fv=Symbol.for("react.portal"),zv=Symbol.for("react.fragment"),Bv=Symbol.for("react.strict_mode"),Vv=Symbol.for("react.profiler"),$v=Symbol.for("react.provider"),Hv=Symbol.for("react.context"),Wv=Symbol.for("react.forward_ref"),Gv=Symbol.for("react.suspense"),Kv=Symbol.for("react.memo"),Jv=Symbol.for("react.lazy"),Sh=Symbol.iterator;function qv(t){return t===null||typeof t!="object"?null:(t=Sh&&t[Sh]||t["@@iterator"],typeof t=="function"?t:null)}var Kp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jp=Object.assign,qp={};function Vs(t,e,n){this.props=t,this.context=e,this.refs=qp,this.updater=n||Kp}Vs.prototype.isReactComponent={};Vs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Yp(){}Yp.prototype=Vs.prototype;function _u(t,e,n){this.props=t,this.context=e,this.refs=qp,this.updater=n||Kp}var wu=_u.prototype=new Yp;wu.constructor=_u;Jp(wu,Vs.prototype);wu.isPureReactComponent=!0;var Eh=Array.isArray,Xp=Object.prototype.hasOwnProperty,Su={current:null},Qp={key:!0,ref:!0,__self:!0,__source:!0};function Zp(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)Xp.call(e,r)&&!Qp.hasOwnProperty(r)&&(s[r]=e[r]);var u=arguments.length-2;if(u===1)s.children=n;else if(1<u){for(var d=Array(u),f=0;f<u;f++)d[f]=arguments[f+2];s.children=d}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)s[r]===void 0&&(s[r]=u[r]);return{$$typeof:so,type:t,key:i,ref:a,props:s,_owner:Su.current}}function Yv(t,e){return{$$typeof:so,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Eu(t){return typeof t=="object"&&t!==null&&t.$$typeof===so}function Xv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xh=/\/+/g;function Pl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Xv(""+t.key):e.toString(36)}function Jo(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case so:case Fv:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Pl(a,0):r,Eh(s)?(n="",t!=null&&(n=t.replace(xh,"$&/")+"/"),Jo(s,e,n,"",function(f){return f})):s!=null&&(Eu(s)&&(s=Yv(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(xh,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",Eh(t))for(var u=0;u<t.length;u++){i=t[u];var d=r+Pl(i,u);a+=Jo(i,e,n,d,s)}else if(d=qv(t),typeof d=="function")for(t=d.call(t),u=0;!(i=t.next()).done;)i=i.value,d=r+Pl(i,u++),a+=Jo(i,e,n,d,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Io(t,e,n){if(t==null)return t;var r=[],s=0;return Jo(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Qv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ut={current:null},qo={transition:null},Zv={ReactCurrentDispatcher:ut,ReactCurrentBatchConfig:qo,ReactCurrentOwner:Su};function em(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:Io,forEach:function(t,e,n){Io(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Io(t,function(){e++}),e},toArray:function(t){return Io(t,function(e){return e})||[]},only:function(t){if(!Eu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Z.Component=Vs;Z.Fragment=zv;Z.Profiler=Vv;Z.PureComponent=_u;Z.StrictMode=Bv;Z.Suspense=Gv;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zv;Z.act=em;Z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Jp({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Su.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(d in e)Xp.call(e,d)&&!Qp.hasOwnProperty(d)&&(r[d]=e[d]===void 0&&u!==void 0?u[d]:e[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){u=Array(d);for(var f=0;f<d;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:so,type:t.type,key:s,ref:i,props:r,_owner:a}};Z.createContext=function(t){return t={$$typeof:Hv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$v,_context:t},t.Consumer=t};Z.createElement=Zp;Z.createFactory=function(t){var e=Zp.bind(null,t);return e.type=t,e};Z.createRef=function(){return{current:null}};Z.forwardRef=function(t){return{$$typeof:Wv,render:t}};Z.isValidElement=Eu;Z.lazy=function(t){return{$$typeof:Jv,_payload:{_status:-1,_result:t},_init:Qv}};Z.memo=function(t,e){return{$$typeof:Kv,type:t,compare:e===void 0?null:e}};Z.startTransition=function(t){var e=qo.transition;qo.transition={};try{t()}finally{qo.transition=e}};Z.unstable_act=em;Z.useCallback=function(t,e){return ut.current.useCallback(t,e)};Z.useContext=function(t){return ut.current.useContext(t)};Z.useDebugValue=function(){};Z.useDeferredValue=function(t){return ut.current.useDeferredValue(t)};Z.useEffect=function(t,e){return ut.current.useEffect(t,e)};Z.useId=function(){return ut.current.useId()};Z.useImperativeHandle=function(t,e,n){return ut.current.useImperativeHandle(t,e,n)};Z.useInsertionEffect=function(t,e){return ut.current.useInsertionEffect(t,e)};Z.useLayoutEffect=function(t,e){return ut.current.useLayoutEffect(t,e)};Z.useMemo=function(t,e){return ut.current.useMemo(t,e)};Z.useReducer=function(t,e,n){return ut.current.useReducer(t,e,n)};Z.useRef=function(t){return ut.current.useRef(t)};Z.useState=function(t){return ut.current.useState(t)};Z.useSyncExternalStore=function(t,e,n){return ut.current.useSyncExternalStore(t,e,n)};Z.useTransition=function(){return ut.current.useTransition()};Z.version="18.3.1";Gp.exports=Z;var I=Gp.exports;const tm=Uv(I),e1=Mv({__proto__:null,default:tm},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t1=I,n1=Symbol.for("react.element"),r1=Symbol.for("react.fragment"),s1=Object.prototype.hasOwnProperty,i1=t1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o1={key:!0,ref:!0,__self:!0,__source:!0};function nm(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)s1.call(e,r)&&!o1.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:n1,type:t,key:i,ref:a,props:s,_owner:i1.current}}Ja.Fragment=r1;Ja.jsx=nm;Ja.jsxs=nm;Wp.exports=Ja;var l=Wp.exports,hc={},rm={exports:{}},It={},sm={exports:{}},im={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,K){var J=B.length;B.push(K);e:for(;0<J;){var oe=J-1>>>1,ae=B[oe];if(0<s(ae,K))B[oe]=K,B[J]=ae,J=oe;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var K=B[0],J=B.pop();if(J!==K){B[0]=J;e:for(var oe=0,ae=B.length,et=ae>>>1;oe<et;){var Ne=2*(oe+1)-1,Ie=B[Ne],G=Ne+1,le=B[G];if(0>s(Ie,J))G<ae&&0>s(le,Ie)?(B[oe]=le,B[G]=J,oe=G):(B[oe]=Ie,B[Ne]=J,oe=Ne);else if(G<ae&&0>s(le,J))B[oe]=le,B[G]=J,oe=G;else break e}}return K}function s(B,K){var J=B.sortIndex-K.sortIndex;return J!==0?J:B.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var d=[],f=[],_=1,g=null,x=3,T=!1,D=!1,R=!1,A=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(B){for(var K=n(f);K!==null;){if(K.callback===null)r(f);else if(K.startTime<=B)r(f),K.sortIndex=K.expirationTime,e(d,K);else break;K=n(f)}}function P(B){if(R=!1,y(B),!D)if(n(d)!==null)D=!0,Ze(M);else{var K=n(f);K!==null&&_t(P,K.startTime-B)}}function M(B,K){D=!1,R&&(R=!1,E(p),p=-1),T=!0;var J=x;try{for(y(K),g=n(d);g!==null&&(!(g.expirationTime>K)||B&&!N());){var oe=g.callback;if(typeof oe=="function"){g.callback=null,x=g.priorityLevel;var ae=oe(g.expirationTime<=K);K=t.unstable_now(),typeof ae=="function"?g.callback=ae:g===n(d)&&r(d),y(K)}else r(d);g=n(d)}if(g!==null)var et=!0;else{var Ne=n(f);Ne!==null&&_t(P,Ne.startTime-K),et=!1}return et}finally{g=null,x=J,T=!1}}var U=!1,w=null,p=-1,v=5,k=-1;function N(){return!(t.unstable_now()-k<v)}function j(){if(w!==null){var B=t.unstable_now();k=B;var K=!0;try{K=w(!0,B)}finally{K?C():(U=!1,w=null)}}else U=!1}var C;if(typeof S=="function")C=function(){S(j)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,je=de.port2;de.port1.onmessage=j,C=function(){je.postMessage(null)}}else C=function(){A(j,0)};function Ze(B){w=B,U||(U=!0,C())}function _t(B,K){p=A(function(){B(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){D||T||(D=!0,Ze(M))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(B){switch(x){case 1:case 2:case 3:var K=3;break;default:K=x}var J=x;x=K;try{return B()}finally{x=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,K){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var J=x;x=B;try{return K()}finally{x=J}},t.unstable_scheduleCallback=function(B,K,J){var oe=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?oe+J:oe):J=oe,B){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=J+ae,B={id:_++,callback:K,priorityLevel:B,startTime:J,expirationTime:ae,sortIndex:-1},J>oe?(B.sortIndex=J,e(f,B),n(d)===null&&B===n(f)&&(R?(E(p),p=-1):R=!0,_t(P,J-oe))):(B.sortIndex=ae,e(d,B),D||T||(D=!0,Ze(M))),B},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(B){var K=x;return function(){var J=x;x=K;try{return B.apply(this,arguments)}finally{x=J}}}})(im);sm.exports=im;var a1=sm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l1=I,Nt=a1;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var om=new Set,Li={};function ns(t,e){Ds(t,e),Ds(t+"Capture",e)}function Ds(t,e){for(Li[t]=e,t=0;t<e.length;t++)om.add(e[t])}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fc=Object.prototype.hasOwnProperty,c1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kh={},Ch={};function u1(t){return fc.call(Ch,t)?!0:fc.call(kh,t)?!1:c1.test(t)?Ch[t]=!0:(kh[t]=!0,!1)}function d1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function h1(t,e,n,r){if(e===null||typeof e>"u"||d1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dt(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qe[t]=new dt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qe[e]=new dt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qe[t]=new dt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qe[t]=new dt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qe[t]=new dt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qe[t]=new dt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qe[t]=new dt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qe[t]=new dt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qe[t]=new dt(t,5,!1,t.toLowerCase(),null,!1,!1)});var xu=/[\-:]([a-z])/g;function ku(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xu,ku);Qe[e]=new dt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xu,ku);Qe[e]=new dt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xu,ku);Qe[e]=new dt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qe[t]=new dt(t,1,!1,t.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qe[t]=new dt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cu(t,e,n,r){var s=Qe.hasOwnProperty(e)?Qe[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(h1(e,n,s,r)&&(n=null),r||s===null?u1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var zn=l1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,To=Symbol.for("react.element"),us=Symbol.for("react.portal"),ds=Symbol.for("react.fragment"),Nu=Symbol.for("react.strict_mode"),pc=Symbol.for("react.profiler"),am=Symbol.for("react.provider"),lm=Symbol.for("react.context"),Iu=Symbol.for("react.forward_ref"),mc=Symbol.for("react.suspense"),gc=Symbol.for("react.suspense_list"),Tu=Symbol.for("react.memo"),Zn=Symbol.for("react.lazy"),cm=Symbol.for("react.offscreen"),Nh=Symbol.iterator;function li(t){return t===null||typeof t!="object"?null:(t=Nh&&t[Nh]||t["@@iterator"],typeof t=="function"?t:null)}var Ce=Object.assign,jl;function vi(t){if(jl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);jl=e&&e[1]||""}return`
`+jl+t}var Al=!1;function Rl(t,e){if(!t||Al)return"";Al=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var s=f.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,u=i.length-1;1<=a&&0<=u&&s[a]!==i[u];)u--;for(;1<=a&&0<=u;a--,u--)if(s[a]!==i[u]){if(a!==1||u!==1)do if(a--,u--,0>u||s[a]!==i[u]){var d=`
`+s[a].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=a&&0<=u);break}}}finally{Al=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?vi(t):""}function f1(t){switch(t.tag){case 5:return vi(t.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 2:case 15:return t=Rl(t.type,!1),t;case 11:return t=Rl(t.type.render,!1),t;case 1:return t=Rl(t.type,!0),t;default:return""}}function yc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ds:return"Fragment";case us:return"Portal";case pc:return"Profiler";case Nu:return"StrictMode";case mc:return"Suspense";case gc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case lm:return(t.displayName||"Context")+".Consumer";case am:return(t._context.displayName||"Context")+".Provider";case Iu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Tu:return e=t.displayName||null,e!==null?e:yc(t.type)||"Memo";case Zn:e=t._payload,t=t._init;try{return yc(t(e))}catch{}}return null}function p1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yc(e);case 8:return e===Nu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function wr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function um(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function m1(t){var e=um(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Po(t){t._valueTracker||(t._valueTracker=m1(t))}function dm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=um(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ha(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vc(t,e){var n=e.checked;return Ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ih(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=wr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hm(t,e){e=e.checked,e!=null&&Cu(t,"checked",e,!1)}function _c(t,e){hm(t,e);var n=wr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wc(t,e.type,n):e.hasOwnProperty("defaultValue")&&wc(t,e.type,wr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Th(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function wc(t,e,n){(e!=="number"||ha(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _i=Array.isArray;function xs(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+wr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Sc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return Ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ph(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(_i(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:wr(n)}}function fm(t,e){var n=wr(e.value),r=wr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function pm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ec(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?pm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jo,mm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(jo=jo||document.createElement("div"),jo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Mi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ei={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},g1=["Webkit","ms","Moz","O"];Object.keys(Ei).forEach(function(t){g1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ei[e]=Ei[t]})});function gm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ei.hasOwnProperty(t)&&Ei[t]?(""+e).trim():e+"px"}function ym(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=gm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var y1=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xc(t,e){if(e){if(y1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function kc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cc=null;function Pu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Nc=null,ks=null,Cs=null;function Ah(t){if(t=ao(t)){if(typeof Nc!="function")throw Error(F(280));var e=t.stateNode;e&&(e=Za(e),Nc(t.stateNode,t.type,e))}}function vm(t){ks?Cs?Cs.push(t):Cs=[t]:ks=t}function _m(){if(ks){var t=ks,e=Cs;if(Cs=ks=null,Ah(t),e)for(t=0;t<e.length;t++)Ah(e[t])}}function wm(t,e){return t(e)}function Sm(){}var Dl=!1;function Em(t,e,n){if(Dl)return t(e,n);Dl=!0;try{return wm(t,e,n)}finally{Dl=!1,(ks!==null||Cs!==null)&&(Sm(),_m())}}function Ui(t,e){var n=t.stateNode;if(n===null)return null;var r=Za(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var Ic=!1;if(Dn)try{var ci={};Object.defineProperty(ci,"passive",{get:function(){Ic=!0}}),window.addEventListener("test",ci,ci),window.removeEventListener("test",ci,ci)}catch{Ic=!1}function v1(t,e,n,r,s,i,a,u,d){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(_){this.onError(_)}}var xi=!1,fa=null,pa=!1,Tc=null,_1={onError:function(t){xi=!0,fa=t}};function w1(t,e,n,r,s,i,a,u,d){xi=!1,fa=null,v1.apply(_1,arguments)}function S1(t,e,n,r,s,i,a,u,d){if(w1.apply(this,arguments),xi){if(xi){var f=fa;xi=!1,fa=null}else throw Error(F(198));pa||(pa=!0,Tc=f)}}function rs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Rh(t){if(rs(t)!==t)throw Error(F(188))}function E1(t){var e=t.alternate;if(!e){if(e=rs(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Rh(s),t;if(i===r)return Rh(s),e;i=i.sibling}throw Error(F(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,u=s.child;u;){if(u===n){a=!0,n=s,r=i;break}if(u===r){a=!0,r=s,n=i;break}u=u.sibling}if(!a){for(u=i.child;u;){if(u===n){a=!0,n=i,r=s;break}if(u===r){a=!0,r=i,n=s;break}u=u.sibling}if(!a)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function km(t){return t=E1(t),t!==null?Cm(t):null}function Cm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Cm(t);if(e!==null)return e;t=t.sibling}return null}var Nm=Nt.unstable_scheduleCallback,Dh=Nt.unstable_cancelCallback,x1=Nt.unstable_shouldYield,k1=Nt.unstable_requestPaint,Re=Nt.unstable_now,C1=Nt.unstable_getCurrentPriorityLevel,ju=Nt.unstable_ImmediatePriority,Im=Nt.unstable_UserBlockingPriority,ma=Nt.unstable_NormalPriority,N1=Nt.unstable_LowPriority,Tm=Nt.unstable_IdlePriority,qa=null,pn=null;function I1(t){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(qa,t,void 0,(t.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:j1,T1=Math.log,P1=Math.LN2;function j1(t){return t>>>=0,t===0?32:31-(T1(t)/P1|0)|0}var Ao=64,Ro=4194304;function wi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ga(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var u=a&~s;u!==0?r=wi(u):(i&=a,i!==0&&(r=wi(i)))}else a=n&~s,a!==0?r=wi(a):i!==0&&(r=wi(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Zt(e),s=1<<n,r|=t[n],e&=~s;return r}function A1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function R1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Zt(i),u=1<<a,d=s[a];d===-1?(!(u&n)||u&r)&&(s[a]=A1(u,e)):d<=e&&(t.expiredLanes|=u),i&=~u}}function Pc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Pm(){var t=Ao;return Ao<<=1,!(Ao&4194240)&&(Ao=64),t}function bl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function io(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zt(e),t[e]=n}function D1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Zt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Au(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Zt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ue=0;function jm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Am,Ru,Rm,Dm,bm,jc=!1,Do=[],ur=null,dr=null,hr=null,Fi=new Map,zi=new Map,tr=[],b1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bh(t,e){switch(t){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":Fi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zi.delete(e.pointerId)}}function ui(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ao(e),e!==null&&Ru(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function O1(t,e,n,r,s){switch(e){case"focusin":return ur=ui(ur,t,e,n,r,s),!0;case"dragenter":return dr=ui(dr,t,e,n,r,s),!0;case"mouseover":return hr=ui(hr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Fi.set(i,ui(Fi.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,zi.set(i,ui(zi.get(i)||null,t,e,n,r,s)),!0}return!1}function Om(t){var e=Mr(t.target);if(e!==null){var n=rs(e);if(n!==null){if(e=n.tag,e===13){if(e=xm(n),e!==null){t.blockedOn=e,bm(t.priority,function(){Rm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ac(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Cc=r,n.target.dispatchEvent(r),Cc=null}else return e=ao(n),e!==null&&Ru(e),t.blockedOn=n,!1;e.shift()}return!0}function Oh(t,e,n){Yo(t)&&n.delete(e)}function L1(){jc=!1,ur!==null&&Yo(ur)&&(ur=null),dr!==null&&Yo(dr)&&(dr=null),hr!==null&&Yo(hr)&&(hr=null),Fi.forEach(Oh),zi.forEach(Oh)}function di(t,e){t.blockedOn===e&&(t.blockedOn=null,jc||(jc=!0,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,L1)))}function Bi(t){function e(s){return di(s,t)}if(0<Do.length){di(Do[0],t);for(var n=1;n<Do.length;n++){var r=Do[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ur!==null&&di(ur,t),dr!==null&&di(dr,t),hr!==null&&di(hr,t),Fi.forEach(e),zi.forEach(e),n=0;n<tr.length;n++)r=tr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<tr.length&&(n=tr[0],n.blockedOn===null);)Om(n),n.blockedOn===null&&tr.shift()}var Ns=zn.ReactCurrentBatchConfig,ya=!0;function M1(t,e,n,r){var s=ue,i=Ns.transition;Ns.transition=null;try{ue=1,Du(t,e,n,r)}finally{ue=s,Ns.transition=i}}function U1(t,e,n,r){var s=ue,i=Ns.transition;Ns.transition=null;try{ue=4,Du(t,e,n,r)}finally{ue=s,Ns.transition=i}}function Du(t,e,n,r){if(ya){var s=Ac(t,e,n,r);if(s===null)Hl(t,e,r,va,n),bh(t,r);else if(O1(s,t,e,n,r))r.stopPropagation();else if(bh(t,r),e&4&&-1<b1.indexOf(t)){for(;s!==null;){var i=ao(s);if(i!==null&&Am(i),i=Ac(t,e,n,r),i===null&&Hl(t,e,r,va,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Hl(t,e,r,null,n)}}var va=null;function Ac(t,e,n,r){if(va=null,t=Pu(r),t=Mr(t),t!==null)if(e=rs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=xm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return va=t,null}function Lm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(C1()){case ju:return 1;case Im:return 4;case ma:case N1:return 16;case Tm:return 536870912;default:return 16}default:return 16}}var ar=null,bu=null,Xo=null;function Mm(){if(Xo)return Xo;var t,e=bu,n=e.length,r,s="value"in ar?ar.value:ar.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Xo=s.slice(t,1<r?1-r:void 0)}function Qo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bo(){return!0}function Lh(){return!1}function Tt(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?bo:Lh,this.isPropagationStopped=Lh,this}return Ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bo)},persist:function(){},isPersistent:bo}),e}var $s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ou=Tt($s),oo=Ce({},$s,{view:0,detail:0}),F1=Tt(oo),Ol,Ll,hi,Ya=Ce({},oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hi&&(hi&&t.type==="mousemove"?(Ol=t.screenX-hi.screenX,Ll=t.screenY-hi.screenY):Ll=Ol=0,hi=t),Ol)},movementY:function(t){return"movementY"in t?t.movementY:Ll}}),Mh=Tt(Ya),z1=Ce({},Ya,{dataTransfer:0}),B1=Tt(z1),V1=Ce({},oo,{relatedTarget:0}),Ml=Tt(V1),$1=Ce({},$s,{animationName:0,elapsedTime:0,pseudoElement:0}),H1=Tt($1),W1=Ce({},$s,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),G1=Tt(W1),K1=Ce({},$s,{data:0}),Uh=Tt(K1),J1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Y1[t])?!!e[t]:!1}function Lu(){return X1}var Q1=Ce({},oo,{key:function(t){if(t.key){var e=J1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?q1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lu,charCode:function(t){return t.type==="keypress"?Qo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Z1=Tt(Q1),e0=Ce({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fh=Tt(e0),t0=Ce({},oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lu}),n0=Tt(t0),r0=Ce({},$s,{propertyName:0,elapsedTime:0,pseudoElement:0}),s0=Tt(r0),i0=Ce({},Ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),o0=Tt(i0),a0=[9,13,27,32],Mu=Dn&&"CompositionEvent"in window,ki=null;Dn&&"documentMode"in document&&(ki=document.documentMode);var l0=Dn&&"TextEvent"in window&&!ki,Um=Dn&&(!Mu||ki&&8<ki&&11>=ki),zh=" ",Bh=!1;function Fm(t,e){switch(t){case"keyup":return a0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hs=!1;function c0(t,e){switch(t){case"compositionend":return zm(e);case"keypress":return e.which!==32?null:(Bh=!0,zh);case"textInput":return t=e.data,t===zh&&Bh?null:t;default:return null}}function u0(t,e){if(hs)return t==="compositionend"||!Mu&&Fm(t,e)?(t=Mm(),Xo=bu=ar=null,hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Um&&e.locale!=="ko"?null:e.data;default:return null}}var d0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!d0[t.type]:e==="textarea"}function Bm(t,e,n,r){vm(r),e=_a(e,"onChange"),0<e.length&&(n=new Ou("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ci=null,Vi=null;function h0(t){Qm(t,0)}function Xa(t){var e=ms(t);if(dm(e))return t}function f0(t,e){if(t==="change")return e}var Vm=!1;if(Dn){var Ul;if(Dn){var Fl="oninput"in document;if(!Fl){var $h=document.createElement("div");$h.setAttribute("oninput","return;"),Fl=typeof $h.oninput=="function"}Ul=Fl}else Ul=!1;Vm=Ul&&(!document.documentMode||9<document.documentMode)}function Hh(){Ci&&(Ci.detachEvent("onpropertychange",$m),Vi=Ci=null)}function $m(t){if(t.propertyName==="value"&&Xa(Vi)){var e=[];Bm(e,Vi,t,Pu(t)),Em(h0,e)}}function p0(t,e,n){t==="focusin"?(Hh(),Ci=e,Vi=n,Ci.attachEvent("onpropertychange",$m)):t==="focusout"&&Hh()}function m0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xa(Vi)}function g0(t,e){if(t==="click")return Xa(e)}function y0(t,e){if(t==="input"||t==="change")return Xa(e)}function v0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tn=typeof Object.is=="function"?Object.is:v0;function $i(t,e){if(tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!fc.call(e,s)||!tn(t[s],e[s]))return!1}return!0}function Wh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gh(t,e){var n=Wh(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wh(n)}}function Hm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Hm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Wm(){for(var t=window,e=ha();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ha(t.document)}return e}function Uu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _0(t){var e=Wm(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Hm(n.ownerDocument.documentElement,n)){if(r!==null&&Uu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Gh(n,i);var a=Gh(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var w0=Dn&&"documentMode"in document&&11>=document.documentMode,fs=null,Rc=null,Ni=null,Dc=!1;function Kh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dc||fs==null||fs!==ha(r)||(r=fs,"selectionStart"in r&&Uu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ni&&$i(Ni,r)||(Ni=r,r=_a(Rc,"onSelect"),0<r.length&&(e=new Ou("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=fs)))}function Oo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ps={animationend:Oo("Animation","AnimationEnd"),animationiteration:Oo("Animation","AnimationIteration"),animationstart:Oo("Animation","AnimationStart"),transitionend:Oo("Transition","TransitionEnd")},zl={},Gm={};Dn&&(Gm=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function Qa(t){if(zl[t])return zl[t];if(!ps[t])return t;var e=ps[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Gm)return zl[t]=e[n];return t}var Km=Qa("animationend"),Jm=Qa("animationiteration"),qm=Qa("animationstart"),Ym=Qa("transitionend"),Xm=new Map,Jh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(t,e){Xm.set(t,e),ns(e,[t])}for(var Bl=0;Bl<Jh.length;Bl++){var Vl=Jh[Bl],S0=Vl.toLowerCase(),E0=Vl[0].toUpperCase()+Vl.slice(1);kr(S0,"on"+E0)}kr(Km,"onAnimationEnd");kr(Jm,"onAnimationIteration");kr(qm,"onAnimationStart");kr("dblclick","onDoubleClick");kr("focusin","onFocus");kr("focusout","onBlur");kr(Ym,"onTransitionEnd");Ds("onMouseEnter",["mouseout","mouseover"]);Ds("onMouseLeave",["mouseout","mouseover"]);Ds("onPointerEnter",["pointerout","pointerover"]);Ds("onPointerLeave",["pointerout","pointerover"]);ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Si="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Si));function qh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,S1(r,e,void 0,t),t.currentTarget=null}function Qm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var u=r[a],d=u.instance,f=u.currentTarget;if(u=u.listener,d!==i&&s.isPropagationStopped())break e;qh(s,u,f),i=d}else for(a=0;a<r.length;a++){if(u=r[a],d=u.instance,f=u.currentTarget,u=u.listener,d!==i&&s.isPropagationStopped())break e;qh(s,u,f),i=d}}}if(pa)throw t=Tc,pa=!1,Tc=null,t}function ye(t,e){var n=e[Uc];n===void 0&&(n=e[Uc]=new Set);var r=t+"__bubble";n.has(r)||(Zm(e,t,2,!1),n.add(r))}function $l(t,e,n){var r=0;e&&(r|=4),Zm(n,t,r,e)}var Lo="_reactListening"+Math.random().toString(36).slice(2);function Hi(t){if(!t[Lo]){t[Lo]=!0,om.forEach(function(n){n!=="selectionchange"&&(x0.has(n)||$l(n,!1,t),$l(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Lo]||(e[Lo]=!0,$l("selectionchange",!1,e))}}function Zm(t,e,n,r){switch(Lm(e)){case 1:var s=M1;break;case 4:s=U1;break;default:s=Du}n=s.bind(null,e,n,t),s=void 0,!Ic||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Hl(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var u=r.stateNode.containerInfo;if(u===s||u.nodeType===8&&u.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var d=a.tag;if((d===3||d===4)&&(d=a.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;a=a.return}for(;u!==null;){if(a=Mr(u),a===null)return;if(d=a.tag,d===5||d===6){r=i=a;continue e}u=u.parentNode}}r=r.return}Em(function(){var f=i,_=Pu(n),g=[];e:{var x=Xm.get(t);if(x!==void 0){var T=Ou,D=t;switch(t){case"keypress":if(Qo(n)===0)break e;case"keydown":case"keyup":T=Z1;break;case"focusin":D="focus",T=Ml;break;case"focusout":D="blur",T=Ml;break;case"beforeblur":case"afterblur":T=Ml;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=Mh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=B1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=n0;break;case Km:case Jm:case qm:T=H1;break;case Ym:T=s0;break;case"scroll":T=F1;break;case"wheel":T=o0;break;case"copy":case"cut":case"paste":T=G1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=Fh}var R=(e&4)!==0,A=!R&&t==="scroll",E=R?x!==null?x+"Capture":null:x;R=[];for(var S=f,y;S!==null;){y=S;var P=y.stateNode;if(y.tag===5&&P!==null&&(y=P,E!==null&&(P=Ui(S,E),P!=null&&R.push(Wi(S,P,y)))),A)break;S=S.return}0<R.length&&(x=new T(x,D,null,n,_),g.push({event:x,listeners:R}))}}if(!(e&7)){e:{if(x=t==="mouseover"||t==="pointerover",T=t==="mouseout"||t==="pointerout",x&&n!==Cc&&(D=n.relatedTarget||n.fromElement)&&(Mr(D)||D[bn]))break e;if((T||x)&&(x=_.window===_?_:(x=_.ownerDocument)?x.defaultView||x.parentWindow:window,T?(D=n.relatedTarget||n.toElement,T=f,D=D?Mr(D):null,D!==null&&(A=rs(D),D!==A||D.tag!==5&&D.tag!==6)&&(D=null)):(T=null,D=f),T!==D)){if(R=Mh,P="onMouseLeave",E="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(R=Fh,P="onPointerLeave",E="onPointerEnter",S="pointer"),A=T==null?x:ms(T),y=D==null?x:ms(D),x=new R(P,S+"leave",T,n,_),x.target=A,x.relatedTarget=y,P=null,Mr(_)===f&&(R=new R(E,S+"enter",D,n,_),R.target=y,R.relatedTarget=A,P=R),A=P,T&&D)t:{for(R=T,E=D,S=0,y=R;y;y=cs(y))S++;for(y=0,P=E;P;P=cs(P))y++;for(;0<S-y;)R=cs(R),S--;for(;0<y-S;)E=cs(E),y--;for(;S--;){if(R===E||E!==null&&R===E.alternate)break t;R=cs(R),E=cs(E)}R=null}else R=null;T!==null&&Yh(g,x,T,R,!1),D!==null&&A!==null&&Yh(g,A,D,R,!0)}}e:{if(x=f?ms(f):window,T=x.nodeName&&x.nodeName.toLowerCase(),T==="select"||T==="input"&&x.type==="file")var M=f0;else if(Vh(x))if(Vm)M=y0;else{M=m0;var U=p0}else(T=x.nodeName)&&T.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(M=g0);if(M&&(M=M(t,f))){Bm(g,M,n,_);break e}U&&U(t,x,f),t==="focusout"&&(U=x._wrapperState)&&U.controlled&&x.type==="number"&&wc(x,"number",x.value)}switch(U=f?ms(f):window,t){case"focusin":(Vh(U)||U.contentEditable==="true")&&(fs=U,Rc=f,Ni=null);break;case"focusout":Ni=Rc=fs=null;break;case"mousedown":Dc=!0;break;case"contextmenu":case"mouseup":case"dragend":Dc=!1,Kh(g,n,_);break;case"selectionchange":if(w0)break;case"keydown":case"keyup":Kh(g,n,_)}var w;if(Mu)e:{switch(t){case"compositionstart":var p="onCompositionStart";break e;case"compositionend":p="onCompositionEnd";break e;case"compositionupdate":p="onCompositionUpdate";break e}p=void 0}else hs?Fm(t,n)&&(p="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(p="onCompositionStart");p&&(Um&&n.locale!=="ko"&&(hs||p!=="onCompositionStart"?p==="onCompositionEnd"&&hs&&(w=Mm()):(ar=_,bu="value"in ar?ar.value:ar.textContent,hs=!0)),U=_a(f,p),0<U.length&&(p=new Uh(p,t,null,n,_),g.push({event:p,listeners:U}),w?p.data=w:(w=zm(n),w!==null&&(p.data=w)))),(w=l0?c0(t,n):u0(t,n))&&(f=_a(f,"onBeforeInput"),0<f.length&&(_=new Uh("onBeforeInput","beforeinput",null,n,_),g.push({event:_,listeners:f}),_.data=w))}Qm(g,e)})}function Wi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function _a(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ui(t,n),i!=null&&r.unshift(Wi(t,i,s)),i=Ui(t,e),i!=null&&r.push(Wi(t,i,s))),t=t.return}return r}function cs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yh(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var u=n,d=u.alternate,f=u.stateNode;if(d!==null&&d===r)break;u.tag===5&&f!==null&&(u=f,s?(d=Ui(n,i),d!=null&&a.unshift(Wi(n,d,u))):s||(d=Ui(n,i),d!=null&&a.push(Wi(n,d,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var k0=/\r\n?/g,C0=/\u0000|\uFFFD/g;function Xh(t){return(typeof t=="string"?t:""+t).replace(k0,`
`).replace(C0,"")}function Mo(t,e,n){if(e=Xh(e),Xh(t)!==e&&n)throw Error(F(425))}function wa(){}var bc=null,Oc=null;function Lc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Mc=typeof setTimeout=="function"?setTimeout:void 0,N0=typeof clearTimeout=="function"?clearTimeout:void 0,Qh=typeof Promise=="function"?Promise:void 0,I0=typeof queueMicrotask=="function"?queueMicrotask:typeof Qh<"u"?function(t){return Qh.resolve(null).then(t).catch(T0)}:Mc;function T0(t){setTimeout(function(){throw t})}function Wl(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Bi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Bi(e)}function fr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Zh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Hs=Math.random().toString(36).slice(2),hn="__reactFiber$"+Hs,Gi="__reactProps$"+Hs,bn="__reactContainer$"+Hs,Uc="__reactEvents$"+Hs,P0="__reactListeners$"+Hs,j0="__reactHandles$"+Hs;function Mr(t){var e=t[hn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[bn]||n[hn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Zh(t);t!==null;){if(n=t[hn])return n;t=Zh(t)}return e}t=n,n=t.parentNode}return null}function ao(t){return t=t[hn]||t[bn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ms(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function Za(t){return t[Gi]||null}var Fc=[],gs=-1;function Cr(t){return{current:t}}function ve(t){0>gs||(t.current=Fc[gs],Fc[gs]=null,gs--)}function me(t,e){gs++,Fc[gs]=t.current,t.current=e}var Sr={},it=Cr(Sr),mt=Cr(!1),Kr=Sr;function bs(t,e){var n=t.type.contextTypes;if(!n)return Sr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function gt(t){return t=t.childContextTypes,t!=null}function Sa(){ve(mt),ve(it)}function ef(t,e,n){if(it.current!==Sr)throw Error(F(168));me(it,e),me(mt,n)}function eg(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(F(108,p1(t)||"Unknown",s));return Ce({},n,r)}function Ea(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Sr,Kr=it.current,me(it,t),me(mt,mt.current),!0}function tf(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=eg(t,e,Kr),r.__reactInternalMemoizedMergedChildContext=t,ve(mt),ve(it),me(it,t)):ve(mt),me(mt,n)}var Nn=null,el=!1,Gl=!1;function tg(t){Nn===null?Nn=[t]:Nn.push(t)}function A0(t){el=!0,tg(t)}function Nr(){if(!Gl&&Nn!==null){Gl=!0;var t=0,e=ue;try{var n=Nn;for(ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Nn=null,el=!1}catch(s){throw Nn!==null&&(Nn=Nn.slice(t+1)),Nm(ju,Nr),s}finally{ue=e,Gl=!1}}return null}var ys=[],vs=0,xa=null,ka=0,Rt=[],Dt=0,Jr=null,Tn=1,Pn="";function Dr(t,e){ys[vs++]=ka,ys[vs++]=xa,xa=t,ka=e}function ng(t,e,n){Rt[Dt++]=Tn,Rt[Dt++]=Pn,Rt[Dt++]=Jr,Jr=t;var r=Tn;t=Pn;var s=32-Zt(r)-1;r&=~(1<<s),n+=1;var i=32-Zt(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Tn=1<<32-Zt(e)+s|n<<s|r,Pn=i+t}else Tn=1<<i|n<<s|r,Pn=t}function Fu(t){t.return!==null&&(Dr(t,1),ng(t,1,0))}function zu(t){for(;t===xa;)xa=ys[--vs],ys[vs]=null,ka=ys[--vs],ys[vs]=null;for(;t===Jr;)Jr=Rt[--Dt],Rt[Dt]=null,Pn=Rt[--Dt],Rt[Dt]=null,Tn=Rt[--Dt],Rt[Dt]=null}var Ct=null,kt=null,_e=!1,Kt=null;function rg(t,e){var n=bt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function nf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ct=t,kt=fr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ct=t,kt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Jr!==null?{id:Tn,overflow:Pn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=bt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ct=t,kt=null,!0):!1;default:return!1}}function zc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bc(t){if(_e){var e=kt;if(e){var n=e;if(!nf(t,e)){if(zc(t))throw Error(F(418));e=fr(n.nextSibling);var r=Ct;e&&nf(t,e)?rg(r,n):(t.flags=t.flags&-4097|2,_e=!1,Ct=t)}}else{if(zc(t))throw Error(F(418));t.flags=t.flags&-4097|2,_e=!1,Ct=t}}}function rf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ct=t}function Uo(t){if(t!==Ct)return!1;if(!_e)return rf(t),_e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Lc(t.type,t.memoizedProps)),e&&(e=kt)){if(zc(t))throw sg(),Error(F(418));for(;e;)rg(t,e),e=fr(e.nextSibling)}if(rf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kt=fr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kt=null}}else kt=Ct?fr(t.stateNode.nextSibling):null;return!0}function sg(){for(var t=kt;t;)t=fr(t.nextSibling)}function Os(){kt=Ct=null,_e=!1}function Bu(t){Kt===null?Kt=[t]:Kt.push(t)}var R0=zn.ReactCurrentBatchConfig;function fi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var u=s.refs;a===null?delete u[i]:u[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function Fo(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sf(t){var e=t._init;return e(t._payload)}function ig(t){function e(E,S){if(t){var y=E.deletions;y===null?(E.deletions=[S],E.flags|=16):y.push(S)}}function n(E,S){if(!t)return null;for(;S!==null;)e(E,S),S=S.sibling;return null}function r(E,S){for(E=new Map;S!==null;)S.key!==null?E.set(S.key,S):E.set(S.index,S),S=S.sibling;return E}function s(E,S){return E=yr(E,S),E.index=0,E.sibling=null,E}function i(E,S,y){return E.index=y,t?(y=E.alternate,y!==null?(y=y.index,y<S?(E.flags|=2,S):y):(E.flags|=2,S)):(E.flags|=1048576,S)}function a(E){return t&&E.alternate===null&&(E.flags|=2),E}function u(E,S,y,P){return S===null||S.tag!==6?(S=Zl(y,E.mode,P),S.return=E,S):(S=s(S,y),S.return=E,S)}function d(E,S,y,P){var M=y.type;return M===ds?_(E,S,y.props.children,P,y.key):S!==null&&(S.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Zn&&sf(M)===S.type)?(P=s(S,y.props),P.ref=fi(E,S,y),P.return=E,P):(P=ia(y.type,y.key,y.props,null,E.mode,P),P.ref=fi(E,S,y),P.return=E,P)}function f(E,S,y,P){return S===null||S.tag!==4||S.stateNode.containerInfo!==y.containerInfo||S.stateNode.implementation!==y.implementation?(S=ec(y,E.mode,P),S.return=E,S):(S=s(S,y.children||[]),S.return=E,S)}function _(E,S,y,P,M){return S===null||S.tag!==7?(S=Vr(y,E.mode,P,M),S.return=E,S):(S=s(S,y),S.return=E,S)}function g(E,S,y){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Zl(""+S,E.mode,y),S.return=E,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case To:return y=ia(S.type,S.key,S.props,null,E.mode,y),y.ref=fi(E,null,S),y.return=E,y;case us:return S=ec(S,E.mode,y),S.return=E,S;case Zn:var P=S._init;return g(E,P(S._payload),y)}if(_i(S)||li(S))return S=Vr(S,E.mode,y,null),S.return=E,S;Fo(E,S)}return null}function x(E,S,y,P){var M=S!==null?S.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return M!==null?null:u(E,S,""+y,P);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case To:return y.key===M?d(E,S,y,P):null;case us:return y.key===M?f(E,S,y,P):null;case Zn:return M=y._init,x(E,S,M(y._payload),P)}if(_i(y)||li(y))return M!==null?null:_(E,S,y,P,null);Fo(E,y)}return null}function T(E,S,y,P,M){if(typeof P=="string"&&P!==""||typeof P=="number")return E=E.get(y)||null,u(S,E,""+P,M);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case To:return E=E.get(P.key===null?y:P.key)||null,d(S,E,P,M);case us:return E=E.get(P.key===null?y:P.key)||null,f(S,E,P,M);case Zn:var U=P._init;return T(E,S,y,U(P._payload),M)}if(_i(P)||li(P))return E=E.get(y)||null,_(S,E,P,M,null);Fo(S,P)}return null}function D(E,S,y,P){for(var M=null,U=null,w=S,p=S=0,v=null;w!==null&&p<y.length;p++){w.index>p?(v=w,w=null):v=w.sibling;var k=x(E,w,y[p],P);if(k===null){w===null&&(w=v);break}t&&w&&k.alternate===null&&e(E,w),S=i(k,S,p),U===null?M=k:U.sibling=k,U=k,w=v}if(p===y.length)return n(E,w),_e&&Dr(E,p),M;if(w===null){for(;p<y.length;p++)w=g(E,y[p],P),w!==null&&(S=i(w,S,p),U===null?M=w:U.sibling=w,U=w);return _e&&Dr(E,p),M}for(w=r(E,w);p<y.length;p++)v=T(w,E,p,y[p],P),v!==null&&(t&&v.alternate!==null&&w.delete(v.key===null?p:v.key),S=i(v,S,p),U===null?M=v:U.sibling=v,U=v);return t&&w.forEach(function(N){return e(E,N)}),_e&&Dr(E,p),M}function R(E,S,y,P){var M=li(y);if(typeof M!="function")throw Error(F(150));if(y=M.call(y),y==null)throw Error(F(151));for(var U=M=null,w=S,p=S=0,v=null,k=y.next();w!==null&&!k.done;p++,k=y.next()){w.index>p?(v=w,w=null):v=w.sibling;var N=x(E,w,k.value,P);if(N===null){w===null&&(w=v);break}t&&w&&N.alternate===null&&e(E,w),S=i(N,S,p),U===null?M=N:U.sibling=N,U=N,w=v}if(k.done)return n(E,w),_e&&Dr(E,p),M;if(w===null){for(;!k.done;p++,k=y.next())k=g(E,k.value,P),k!==null&&(S=i(k,S,p),U===null?M=k:U.sibling=k,U=k);return _e&&Dr(E,p),M}for(w=r(E,w);!k.done;p++,k=y.next())k=T(w,E,p,k.value,P),k!==null&&(t&&k.alternate!==null&&w.delete(k.key===null?p:k.key),S=i(k,S,p),U===null?M=k:U.sibling=k,U=k);return t&&w.forEach(function(j){return e(E,j)}),_e&&Dr(E,p),M}function A(E,S,y,P){if(typeof y=="object"&&y!==null&&y.type===ds&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case To:e:{for(var M=y.key,U=S;U!==null;){if(U.key===M){if(M=y.type,M===ds){if(U.tag===7){n(E,U.sibling),S=s(U,y.props.children),S.return=E,E=S;break e}}else if(U.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Zn&&sf(M)===U.type){n(E,U.sibling),S=s(U,y.props),S.ref=fi(E,U,y),S.return=E,E=S;break e}n(E,U);break}else e(E,U);U=U.sibling}y.type===ds?(S=Vr(y.props.children,E.mode,P,y.key),S.return=E,E=S):(P=ia(y.type,y.key,y.props,null,E.mode,P),P.ref=fi(E,S,y),P.return=E,E=P)}return a(E);case us:e:{for(U=y.key;S!==null;){if(S.key===U)if(S.tag===4&&S.stateNode.containerInfo===y.containerInfo&&S.stateNode.implementation===y.implementation){n(E,S.sibling),S=s(S,y.children||[]),S.return=E,E=S;break e}else{n(E,S);break}else e(E,S);S=S.sibling}S=ec(y,E.mode,P),S.return=E,E=S}return a(E);case Zn:return U=y._init,A(E,S,U(y._payload),P)}if(_i(y))return D(E,S,y,P);if(li(y))return R(E,S,y,P);Fo(E,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,S!==null&&S.tag===6?(n(E,S.sibling),S=s(S,y),S.return=E,E=S):(n(E,S),S=Zl(y,E.mode,P),S.return=E,E=S),a(E)):n(E,S)}return A}var Ls=ig(!0),og=ig(!1),Ca=Cr(null),Na=null,_s=null,Vu=null;function $u(){Vu=_s=Na=null}function Hu(t){var e=Ca.current;ve(Ca),t._currentValue=e}function Vc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Is(t,e){Na=t,Vu=_s=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pt=!0),t.firstContext=null)}function Mt(t){var e=t._currentValue;if(Vu!==t)if(t={context:t,memoizedValue:e,next:null},_s===null){if(Na===null)throw Error(F(308));_s=t,Na.dependencies={lanes:0,firstContext:t}}else _s=_s.next=t;return e}var Ur=null;function Wu(t){Ur===null?Ur=[t]:Ur.push(t)}function ag(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Wu(e)):(n.next=s.next,s.next=n),e.interleaved=n,On(t,r)}function On(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var er=!1;function Gu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Rn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function pr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,On(t,n)}return s=r.interleaved,s===null?(e.next=e,Wu(r)):(e.next=s.next,s.next=e),r.interleaved=e,On(t,n)}function Zo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Au(t,n)}}function of(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ia(t,e,n,r){var s=t.updateQueue;er=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var d=u,f=d.next;d.next=null,a===null?i=f:a.next=f,a=d;var _=t.alternate;_!==null&&(_=_.updateQueue,u=_.lastBaseUpdate,u!==a&&(u===null?_.firstBaseUpdate=f:u.next=f,_.lastBaseUpdate=d))}if(i!==null){var g=s.baseState;a=0,_=f=d=null,u=i;do{var x=u.lane,T=u.eventTime;if((r&x)===x){_!==null&&(_=_.next={eventTime:T,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var D=t,R=u;switch(x=e,T=n,R.tag){case 1:if(D=R.payload,typeof D=="function"){g=D.call(T,g,x);break e}g=D;break e;case 3:D.flags=D.flags&-65537|128;case 0:if(D=R.payload,x=typeof D=="function"?D.call(T,g,x):D,x==null)break e;g=Ce({},g,x);break e;case 2:er=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,x=s.effects,x===null?s.effects=[u]:x.push(u))}else T={eventTime:T,lane:x,tag:u.tag,payload:u.payload,callback:u.callback,next:null},_===null?(f=_=T,d=g):_=_.next=T,a|=x;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;x=u,u=x.next,x.next=null,s.lastBaseUpdate=x,s.shared.pending=null}}while(!0);if(_===null&&(d=g),s.baseState=d,s.firstBaseUpdate=f,s.lastBaseUpdate=_,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Yr|=a,t.lanes=a,t.memoizedState=g}}function af(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(F(191,s));s.call(r)}}}var lo={},mn=Cr(lo),Ki=Cr(lo),Ji=Cr(lo);function Fr(t){if(t===lo)throw Error(F(174));return t}function Ku(t,e){switch(me(Ji,e),me(Ki,t),me(mn,lo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ec(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ec(e,t)}ve(mn),me(mn,e)}function Ms(){ve(mn),ve(Ki),ve(Ji)}function cg(t){Fr(Ji.current);var e=Fr(mn.current),n=Ec(e,t.type);e!==n&&(me(Ki,t),me(mn,n))}function Ju(t){Ki.current===t&&(ve(mn),ve(Ki))}var xe=Cr(0);function Ta(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kl=[];function qu(){for(var t=0;t<Kl.length;t++)Kl[t]._workInProgressVersionPrimary=null;Kl.length=0}var ea=zn.ReactCurrentDispatcher,Jl=zn.ReactCurrentBatchConfig,qr=0,ke=null,Ve=null,We=null,Pa=!1,Ii=!1,qi=0,D0=0;function nt(){throw Error(F(321))}function Yu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tn(t[n],e[n]))return!1;return!0}function Xu(t,e,n,r,s,i){if(qr=i,ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ea.current=t===null||t.memoizedState===null?M0:U0,t=n(r,s),Ii){i=0;do{if(Ii=!1,qi=0,25<=i)throw Error(F(301));i+=1,We=Ve=null,e.updateQueue=null,ea.current=F0,t=n(r,s)}while(Ii)}if(ea.current=ja,e=Ve!==null&&Ve.next!==null,qr=0,We=Ve=ke=null,Pa=!1,e)throw Error(F(300));return t}function Qu(){var t=qi!==0;return qi=0,t}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?ke.memoizedState=We=t:We=We.next=t,We}function Ut(){if(Ve===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var e=We===null?ke.memoizedState:We.next;if(e!==null)We=e,Ve=t;else{if(t===null)throw Error(F(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},We===null?ke.memoizedState=We=t:We=We.next=t}return We}function Yi(t,e){return typeof e=="function"?e(t):e}function ql(t){var e=Ut(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=Ve,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var u=a=null,d=null,f=i;do{var _=f.lane;if((qr&_)===_)d!==null&&(d=d.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:t(r,f.action);else{var g={lane:_,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};d===null?(u=d=g,a=r):d=d.next=g,ke.lanes|=_,Yr|=_}f=f.next}while(f!==null&&f!==i);d===null?a=r:d.next=u,tn(r,e.memoizedState)||(pt=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=d,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ke.lanes|=i,Yr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Yl(t){var e=Ut(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);tn(i,e.memoizedState)||(pt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function ug(){}function dg(t,e){var n=ke,r=Ut(),s=e(),i=!tn(r.memoizedState,s);if(i&&(r.memoizedState=s,pt=!0),r=r.queue,Zu(pg.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||We!==null&&We.memoizedState.tag&1){if(n.flags|=2048,Xi(9,fg.bind(null,n,r,s,e),void 0,null),Ge===null)throw Error(F(349));qr&30||hg(n,e,s)}return s}function hg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fg(t,e,n,r){e.value=n,e.getSnapshot=r,mg(e)&&gg(t)}function pg(t,e,n){return n(function(){mg(e)&&gg(t)})}function mg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tn(t,n)}catch{return!0}}function gg(t){var e=On(t,1);e!==null&&en(e,t,1,-1)}function lf(t){var e=cn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:t},e.queue=t,t=t.dispatch=L0.bind(null,ke,t),[e.memoizedState,t]}function Xi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function yg(){return Ut().memoizedState}function ta(t,e,n,r){var s=cn();ke.flags|=t,s.memoizedState=Xi(1|e,n,void 0,r===void 0?null:r)}function tl(t,e,n,r){var s=Ut();r=r===void 0?null:r;var i=void 0;if(Ve!==null){var a=Ve.memoizedState;if(i=a.destroy,r!==null&&Yu(r,a.deps)){s.memoizedState=Xi(e,n,i,r);return}}ke.flags|=t,s.memoizedState=Xi(1|e,n,i,r)}function cf(t,e){return ta(8390656,8,t,e)}function Zu(t,e){return tl(2048,8,t,e)}function vg(t,e){return tl(4,2,t,e)}function _g(t,e){return tl(4,4,t,e)}function wg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Sg(t,e,n){return n=n!=null?n.concat([t]):null,tl(4,4,wg.bind(null,e,t),n)}function ed(){}function Eg(t,e){var n=Ut();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function xg(t,e){var n=Ut();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function kg(t,e,n){return qr&21?(tn(n,e)||(n=Pm(),ke.lanes|=n,Yr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pt=!0),t.memoizedState=n)}function b0(t,e){var n=ue;ue=n!==0&&4>n?n:4,t(!0);var r=Jl.transition;Jl.transition={};try{t(!1),e()}finally{ue=n,Jl.transition=r}}function Cg(){return Ut().memoizedState}function O0(t,e,n){var r=gr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ng(t))Ig(e,n);else if(n=ag(t,e,n,r),n!==null){var s=lt();en(n,t,r,s),Tg(n,e,r)}}function L0(t,e,n){var r=gr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ng(t))Ig(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,u=i(a,n);if(s.hasEagerState=!0,s.eagerState=u,tn(u,a)){var d=e.interleaved;d===null?(s.next=s,Wu(e)):(s.next=d.next,d.next=s),e.interleaved=s;return}}catch{}finally{}n=ag(t,e,s,r),n!==null&&(s=lt(),en(n,t,r,s),Tg(n,e,r))}}function Ng(t){var e=t.alternate;return t===ke||e!==null&&e===ke}function Ig(t,e){Ii=Pa=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Tg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Au(t,n)}}var ja={readContext:Mt,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},M0={readContext:Mt,useCallback:function(t,e){return cn().memoizedState=[t,e===void 0?null:e],t},useContext:Mt,useEffect:cf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ta(4194308,4,wg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ta(4194308,4,t,e)},useInsertionEffect:function(t,e){return ta(4,2,t,e)},useMemo:function(t,e){var n=cn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=cn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=O0.bind(null,ke,t),[r.memoizedState,t]},useRef:function(t){var e=cn();return t={current:t},e.memoizedState=t},useState:lf,useDebugValue:ed,useDeferredValue:function(t){return cn().memoizedState=t},useTransition:function(){var t=lf(!1),e=t[0];return t=b0.bind(null,t[1]),cn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ke,s=cn();if(_e){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),Ge===null)throw Error(F(349));qr&30||hg(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,cf(pg.bind(null,r,i,t),[t]),r.flags|=2048,Xi(9,fg.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=cn(),e=Ge.identifierPrefix;if(_e){var n=Pn,r=Tn;n=(r&~(1<<32-Zt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=qi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=D0++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},U0={readContext:Mt,useCallback:Eg,useContext:Mt,useEffect:Zu,useImperativeHandle:Sg,useInsertionEffect:vg,useLayoutEffect:_g,useMemo:xg,useReducer:ql,useRef:yg,useState:function(){return ql(Yi)},useDebugValue:ed,useDeferredValue:function(t){var e=Ut();return kg(e,Ve.memoizedState,t)},useTransition:function(){var t=ql(Yi)[0],e=Ut().memoizedState;return[t,e]},useMutableSource:ug,useSyncExternalStore:dg,useId:Cg,unstable_isNewReconciler:!1},F0={readContext:Mt,useCallback:Eg,useContext:Mt,useEffect:Zu,useImperativeHandle:Sg,useInsertionEffect:vg,useLayoutEffect:_g,useMemo:xg,useReducer:Yl,useRef:yg,useState:function(){return Yl(Yi)},useDebugValue:ed,useDeferredValue:function(t){var e=Ut();return Ve===null?e.memoizedState=t:kg(e,Ve.memoizedState,t)},useTransition:function(){var t=Yl(Yi)[0],e=Ut().memoizedState;return[t,e]},useMutableSource:ug,useSyncExternalStore:dg,useId:Cg,unstable_isNewReconciler:!1};function Wt(t,e){if(t&&t.defaultProps){e=Ce({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function $c(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nl={isMounted:function(t){return(t=t._reactInternals)?rs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=lt(),s=gr(t),i=Rn(r,s);i.payload=e,n!=null&&(i.callback=n),e=pr(t,i,s),e!==null&&(en(e,t,s,r),Zo(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=lt(),s=gr(t),i=Rn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=pr(t,i,s),e!==null&&(en(e,t,s,r),Zo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=lt(),r=gr(t),s=Rn(n,r);s.tag=2,e!=null&&(s.callback=e),e=pr(t,s,r),e!==null&&(en(e,t,r,n),Zo(e,t,r))}};function uf(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!$i(n,r)||!$i(s,i):!0}function Pg(t,e,n){var r=!1,s=Sr,i=e.contextType;return typeof i=="object"&&i!==null?i=Mt(i):(s=gt(e)?Kr:it.current,r=e.contextTypes,i=(r=r!=null)?bs(t,s):Sr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function df(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nl.enqueueReplaceState(e,e.state,null)}function Hc(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Gu(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Mt(i):(i=gt(e)?Kr:it.current,s.context=bs(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&($c(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&nl.enqueueReplaceState(s,s.state,null),Ia(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Us(t,e){try{var n="",r=e;do n+=f1(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Xl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Wc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var z0=typeof WeakMap=="function"?WeakMap:Map;function jg(t,e,n){n=Rn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ra||(Ra=!0,tu=r),Wc(t,e)},n}function Ag(t,e,n){n=Rn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Wc(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Wc(t,e),typeof r!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function hf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new z0;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=e_.bind(null,t,e,n),e.then(t,t))}function ff(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function pf(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Rn(-1,1),e.tag=2,pr(n,e,1))),n.lanes|=1),t)}var B0=zn.ReactCurrentOwner,pt=!1;function ot(t,e,n,r){e.child=t===null?og(e,null,n,r):Ls(e,t.child,n,r)}function mf(t,e,n,r,s){n=n.render;var i=e.ref;return Is(e,s),r=Xu(t,e,n,r,i,s),n=Qu(),t!==null&&!pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ln(t,e,s)):(_e&&n&&Fu(e),e.flags|=1,ot(t,e,r,s),e.child)}function gf(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ld(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Rg(t,e,i,r,s)):(t=ia(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:$i,n(a,r)&&t.ref===e.ref)return Ln(t,e,s)}return e.flags|=1,t=yr(i,r),t.ref=e.ref,t.return=e,e.child=t}function Rg(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if($i(i,r)&&t.ref===e.ref)if(pt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(pt=!0);else return e.lanes=t.lanes,Ln(t,e,s)}return Gc(t,e,n,r,s)}function Dg(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(Ss,xt),xt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,me(Ss,xt),xt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,me(Ss,xt),xt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,me(Ss,xt),xt|=r;return ot(t,e,s,n),e.child}function bg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gc(t,e,n,r,s){var i=gt(n)?Kr:it.current;return i=bs(e,i),Is(e,s),n=Xu(t,e,n,r,i,s),r=Qu(),t!==null&&!pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ln(t,e,s)):(_e&&r&&Fu(e),e.flags|=1,ot(t,e,n,s),e.child)}function yf(t,e,n,r,s){if(gt(n)){var i=!0;Ea(e)}else i=!1;if(Is(e,s),e.stateNode===null)na(t,e),Pg(e,n,r),Hc(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var d=a.context,f=n.contextType;typeof f=="object"&&f!==null?f=Mt(f):(f=gt(n)?Kr:it.current,f=bs(e,f));var _=n.getDerivedStateFromProps,g=typeof _=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==r||d!==f)&&df(e,a,r,f),er=!1;var x=e.memoizedState;a.state=x,Ia(e,r,a,s),d=e.memoizedState,u!==r||x!==d||mt.current||er?(typeof _=="function"&&($c(e,n,_,r),d=e.memoizedState),(u=er||uf(e,n,u,r,x,d,f))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=d),a.props=r,a.state=d,a.context=f,r=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,lg(t,e),u=e.memoizedProps,f=e.type===e.elementType?u:Wt(e.type,u),a.props=f,g=e.pendingProps,x=a.context,d=n.contextType,typeof d=="object"&&d!==null?d=Mt(d):(d=gt(n)?Kr:it.current,d=bs(e,d));var T=n.getDerivedStateFromProps;(_=typeof T=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==g||x!==d)&&df(e,a,r,d),er=!1,x=e.memoizedState,a.state=x,Ia(e,r,a,s);var D=e.memoizedState;u!==g||x!==D||mt.current||er?(typeof T=="function"&&($c(e,n,T,r),D=e.memoizedState),(f=er||uf(e,n,f,r,x,D,d)||!1)?(_||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,D,d),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,D,d)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&x===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&x===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=D),a.props=r,a.state=D,a.context=d,r=f):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&x===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&x===t.memoizedState||(e.flags|=1024),r=!1)}return Kc(t,e,n,r,i,s)}function Kc(t,e,n,r,s,i){bg(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&tf(e,n,!1),Ln(t,e,i);r=e.stateNode,B0.current=e;var u=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ls(e,t.child,null,i),e.child=Ls(e,null,u,i)):ot(t,e,u,i),e.memoizedState=r.state,s&&tf(e,n,!0),e.child}function Og(t){var e=t.stateNode;e.pendingContext?ef(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ef(t,e.context,!1),Ku(t,e.containerInfo)}function vf(t,e,n,r,s){return Os(),Bu(s),e.flags|=256,ot(t,e,n,r),e.child}var Jc={dehydrated:null,treeContext:null,retryLane:0};function qc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Lg(t,e,n){var r=e.pendingProps,s=xe.current,i=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=t!==null&&t.memoizedState===null?!1:(s&2)!==0),u?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),me(xe,s&1),t===null)return Bc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=il(a,r,0,null),t=Vr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=qc(n),e.memoizedState=Jc,t):td(e,a));if(s=t.memoizedState,s!==null&&(u=s.dehydrated,u!==null))return V0(t,e,a,r,u,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,u=s.sibling;var d={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=d,e.deletions=null):(r=yr(s,d),r.subtreeFlags=s.subtreeFlags&14680064),u!==null?i=yr(u,i):(i=Vr(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?qc(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=Jc,r}return i=t.child,t=i.sibling,r=yr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function td(t,e){return e=il({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zo(t,e,n,r){return r!==null&&Bu(r),Ls(e,t.child,null,n),t=td(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function V0(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Xl(Error(F(422))),zo(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=il({mode:"visible",children:r.children},s,0,null),i=Vr(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ls(e,t.child,null,a),e.child.memoizedState=qc(a),e.memoizedState=Jc,i);if(!(e.mode&1))return zo(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var u=r.dgst;return r=u,i=Error(F(419)),r=Xl(i,r,void 0),zo(t,e,a,r)}if(u=(a&t.childLanes)!==0,pt||u){if(r=Ge,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,On(t,s),en(r,t,s,-1))}return ad(),r=Xl(Error(F(421))),zo(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=t_.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,kt=fr(s.nextSibling),Ct=e,_e=!0,Kt=null,t!==null&&(Rt[Dt++]=Tn,Rt[Dt++]=Pn,Rt[Dt++]=Jr,Tn=t.id,Pn=t.overflow,Jr=e),e=td(e,r.children),e.flags|=4096,e)}function _f(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Vc(t.return,e,n)}function Ql(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Mg(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ot(t,e,r.children,n),r=xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_f(t,n,e);else if(t.tag===19)_f(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(me(xe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ta(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ql(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ta(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ql(e,!0,n,null,i);break;case"together":Ql(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function na(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ln(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Yr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=yr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=yr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $0(t,e,n){switch(e.tag){case 3:Og(e),Os();break;case 5:cg(e);break;case 1:gt(e.type)&&Ea(e);break;case 4:Ku(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;me(Ca,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(me(xe,xe.current&1),e.flags|=128,null):n&e.child.childLanes?Lg(t,e,n):(me(xe,xe.current&1),t=Ln(t,e,n),t!==null?t.sibling:null);me(xe,xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Mg(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),me(xe,xe.current),r)break;return null;case 22:case 23:return e.lanes=0,Dg(t,e,n)}return Ln(t,e,n)}var Ug,Yc,Fg,zg;Ug=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yc=function(){};Fg=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Fr(mn.current);var i=null;switch(n){case"input":s=vc(t,s),r=vc(t,r),i=[];break;case"select":s=Ce({},s,{value:void 0}),r=Ce({},r,{value:void 0}),i=[];break;case"textarea":s=Sc(t,s),r=Sc(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=wa)}xc(n,r);var a;n=null;for(f in s)if(!r.hasOwnProperty(f)&&s.hasOwnProperty(f)&&s[f]!=null)if(f==="style"){var u=s[f];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Li.hasOwnProperty(f)?i||(i=[]):(i=i||[]).push(f,null));for(f in r){var d=r[f];if(u=s!=null?s[f]:void 0,r.hasOwnProperty(f)&&d!==u&&(d!=null||u!=null))if(f==="style")if(u){for(a in u)!u.hasOwnProperty(a)||d&&d.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in d)d.hasOwnProperty(a)&&u[a]!==d[a]&&(n||(n={}),n[a]=d[a])}else n||(i||(i=[]),i.push(f,n)),n=d;else f==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(i=i||[]).push(f,d)):f==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(f,""+d):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Li.hasOwnProperty(f)?(d!=null&&f==="onScroll"&&ye("scroll",t),i||u===d||(i=[])):(i=i||[]).push(f,d))}n&&(i=i||[]).push("style",n);var f=i;(e.updateQueue=f)&&(e.flags|=4)}};zg=function(t,e,n,r){n!==r&&(e.flags|=4)};function pi(t,e){if(!_e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function rt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function H0(t,e,n){var r=e.pendingProps;switch(zu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(e),null;case 1:return gt(e.type)&&Sa(),rt(e),null;case 3:return r=e.stateNode,Ms(),ve(mt),ve(it),qu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Uo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kt!==null&&(su(Kt),Kt=null))),Yc(t,e),rt(e),null;case 5:Ju(e);var s=Fr(Ji.current);if(n=e.type,t!==null&&e.stateNode!=null)Fg(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return rt(e),null}if(t=Fr(mn.current),Uo(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[hn]=e,r[Gi]=i,t=(e.mode&1)!==0,n){case"dialog":ye("cancel",r),ye("close",r);break;case"iframe":case"object":case"embed":ye("load",r);break;case"video":case"audio":for(s=0;s<Si.length;s++)ye(Si[s],r);break;case"source":ye("error",r);break;case"img":case"image":case"link":ye("error",r),ye("load",r);break;case"details":ye("toggle",r);break;case"input":Ih(r,i),ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ye("invalid",r);break;case"textarea":Ph(r,i),ye("invalid",r)}xc(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var u=i[a];a==="children"?typeof u=="string"?r.textContent!==u&&(i.suppressHydrationWarning!==!0&&Mo(r.textContent,u,t),s=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&Mo(r.textContent,u,t),s=["children",""+u]):Li.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&ye("scroll",r)}switch(n){case"input":Po(r),Th(r,i,!0);break;case"textarea":Po(r),jh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=wa)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=pm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[hn]=e,t[Gi]=r,Ug(t,e,!1,!1),e.stateNode=t;e:{switch(a=kc(n,r),n){case"dialog":ye("cancel",t),ye("close",t),s=r;break;case"iframe":case"object":case"embed":ye("load",t),s=r;break;case"video":case"audio":for(s=0;s<Si.length;s++)ye(Si[s],t);s=r;break;case"source":ye("error",t),s=r;break;case"img":case"image":case"link":ye("error",t),ye("load",t),s=r;break;case"details":ye("toggle",t),s=r;break;case"input":Ih(t,r),s=vc(t,r),ye("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ce({},r,{value:void 0}),ye("invalid",t);break;case"textarea":Ph(t,r),s=Sc(t,r),ye("invalid",t);break;default:s=r}xc(n,s),u=s;for(i in u)if(u.hasOwnProperty(i)){var d=u[i];i==="style"?ym(t,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&mm(t,d)):i==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Mi(t,d):typeof d=="number"&&Mi(t,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Li.hasOwnProperty(i)?d!=null&&i==="onScroll"&&ye("scroll",t):d!=null&&Cu(t,i,d,a))}switch(n){case"input":Po(t),Th(t,r,!1);break;case"textarea":Po(t),jh(t);break;case"option":r.value!=null&&t.setAttribute("value",""+wr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?xs(t,!!r.multiple,i,!1):r.defaultValue!=null&&xs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=wa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return rt(e),null;case 6:if(t&&e.stateNode!=null)zg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=Fr(Ji.current),Fr(mn.current),Uo(e)){if(r=e.stateNode,n=e.memoizedProps,r[hn]=e,(i=r.nodeValue!==n)&&(t=Ct,t!==null))switch(t.tag){case 3:Mo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mo(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hn]=e,e.stateNode=r}return rt(e),null;case 13:if(ve(xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(_e&&kt!==null&&e.mode&1&&!(e.flags&128))sg(),Os(),e.flags|=98560,i=!1;else if(i=Uo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(F(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(F(317));i[hn]=e}else Os(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rt(e),i=!1}else Kt!==null&&(su(Kt),Kt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xe.current&1?$e===0&&($e=3):ad())),e.updateQueue!==null&&(e.flags|=4),rt(e),null);case 4:return Ms(),Yc(t,e),t===null&&Hi(e.stateNode.containerInfo),rt(e),null;case 10:return Hu(e.type._context),rt(e),null;case 17:return gt(e.type)&&Sa(),rt(e),null;case 19:if(ve(xe),i=e.memoizedState,i===null)return rt(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)pi(i,!1);else{if($e!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ta(t),a!==null){for(e.flags|=128,pi(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return me(xe,xe.current&1|2),e.child}t=t.sibling}i.tail!==null&&Re()>Fs&&(e.flags|=128,r=!0,pi(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ta(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),pi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!_e)return rt(e),null}else 2*Re()-i.renderingStartTime>Fs&&n!==1073741824&&(e.flags|=128,r=!0,pi(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Re(),e.sibling=null,n=xe.current,me(xe,r?n&1|2:n&1),e):(rt(e),null);case 22:case 23:return od(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?xt&1073741824&&(rt(e),e.subtreeFlags&6&&(e.flags|=8192)):rt(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function W0(t,e){switch(zu(e),e.tag){case 1:return gt(e.type)&&Sa(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ms(),ve(mt),ve(it),qu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ju(e),null;case 13:if(ve(xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));Os()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ve(xe),null;case 4:return Ms(),null;case 10:return Hu(e.type._context),null;case 22:case 23:return od(),null;case 24:return null;default:return null}}var Bo=!1,st=!1,G0=typeof WeakSet=="function"?WeakSet:Set,H=null;function ws(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pe(t,e,r)}else n.current=null}function Xc(t,e,n){try{n()}catch(r){Pe(t,e,r)}}var wf=!1;function K0(t,e){if(bc=ya,t=Wm(),Uu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,u=-1,d=-1,f=0,_=0,g=t,x=null;t:for(;;){for(var T;g!==n||s!==0&&g.nodeType!==3||(u=a+s),g!==i||r!==0&&g.nodeType!==3||(d=a+r),g.nodeType===3&&(a+=g.nodeValue.length),(T=g.firstChild)!==null;)x=g,g=T;for(;;){if(g===t)break t;if(x===n&&++f===s&&(u=a),x===i&&++_===r&&(d=a),(T=g.nextSibling)!==null)break;g=x,x=g.parentNode}g=T}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Oc={focusedElem:t,selectionRange:n},ya=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var D=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(D!==null){var R=D.memoizedProps,A=D.memoizedState,E=e.stateNode,S=E.getSnapshotBeforeUpdate(e.elementType===e.type?R:Wt(e.type,R),A);E.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(P){Pe(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return D=wf,wf=!1,D}function Ti(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Xc(e,n,i)}s=s.next}while(s!==r)}}function rl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Bg(t){var e=t.alternate;e!==null&&(t.alternate=null,Bg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hn],delete e[Gi],delete e[Uc],delete e[P0],delete e[j0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Vg(t){return t.tag===5||t.tag===3||t.tag===4}function Sf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wa));else if(r!==4&&(t=t.child,t!==null))for(Zc(t,e,n),t=t.sibling;t!==null;)Zc(t,e,n),t=t.sibling}function eu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(eu(t,e,n),t=t.sibling;t!==null;)eu(t,e,n),t=t.sibling}var Ye=null,Gt=!1;function Xn(t,e,n){for(n=n.child;n!==null;)$g(t,e,n),n=n.sibling}function $g(t,e,n){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(qa,n)}catch{}switch(n.tag){case 5:st||ws(n,e);case 6:var r=Ye,s=Gt;Ye=null,Xn(t,e,n),Ye=r,Gt=s,Ye!==null&&(Gt?(t=Ye,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(Gt?(t=Ye,n=n.stateNode,t.nodeType===8?Wl(t.parentNode,n):t.nodeType===1&&Wl(t,n),Bi(t)):Wl(Ye,n.stateNode));break;case 4:r=Ye,s=Gt,Ye=n.stateNode.containerInfo,Gt=!0,Xn(t,e,n),Ye=r,Gt=s;break;case 0:case 11:case 14:case 15:if(!st&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Xc(n,e,a),s=s.next}while(s!==r)}Xn(t,e,n);break;case 1:if(!st&&(ws(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Pe(n,e,u)}Xn(t,e,n);break;case 21:Xn(t,e,n);break;case 22:n.mode&1?(st=(r=st)||n.memoizedState!==null,Xn(t,e,n),st=r):Xn(t,e,n);break;default:Xn(t,e,n)}}function Ef(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new G0),e.forEach(function(r){var s=n_.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ht(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:Ye=u.stateNode,Gt=!1;break e;case 3:Ye=u.stateNode.containerInfo,Gt=!0;break e;case 4:Ye=u.stateNode.containerInfo,Gt=!0;break e}u=u.return}if(Ye===null)throw Error(F(160));$g(i,a,s),Ye=null,Gt=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(f){Pe(s,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Hg(e,t),e=e.sibling}function Hg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ht(e,t),an(t),r&4){try{Ti(3,t,t.return),rl(3,t)}catch(R){Pe(t,t.return,R)}try{Ti(5,t,t.return)}catch(R){Pe(t,t.return,R)}}break;case 1:Ht(e,t),an(t),r&512&&n!==null&&ws(n,n.return);break;case 5:if(Ht(e,t),an(t),r&512&&n!==null&&ws(n,n.return),t.flags&32){var s=t.stateNode;try{Mi(s,"")}catch(R){Pe(t,t.return,R)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,u=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&hm(s,i),kc(u,a);var f=kc(u,i);for(a=0;a<d.length;a+=2){var _=d[a],g=d[a+1];_==="style"?ym(s,g):_==="dangerouslySetInnerHTML"?mm(s,g):_==="children"?Mi(s,g):Cu(s,_,g,f)}switch(u){case"input":_c(s,i);break;case"textarea":fm(s,i);break;case"select":var x=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var T=i.value;T!=null?xs(s,!!i.multiple,T,!1):x!==!!i.multiple&&(i.defaultValue!=null?xs(s,!!i.multiple,i.defaultValue,!0):xs(s,!!i.multiple,i.multiple?[]:"",!1))}s[Gi]=i}catch(R){Pe(t,t.return,R)}}break;case 6:if(Ht(e,t),an(t),r&4){if(t.stateNode===null)throw Error(F(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(R){Pe(t,t.return,R)}}break;case 3:if(Ht(e,t),an(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bi(e.containerInfo)}catch(R){Pe(t,t.return,R)}break;case 4:Ht(e,t),an(t);break;case 13:Ht(e,t),an(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(sd=Re())),r&4&&Ef(t);break;case 22:if(_=n!==null&&n.memoizedState!==null,t.mode&1?(st=(f=st)||_,Ht(e,t),st=f):Ht(e,t),an(t),r&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!_&&t.mode&1)for(H=t,_=t.child;_!==null;){for(g=H=_;H!==null;){switch(x=H,T=x.child,x.tag){case 0:case 11:case 14:case 15:Ti(4,x,x.return);break;case 1:ws(x,x.return);var D=x.stateNode;if(typeof D.componentWillUnmount=="function"){r=x,n=x.return;try{e=r,D.props=e.memoizedProps,D.state=e.memoizedState,D.componentWillUnmount()}catch(R){Pe(r,n,R)}}break;case 5:ws(x,x.return);break;case 22:if(x.memoizedState!==null){kf(g);continue}}T!==null?(T.return=x,H=T):kf(g)}_=_.sibling}e:for(_=null,g=t;;){if(g.tag===5){if(_===null){_=g;try{s=g.stateNode,f?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=g.stateNode,d=g.memoizedProps.style,a=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=gm("display",a))}catch(R){Pe(t,t.return,R)}}}else if(g.tag===6){if(_===null)try{g.stateNode.nodeValue=f?"":g.memoizedProps}catch(R){Pe(t,t.return,R)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;_===g&&(_=null),g=g.return}_===g&&(_=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Ht(e,t),an(t),r&4&&Ef(t);break;case 21:break;default:Ht(e,t),an(t)}}function an(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Vg(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Mi(s,""),r.flags&=-33);var i=Sf(t);eu(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,u=Sf(t);Zc(t,u,a);break;default:throw Error(F(161))}}catch(d){Pe(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function J0(t,e,n){H=t,Wg(t)}function Wg(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var s=H,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Bo;if(!a){var u=s.alternate,d=u!==null&&u.memoizedState!==null||st;u=Bo;var f=st;if(Bo=a,(st=d)&&!f)for(H=s;H!==null;)a=H,d=a.child,a.tag===22&&a.memoizedState!==null?Cf(s):d!==null?(d.return=a,H=d):Cf(s);for(;i!==null;)H=i,Wg(i),i=i.sibling;H=s,Bo=u,st=f}xf(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,H=i):xf(t)}}function xf(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:st||rl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!st)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Wt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&af(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}af(e,a,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var _=f.memoizedState;if(_!==null){var g=_.dehydrated;g!==null&&Bi(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}st||e.flags&512&&Qc(e)}catch(x){Pe(e,e.return,x)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function kf(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function Cf(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rl(4,e)}catch(d){Pe(e,n,d)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(d){Pe(e,s,d)}}var i=e.return;try{Qc(e)}catch(d){Pe(e,i,d)}break;case 5:var a=e.return;try{Qc(e)}catch(d){Pe(e,a,d)}}}catch(d){Pe(e,e.return,d)}if(e===t){H=null;break}var u=e.sibling;if(u!==null){u.return=e.return,H=u;break}H=e.return}}var q0=Math.ceil,Aa=zn.ReactCurrentDispatcher,nd=zn.ReactCurrentOwner,Ot=zn.ReactCurrentBatchConfig,ie=0,Ge=null,be=null,Xe=0,xt=0,Ss=Cr(0),$e=0,Qi=null,Yr=0,sl=0,rd=0,Pi=null,ft=null,sd=0,Fs=1/0,Cn=null,Ra=!1,tu=null,mr=null,Vo=!1,lr=null,Da=0,ji=0,nu=null,ra=-1,sa=0;function lt(){return ie&6?Re():ra!==-1?ra:ra=Re()}function gr(t){return t.mode&1?ie&2&&Xe!==0?Xe&-Xe:R0.transition!==null?(sa===0&&(sa=Pm()),sa):(t=ue,t!==0||(t=window.event,t=t===void 0?16:Lm(t.type)),t):1}function en(t,e,n,r){if(50<ji)throw ji=0,nu=null,Error(F(185));io(t,n,r),(!(ie&2)||t!==Ge)&&(t===Ge&&(!(ie&2)&&(sl|=n),$e===4&&nr(t,Xe)),yt(t,r),n===1&&ie===0&&!(e.mode&1)&&(Fs=Re()+500,el&&Nr()))}function yt(t,e){var n=t.callbackNode;R1(t,e);var r=ga(t,t===Ge?Xe:0);if(r===0)n!==null&&Dh(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Dh(n),e===1)t.tag===0?A0(Nf.bind(null,t)):tg(Nf.bind(null,t)),I0(function(){!(ie&6)&&Nr()}),n=null;else{switch(jm(r)){case 1:n=ju;break;case 4:n=Im;break;case 16:n=ma;break;case 536870912:n=Tm;break;default:n=ma}n=Zg(n,Gg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Gg(t,e){if(ra=-1,sa=0,ie&6)throw Error(F(327));var n=t.callbackNode;if(Ts()&&t.callbackNode!==n)return null;var r=ga(t,t===Ge?Xe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ba(t,r);else{e=r;var s=ie;ie|=2;var i=Jg();(Ge!==t||Xe!==e)&&(Cn=null,Fs=Re()+500,Br(t,e));do try{Q0();break}catch(u){Kg(t,u)}while(!0);$u(),Aa.current=i,ie=s,be!==null?e=0:(Ge=null,Xe=0,e=$e)}if(e!==0){if(e===2&&(s=Pc(t),s!==0&&(r=s,e=ru(t,s))),e===1)throw n=Qi,Br(t,0),nr(t,r),yt(t,Re()),n;if(e===6)nr(t,r);else{if(s=t.current.alternate,!(r&30)&&!Y0(s)&&(e=ba(t,r),e===2&&(i=Pc(t),i!==0&&(r=i,e=ru(t,i))),e===1))throw n=Qi,Br(t,0),nr(t,r),yt(t,Re()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:br(t,ft,Cn);break;case 3:if(nr(t,r),(r&130023424)===r&&(e=sd+500-Re(),10<e)){if(ga(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){lt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Mc(br.bind(null,t,ft,Cn),e);break}br(t,ft,Cn);break;case 4:if(nr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Zt(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*q0(r/1960))-r,10<r){t.timeoutHandle=Mc(br.bind(null,t,ft,Cn),r);break}br(t,ft,Cn);break;case 5:br(t,ft,Cn);break;default:throw Error(F(329))}}}return yt(t,Re()),t.callbackNode===n?Gg.bind(null,t):null}function ru(t,e){var n=Pi;return t.current.memoizedState.isDehydrated&&(Br(t,e).flags|=256),t=ba(t,e),t!==2&&(e=ft,ft=n,e!==null&&su(e)),t}function su(t){ft===null?ft=t:ft.push.apply(ft,t)}function Y0(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!tn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function nr(t,e){for(e&=~rd,e&=~sl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zt(e),r=1<<n;t[n]=-1,e&=~r}}function Nf(t){if(ie&6)throw Error(F(327));Ts();var e=ga(t,0);if(!(e&1))return yt(t,Re()),null;var n=ba(t,e);if(t.tag!==0&&n===2){var r=Pc(t);r!==0&&(e=r,n=ru(t,r))}if(n===1)throw n=Qi,Br(t,0),nr(t,e),yt(t,Re()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,br(t,ft,Cn),yt(t,Re()),null}function id(t,e){var n=ie;ie|=1;try{return t(e)}finally{ie=n,ie===0&&(Fs=Re()+500,el&&Nr())}}function Xr(t){lr!==null&&lr.tag===0&&!(ie&6)&&Ts();var e=ie;ie|=1;var n=Ot.transition,r=ue;try{if(Ot.transition=null,ue=1,t)return t()}finally{ue=r,Ot.transition=n,ie=e,!(ie&6)&&Nr()}}function od(){xt=Ss.current,ve(Ss)}function Br(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,N0(n)),be!==null)for(n=be.return;n!==null;){var r=n;switch(zu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sa();break;case 3:Ms(),ve(mt),ve(it),qu();break;case 5:Ju(r);break;case 4:Ms();break;case 13:ve(xe);break;case 19:ve(xe);break;case 10:Hu(r.type._context);break;case 22:case 23:od()}n=n.return}if(Ge=t,be=t=yr(t.current,null),Xe=xt=e,$e=0,Qi=null,rd=sl=Yr=0,ft=Pi=null,Ur!==null){for(e=0;e<Ur.length;e++)if(n=Ur[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Ur=null}return t}function Kg(t,e){do{var n=be;try{if($u(),ea.current=ja,Pa){for(var r=ke.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Pa=!1}if(qr=0,We=Ve=ke=null,Ii=!1,qi=0,nd.current=null,n===null||n.return===null){$e=1,Qi=e,be=null;break}e:{var i=t,a=n.return,u=n,d=e;if(e=Xe,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var f=d,_=u,g=_.tag;if(!(_.mode&1)&&(g===0||g===11||g===15)){var x=_.alternate;x?(_.updateQueue=x.updateQueue,_.memoizedState=x.memoizedState,_.lanes=x.lanes):(_.updateQueue=null,_.memoizedState=null)}var T=ff(a);if(T!==null){T.flags&=-257,pf(T,a,u,i,e),T.mode&1&&hf(i,f,e),e=T,d=f;var D=e.updateQueue;if(D===null){var R=new Set;R.add(d),e.updateQueue=R}else D.add(d);break e}else{if(!(e&1)){hf(i,f,e),ad();break e}d=Error(F(426))}}else if(_e&&u.mode&1){var A=ff(a);if(A!==null){!(A.flags&65536)&&(A.flags|=256),pf(A,a,u,i,e),Bu(Us(d,u));break e}}i=d=Us(d,u),$e!==4&&($e=2),Pi===null?Pi=[i]:Pi.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=jg(i,d,e);of(i,E);break e;case 1:u=d;var S=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof S.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(mr===null||!mr.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=Ag(i,u,e);of(i,P);break e}}i=i.return}while(i!==null)}Yg(n)}catch(M){e=M,be===n&&n!==null&&(be=n=n.return);continue}break}while(!0)}function Jg(){var t=Aa.current;return Aa.current=ja,t===null?ja:t}function ad(){($e===0||$e===3||$e===2)&&($e=4),Ge===null||!(Yr&268435455)&&!(sl&268435455)||nr(Ge,Xe)}function ba(t,e){var n=ie;ie|=2;var r=Jg();(Ge!==t||Xe!==e)&&(Cn=null,Br(t,e));do try{X0();break}catch(s){Kg(t,s)}while(!0);if($u(),ie=n,Aa.current=r,be!==null)throw Error(F(261));return Ge=null,Xe=0,$e}function X0(){for(;be!==null;)qg(be)}function Q0(){for(;be!==null&&!x1();)qg(be)}function qg(t){var e=Qg(t.alternate,t,xt);t.memoizedProps=t.pendingProps,e===null?Yg(t):be=e,nd.current=null}function Yg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=W0(n,e),n!==null){n.flags&=32767,be=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$e=6,be=null;return}}else if(n=H0(n,e,xt),n!==null){be=n;return}if(e=e.sibling,e!==null){be=e;return}be=e=t}while(e!==null);$e===0&&($e=5)}function br(t,e,n){var r=ue,s=Ot.transition;try{Ot.transition=null,ue=1,Z0(t,e,n,r)}finally{Ot.transition=s,ue=r}return null}function Z0(t,e,n,r){do Ts();while(lr!==null);if(ie&6)throw Error(F(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(D1(t,i),t===Ge&&(be=Ge=null,Xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vo||(Vo=!0,Zg(ma,function(){return Ts(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ot.transition,Ot.transition=null;var a=ue;ue=1;var u=ie;ie|=4,nd.current=null,K0(t,n),Hg(n,t),_0(Oc),ya=!!bc,Oc=bc=null,t.current=n,J0(n),k1(),ie=u,ue=a,Ot.transition=i}else t.current=n;if(Vo&&(Vo=!1,lr=t,Da=s),i=t.pendingLanes,i===0&&(mr=null),I1(n.stateNode),yt(t,Re()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ra)throw Ra=!1,t=tu,tu=null,t;return Da&1&&t.tag!==0&&Ts(),i=t.pendingLanes,i&1?t===nu?ji++:(ji=0,nu=t):ji=0,Nr(),null}function Ts(){if(lr!==null){var t=jm(Da),e=Ot.transition,n=ue;try{if(Ot.transition=null,ue=16>t?16:t,lr===null)var r=!1;else{if(t=lr,lr=null,Da=0,ie&6)throw Error(F(331));var s=ie;for(ie|=4,H=t.current;H!==null;){var i=H,a=i.child;if(H.flags&16){var u=i.deletions;if(u!==null){for(var d=0;d<u.length;d++){var f=u[d];for(H=f;H!==null;){var _=H;switch(_.tag){case 0:case 11:case 15:Ti(8,_,i)}var g=_.child;if(g!==null)g.return=_,H=g;else for(;H!==null;){_=H;var x=_.sibling,T=_.return;if(Bg(_),_===f){H=null;break}if(x!==null){x.return=T,H=x;break}H=T}}}var D=i.alternate;if(D!==null){var R=D.child;if(R!==null){D.child=null;do{var A=R.sibling;R.sibling=null,R=A}while(R!==null)}}H=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,H=a;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ti(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,H=E;break e}H=i.return}}var S=t.current;for(H=S;H!==null;){a=H;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,H=y;else e:for(a=S;H!==null;){if(u=H,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:rl(9,u)}}catch(M){Pe(u,u.return,M)}if(u===a){H=null;break e}var P=u.sibling;if(P!==null){P.return=u.return,H=P;break e}H=u.return}}if(ie=s,Nr(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(qa,t)}catch{}r=!0}return r}finally{ue=n,Ot.transition=e}}return!1}function If(t,e,n){e=Us(n,e),e=jg(t,e,1),t=pr(t,e,1),e=lt(),t!==null&&(io(t,1,e),yt(t,e))}function Pe(t,e,n){if(t.tag===3)If(t,t,n);else for(;e!==null;){if(e.tag===3){If(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mr===null||!mr.has(r))){t=Us(n,t),t=Ag(e,t,1),e=pr(e,t,1),t=lt(),e!==null&&(io(e,1,t),yt(e,t));break}}e=e.return}}function e_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=lt(),t.pingedLanes|=t.suspendedLanes&n,Ge===t&&(Xe&n)===n&&($e===4||$e===3&&(Xe&130023424)===Xe&&500>Re()-sd?Br(t,0):rd|=n),yt(t,e)}function Xg(t,e){e===0&&(t.mode&1?(e=Ro,Ro<<=1,!(Ro&130023424)&&(Ro=4194304)):e=1);var n=lt();t=On(t,e),t!==null&&(io(t,e,n),yt(t,n))}function t_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Xg(t,n)}function n_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),Xg(t,n)}var Qg;Qg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mt.current)pt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pt=!1,$0(t,e,n);pt=!!(t.flags&131072)}else pt=!1,_e&&e.flags&1048576&&ng(e,ka,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;na(t,e),t=e.pendingProps;var s=bs(e,it.current);Is(e,n),s=Xu(null,e,r,t,s,n);var i=Qu();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gt(r)?(i=!0,Ea(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Gu(e),s.updater=nl,e.stateNode=s,s._reactInternals=e,Hc(e,r,t,n),e=Kc(null,e,r,!0,i,n)):(e.tag=0,_e&&i&&Fu(e),ot(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(na(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=s_(r),t=Wt(r,t),s){case 0:e=Gc(null,e,r,t,n);break e;case 1:e=yf(null,e,r,t,n);break e;case 11:e=mf(null,e,r,t,n);break e;case 14:e=gf(null,e,r,Wt(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wt(r,s),Gc(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wt(r,s),yf(t,e,r,s,n);case 3:e:{if(Og(e),t===null)throw Error(F(387));r=e.pendingProps,i=e.memoizedState,s=i.element,lg(t,e),Ia(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Us(Error(F(423)),e),e=vf(t,e,r,n,s);break e}else if(r!==s){s=Us(Error(F(424)),e),e=vf(t,e,r,n,s);break e}else for(kt=fr(e.stateNode.containerInfo.firstChild),Ct=e,_e=!0,Kt=null,n=og(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Os(),r===s){e=Ln(t,e,n);break e}ot(t,e,r,n)}e=e.child}return e;case 5:return cg(e),t===null&&Bc(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Lc(r,s)?a=null:i!==null&&Lc(r,i)&&(e.flags|=32),bg(t,e),ot(t,e,a,n),e.child;case 6:return t===null&&Bc(e),null;case 13:return Lg(t,e,n);case 4:return Ku(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ls(e,null,r,n):ot(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wt(r,s),mf(t,e,r,s,n);case 7:return ot(t,e,e.pendingProps,n),e.child;case 8:return ot(t,e,e.pendingProps.children,n),e.child;case 12:return ot(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,me(Ca,r._currentValue),r._currentValue=a,i!==null)if(tn(i.value,a)){if(i.children===s.children&&!mt.current){e=Ln(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var u=i.dependencies;if(u!==null){a=i.child;for(var d=u.firstContext;d!==null;){if(d.context===r){if(i.tag===1){d=Rn(-1,n&-n),d.tag=2;var f=i.updateQueue;if(f!==null){f=f.shared;var _=f.pending;_===null?d.next=d:(d.next=_.next,_.next=d),f.pending=d}}i.lanes|=n,d=i.alternate,d!==null&&(d.lanes|=n),Vc(i.return,n,e),u.lanes|=n;break}d=d.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(F(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),Vc(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}ot(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Is(e,n),s=Mt(s),r=r(s),e.flags|=1,ot(t,e,r,n),e.child;case 14:return r=e.type,s=Wt(r,e.pendingProps),s=Wt(r.type,s),gf(t,e,r,s,n);case 15:return Rg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wt(r,s),na(t,e),e.tag=1,gt(r)?(t=!0,Ea(e)):t=!1,Is(e,n),Pg(e,r,s),Hc(e,r,s,n),Kc(null,e,r,!0,t,n);case 19:return Mg(t,e,n);case 22:return Dg(t,e,n)}throw Error(F(156,e.tag))};function Zg(t,e){return Nm(t,e)}function r_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(t,e,n,r){return new r_(t,e,n,r)}function ld(t){return t=t.prototype,!(!t||!t.isReactComponent)}function s_(t){if(typeof t=="function")return ld(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Iu)return 11;if(t===Tu)return 14}return 2}function yr(t,e){var n=t.alternate;return n===null?(n=bt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ia(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")ld(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ds:return Vr(n.children,s,i,e);case Nu:a=8,s|=8;break;case pc:return t=bt(12,n,e,s|2),t.elementType=pc,t.lanes=i,t;case mc:return t=bt(13,n,e,s),t.elementType=mc,t.lanes=i,t;case gc:return t=bt(19,n,e,s),t.elementType=gc,t.lanes=i,t;case cm:return il(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case am:a=10;break e;case lm:a=9;break e;case Iu:a=11;break e;case Tu:a=14;break e;case Zn:a=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=bt(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Vr(t,e,n,r){return t=bt(7,t,r,e),t.lanes=n,t}function il(t,e,n,r){return t=bt(22,t,r,e),t.elementType=cm,t.lanes=n,t.stateNode={isHidden:!1},t}function Zl(t,e,n){return t=bt(6,t,null,e),t.lanes=n,t}function ec(t,e,n){return e=bt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function i_(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bl(0),this.expirationTimes=bl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function cd(t,e,n,r,s,i,a,u,d){return t=new i_(t,e,n,u,d),e===1?(e=1,i===!0&&(e|=8)):e=0,i=bt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gu(i),t}function o_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:us,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ey(t){if(!t)return Sr;t=t._reactInternals;e:{if(rs(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(gt(n))return eg(t,n,e)}return e}function ty(t,e,n,r,s,i,a,u,d){return t=cd(n,r,!0,t,s,i,a,u,d),t.context=ey(null),n=t.current,r=lt(),s=gr(n),i=Rn(r,s),i.callback=e??null,pr(n,i,s),t.current.lanes=s,io(t,s,r),yt(t,r),t}function ol(t,e,n,r){var s=e.current,i=lt(),a=gr(s);return n=ey(n),e.context===null?e.context=n:e.pendingContext=n,e=Rn(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=pr(s,e,a),t!==null&&(en(t,s,a,i),Zo(t,s,a)),a}function Oa(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Tf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ud(t,e){Tf(t,e),(t=t.alternate)&&Tf(t,e)}function a_(){return null}var ny=typeof reportError=="function"?reportError:function(t){console.error(t)};function dd(t){this._internalRoot=t}al.prototype.render=dd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));ol(t,e,null,null)};al.prototype.unmount=dd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xr(function(){ol(null,t,null,null)}),e[bn]=null}};function al(t){this._internalRoot=t}al.prototype.unstable_scheduleHydration=function(t){if(t){var e=Dm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<tr.length&&e!==0&&e<tr[n].priority;n++);tr.splice(n,0,t),n===0&&Om(t)}};function hd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ll(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Pf(){}function l_(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var f=Oa(a);i.call(f)}}var a=ty(e,r,t,0,null,!1,!1,"",Pf);return t._reactRootContainer=a,t[bn]=a.current,Hi(t.nodeType===8?t.parentNode:t),Xr(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var u=r;r=function(){var f=Oa(d);u.call(f)}}var d=cd(t,0,!1,null,null,!1,!1,"",Pf);return t._reactRootContainer=d,t[bn]=d.current,Hi(t.nodeType===8?t.parentNode:t),Xr(function(){ol(e,d,n,r)}),d}function cl(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var u=s;s=function(){var d=Oa(a);u.call(d)}}ol(e,a,t,s)}else a=l_(n,e,t,s,r);return Oa(a)}Am=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wi(e.pendingLanes);n!==0&&(Au(e,n|1),yt(e,Re()),!(ie&6)&&(Fs=Re()+500,Nr()))}break;case 13:Xr(function(){var r=On(t,1);if(r!==null){var s=lt();en(r,t,1,s)}}),ud(t,1)}};Ru=function(t){if(t.tag===13){var e=On(t,134217728);if(e!==null){var n=lt();en(e,t,134217728,n)}ud(t,134217728)}};Rm=function(t){if(t.tag===13){var e=gr(t),n=On(t,e);if(n!==null){var r=lt();en(n,t,e,r)}ud(t,e)}};Dm=function(){return ue};bm=function(t,e){var n=ue;try{return ue=t,e()}finally{ue=n}};Nc=function(t,e,n){switch(e){case"input":if(_c(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Za(r);if(!s)throw Error(F(90));dm(r),_c(r,s)}}}break;case"textarea":fm(t,n);break;case"select":e=n.value,e!=null&&xs(t,!!n.multiple,e,!1)}};wm=id;Sm=Xr;var c_={usingClientEntryPoint:!1,Events:[ao,ms,Za,vm,_m,id]},mi={findFiberByHostInstance:Mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},u_={bundleType:mi.bundleType,version:mi.version,rendererPackageName:mi.rendererPackageName,rendererConfig:mi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=km(t),t===null?null:t.stateNode},findFiberByHostInstance:mi.findFiberByHostInstance||a_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$o.isDisabled&&$o.supportsFiber)try{qa=$o.inject(u_),pn=$o}catch{}}It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c_;It.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hd(e))throw Error(F(200));return o_(t,e,null,n)};It.createRoot=function(t,e){if(!hd(t))throw Error(F(299));var n=!1,r="",s=ny;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=cd(t,1,!1,null,null,n,!1,r,s),t[bn]=e.current,Hi(t.nodeType===8?t.parentNode:t),new dd(e)};It.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=km(e),t=t===null?null:t.stateNode,t};It.flushSync=function(t){return Xr(t)};It.hydrate=function(t,e,n){if(!ll(e))throw Error(F(200));return cl(null,t,e,!0,n)};It.hydrateRoot=function(t,e,n){if(!hd(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=ny;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=ty(e,null,t,1,n??null,s,!1,i,a),t[bn]=e.current,Hi(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new al(e)};It.render=function(t,e,n){if(!ll(e))throw Error(F(200));return cl(null,t,e,!1,n)};It.unmountComponentAtNode=function(t){if(!ll(t))throw Error(F(40));return t._reactRootContainer?(Xr(function(){cl(null,null,t,!1,function(){t._reactRootContainer=null,t[bn]=null})}),!0):!1};It.unstable_batchedUpdates=id;It.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ll(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return cl(t,e,n,!1,r)};It.version="18.3.1-next-f1338f8080-20240426";function ry(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ry)}catch(t){console.error(t)}}ry(),rm.exports=It;var d_=rm.exports,jf=d_;hc.createRoot=jf.createRoot,hc.hydrateRoot=jf.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zi(){return Zi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zi.apply(this,arguments)}var cr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(cr||(cr={}));const Af="popstate";function h_(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:u}=r.location;return iu("",{pathname:i,search:a,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:sy(s)}return p_(e,n,null,t)}function Le(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fd(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function f_(){return Math.random().toString(36).substr(2,8)}function Rf(t,e){return{usr:t.state,key:t.key,idx:e}}function iu(t,e,n,r){return n===void 0&&(n=null),Zi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ws(e):e,{state:n,key:e&&e.key||r||f_()})}function sy(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ws(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function p_(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,u=cr.Pop,d=null,f=_();f==null&&(f=0,a.replaceState(Zi({},a.state,{idx:f}),""));function _(){return(a.state||{idx:null}).idx}function g(){u=cr.Pop;let A=_(),E=A==null?null:A-f;f=A,d&&d({action:u,location:R.location,delta:E})}function x(A,E){u=cr.Push;let S=iu(R.location,A,E);f=_()+1;let y=Rf(S,f),P=R.createHref(S);try{a.pushState(y,"",P)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(P)}i&&d&&d({action:u,location:R.location,delta:1})}function T(A,E){u=cr.Replace;let S=iu(R.location,A,E);f=_();let y=Rf(S,f),P=R.createHref(S);a.replaceState(y,"",P),i&&d&&d({action:u,location:R.location,delta:0})}function D(A){let E=s.location.origin!=="null"?s.location.origin:s.location.href,S=typeof A=="string"?A:sy(A);return S=S.replace(/ $/,"%20"),Le(E,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,E)}let R={get action(){return u},get location(){return t(s,a)},listen(A){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Af,g),d=A,()=>{s.removeEventListener(Af,g),d=null}},createHref(A){return e(s,A)},createURL:D,encodeLocation(A){let E=D(A);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:x,replace:T,go(A){return a.go(A)}};return R}var Df;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Df||(Df={}));function m_(t,e,n){return n===void 0&&(n="/"),g_(t,e,n)}function g_(t,e,n,r){let s=typeof e=="string"?Ws(e):e,i=ay(s.pathname||"/",n);if(i==null)return null;let a=iy(t);y_(a);let u=null;for(let d=0;u==null&&d<a.length;++d){let f=P_(i);u=N_(a[d],f)}return u}function iy(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,u)=>{let d={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};d.relativePath.startsWith("/")&&(Le(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let f=$r([r,d.relativePath]),_=n.concat(d);i.children&&i.children.length>0&&(Le(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),iy(i.children,e,_,f)),!(i.path==null&&!i.index)&&e.push({path:f,score:k_(f,i.index),routesMeta:_})};return t.forEach((i,a)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))s(i,a);else for(let d of oy(i.path))s(i,a,d)}),e}function oy(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=oy(r.join("/")),u=[];return u.push(...a.map(d=>d===""?i:[i,d].join("/"))),s&&u.push(...a),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function y_(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:C_(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const v_=/^:[\w-]+$/,__=3,w_=2,S_=1,E_=10,x_=-2,bf=t=>t==="*";function k_(t,e){let n=t.split("/"),r=n.length;return n.some(bf)&&(r+=x_),e&&(r+=w_),n.filter(s=>!bf(s)).reduce((s,i)=>s+(v_.test(i)?__:i===""?S_:E_),r)}function C_(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function N_(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,_=i==="/"?e:e.slice(i.length)||"/",g=I_({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},_),x=d.route;if(!g)return null;Object.assign(s,g.params),a.push({params:s,pathname:$r([i,g.pathname]),pathnameBase:b_($r([i,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(i=$r([i,g.pathnameBase]))}return a}function I_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=T_(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((f,_,g)=>{let{paramName:x,isOptional:T}=_;if(x==="*"){let R=u[g]||"";a=i.slice(0,i.length-R.length).replace(/(.)\/+$/,"$1")}const D=u[g];return T&&!D?f[x]=void 0:f[x]=(D||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:a,pattern:t}}function T_(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),fd(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function P_(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fd(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ay(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const j_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,A_=t=>j_.test(t);function R_(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ws(t):t,i;if(n)if(A_(n))i=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),fd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?i=Of(n.substring(1),"/"):i=Of(n,e)}else i=e;return{pathname:i,search:O_(r),hash:L_(s)}}function Of(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function tc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function D_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ly(t,e){let n=D_(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function cy(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ws(t):(s=Zi({},t),Le(!s.pathname||!s.pathname.includes("?"),tc("?","pathname","search",s)),Le(!s.pathname||!s.pathname.includes("#"),tc("#","pathname","hash",s)),Le(!s.search||!s.search.includes("#"),tc("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,u;if(a==null)u=n;else{let g=e.length-1;if(!r&&a.startsWith("..")){let x=a.split("/");for(;x[0]==="..";)x.shift(),g-=1;s.pathname=x.join("/")}u=g>=0?e[g]:"/"}let d=R_(s,u),f=a&&a!=="/"&&a.endsWith("/"),_=(i||a===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||_)&&(d.pathname+="/"),d}const $r=t=>t.join("/").replace(/\/\/+/g,"/"),b_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),O_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,L_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function M_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uy=["post","put","patch","delete"];new Set(uy);const U_=["get",...uy];new Set(U_);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eo(){return eo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eo.apply(this,arguments)}const pd=I.createContext(null),F_=I.createContext(null),co=I.createContext(null),ul=I.createContext(null),ss=I.createContext({outlet:null,matches:[],isDataRoute:!1}),dy=I.createContext(null);function uo(){return I.useContext(ul)!=null}function Gs(){return uo()||Le(!1),I.useContext(ul).location}function hy(t){I.useContext(co).static||I.useLayoutEffect(t)}function vt(){let{isDataRoute:t}=I.useContext(ss);return t?Q_():z_()}function z_(){uo()||Le(!1);let t=I.useContext(pd),{basename:e,future:n,navigator:r}=I.useContext(co),{matches:s}=I.useContext(ss),{pathname:i}=Gs(),a=JSON.stringify(ly(s,n.v7_relativeSplatPath)),u=I.useRef(!1);return hy(()=>{u.current=!0}),I.useCallback(function(f,_){if(_===void 0&&(_={}),!u.current)return;if(typeof f=="number"){r.go(f);return}let g=cy(f,JSON.parse(a),i,_.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:$r([e,g.pathname])),(_.replace?r.replace:r.push)(g,_.state,_)},[e,r,a,i,t])}function B_(t,e){return V_(t,e)}function V_(t,e,n,r){uo()||Le(!1);let{navigator:s}=I.useContext(co),{matches:i}=I.useContext(ss),a=i[i.length-1],u=a?a.params:{};a&&a.pathname;let d=a?a.pathnameBase:"/";a&&a.route;let f=Gs(),_;if(e){var g;let A=typeof e=="string"?Ws(e):e;d==="/"||(g=A.pathname)!=null&&g.startsWith(d)||Le(!1),_=A}else _=f;let x=_.pathname||"/",T=x;if(d!=="/"){let A=d.replace(/^\//,"").split("/");T="/"+x.replace(/^\//,"").split("/").slice(A.length).join("/")}let D=m_(t,{pathname:T}),R=K_(D&&D.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:$r([d,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?d:$r([d,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),i,n,r);return e&&R?I.createElement(ul.Provider,{value:{location:eo({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:cr.Pop}},R):R}function $_(){let t=X_(),e=M_(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:s},n):null,null)}const H_=I.createElement($_,null);class W_ extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?I.createElement(ss.Provider,{value:this.props.routeContext},I.createElement(dy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function G_(t){let{routeContext:e,match:n,children:r}=t,s=I.useContext(pd);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(ss.Provider,{value:e},r)}function K_(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=(s=n)==null?void 0:s.errors;if(u!=null){let _=a.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);_>=0||Le(!1),a=a.slice(0,Math.min(a.length,_+1))}let d=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let _=0;_<a.length;_++){let g=a[_];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=_),g.route.id){let{loaderData:x,errors:T}=n,D=g.route.loader&&x[g.route.id]===void 0&&(!T||T[g.route.id]===void 0);if(g.route.lazy||D){d=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((_,g,x)=>{let T,D=!1,R=null,A=null;n&&(T=u&&g.route.id?u[g.route.id]:void 0,R=g.route.errorElement||H_,d&&(f<0&&x===0?(Z_("route-fallback"),D=!0,A=null):f===x&&(D=!0,A=g.route.hydrateFallbackElement||null)));let E=e.concat(a.slice(0,x+1)),S=()=>{let y;return T?y=R:D?y=A:g.route.Component?y=I.createElement(g.route.Component,null):g.route.element?y=g.route.element:y=_,I.createElement(G_,{match:g,routeContext:{outlet:_,matches:E,isDataRoute:n!=null},children:y})};return n&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?I.createElement(W_,{location:n.location,revalidation:n.revalidation,component:R,error:T,children:S(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):S()},null)}var fy=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fy||{}),py=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(py||{});function J_(t){let e=I.useContext(pd);return e||Le(!1),e}function q_(t){let e=I.useContext(F_);return e||Le(!1),e}function Y_(t){let e=I.useContext(ss);return e||Le(!1),e}function my(t){let e=Y_(),n=e.matches[e.matches.length-1];return n.route.id||Le(!1),n.route.id}function X_(){var t;let e=I.useContext(dy),n=q_(),r=my();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Q_(){let{router:t}=J_(fy.UseNavigateStable),e=my(py.UseNavigateStable),n=I.useRef(!1);return hy(()=>{n.current=!0}),I.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,eo({fromRouteId:e},i)))},[t,e])}const Lf={};function Z_(t,e,n){Lf[t]||(Lf[t]=!0)}function e2(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function gy(t){let{to:e,replace:n,state:r,relative:s}=t;uo()||Le(!1);let{future:i,static:a}=I.useContext(co),{matches:u}=I.useContext(ss),{pathname:d}=Gs(),f=vt(),_=cy(e,ly(u,i.v7_relativeSplatPath),d,s==="path"),g=JSON.stringify(_);return I.useEffect(()=>f(JSON.parse(g),{replace:n,state:r,relative:s}),[f,g,s,n,r]),null}function Et(t){Le(!1)}function t2(t){let{basename:e="/",children:n=null,location:r,navigationType:s=cr.Pop,navigator:i,static:a=!1,future:u}=t;uo()&&Le(!1);let d=e.replace(/^\/*/,"/"),f=I.useMemo(()=>({basename:d,navigator:i,static:a,future:eo({v7_relativeSplatPath:!1},u)}),[d,u,i,a]);typeof r=="string"&&(r=Ws(r));let{pathname:_="/",search:g="",hash:x="",state:T=null,key:D="default"}=r,R=I.useMemo(()=>{let A=ay(_,d);return A==null?null:{location:{pathname:A,search:g,hash:x,state:T,key:D},navigationType:s}},[d,_,g,x,T,D,s]);return R==null?null:I.createElement(co.Provider,{value:f},I.createElement(ul.Provider,{children:n,value:R}))}function n2(t){let{children:e,location:n}=t;return B_(ou(e),n)}new Promise(()=>{});function ou(t,e){e===void 0&&(e=[]);let n=[];return I.Children.forEach(t,(r,s)=>{if(!I.isValidElement(r))return;let i=[...e,s];if(r.type===I.Fragment){n.push.apply(n,ou(r.props.children,i));return}r.type!==Et&&Le(!1),!r.props.index||!r.props.children||Le(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=ou(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function au(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function r2(t,e){let n=au(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const s2="6";try{window.__reactRouterVersion=s2}catch{}const i2="startTransition",Mf=e1[i2];function o2(t){let{basename:e,children:n,future:r,window:s}=t,i=I.useRef();i.current==null&&(i.current=h_({window:s,v5Compat:!0}));let a=i.current,[u,d]=I.useState({action:a.action,location:a.location}),{v7_startTransition:f}=r||{},_=I.useCallback(g=>{f&&Mf?Mf(()=>d(g)):d(g)},[d,f]);return I.useLayoutEffect(()=>a.listen(_),[a,_]),I.useEffect(()=>e2(r),[r]),I.createElement(t2,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:a,future:r})}var Uf;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Uf||(Uf={}));var Ff;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ff||(Ff={}));function md(t){let e=I.useRef(au(t)),n=I.useRef(!1),r=Gs(),s=I.useMemo(()=>r2(r.search,n.current?null:e.current),[r.search]),i=vt(),a=I.useCallback((u,d)=>{const f=au(typeof u=="function"?u(s):u);n.current=!0,i("?"+f,d)},[i,s]);return[s,a]}const a2=()=>{};var zf={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},l2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],u=t[n++],d=((s&7)<<18|(i&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},vy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,u=a?t[s+1]:0,d=s+2<t.length,f=d?t[s+2]:0,_=i>>2,g=(i&3)<<4|u>>4;let x=(u&15)<<2|f>>6,T=f&63;d||(T=64,a||(x=64)),r.push(n[_],n[g],n[x],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):l2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],u=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const g=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||u==null||f==null||g==null)throw new c2;const x=i<<2|u>>4;if(r.push(x),f!==64){const T=u<<4&240|f>>2;if(r.push(T),g!==64){const D=f<<6&192|g;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class c2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u2=function(t){const e=yy(t);return vy.encodeByteArray(e,!0)},La=function(t){return u2(t).replace(/\./g,"")},_y=function(t){try{return vy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=()=>d2().__FIREBASE_DEFAULTS__,f2=()=>{if(typeof process>"u"||typeof zf>"u")return;const t=zf.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},p2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_y(t[1]);return e&&JSON.parse(e)},gd=()=>{try{return a2()||h2()||f2()||p2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wy=t=>{var e,n;return(n=(e=gd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Sy=t=>{const e=wy(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ey=()=>{var t;return(t=gd())==null?void 0:t.config},xy=t=>{var e;return(e=gd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yd(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[La(JSON.stringify(n)),La(JSON.stringify(a)),""].join(".")}const Ai={};function g2(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ai))Ai[e]?t.emulator.push(e):t.prod.push(e);return t}function y2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Bf=!1;function vd(t,e){if(typeof window>"u"||typeof document>"u"||!Ks(window.location.host)||Ai[t]===e||Ai[t]||Bf)return;Ai[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",i=g2().prod.length>0;function a(){const x=document.getElementById(r);x&&x.remove()}function u(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function d(x,T){x.setAttribute("width","24"),x.setAttribute("id",T),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function f(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Bf=!0,a()},x}function _(x,T){x.setAttribute("id",T),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function g(){const x=y2(r),T=n("text"),D=document.getElementById(T)||document.createElement("span"),R=n("learnmore"),A=document.getElementById(R)||document.createElement("a"),E=n("preprendIcon"),S=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const y=x.element;u(y),_(A,R);const P=f();d(S,E),y.append(S,D,A,P),document.body.appendChild(y)}i?(D.innerText="Preview backend disconnected.",S.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(S.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function _2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function w2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function S2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function E2(){const t=ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function x2(){try{return typeof indexedDB=="object"}catch{return!1}}function k2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="FirebaseError";class wn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=C2,Object.setPrototypeOf(this,wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ho.prototype.create)}}class ho{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?N2(i,r):"Error",u=`${this.serviceName}: ${a} (${s}).`;return new wn(s,u,r)}}function N2(t,e){return t.replace(I2,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const I2=/\{\$([^}]+)}/g;function T2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qr(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(Vf(i)&&Vf(a)){if(!Qr(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Vf(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function P2(t,e){const n=new j2(t,e);return n.subscribe.bind(n)}class j2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");A2(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=nc),s.error===void 0&&(s.error=nc),s.complete===void 0&&(s.complete=nc);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function A2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(t){return t&&t._delegate?t._delegate:t}class Er{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new m2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(b2(e))try{this.getOrInitializeService({instanceIdentifier:Or})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Or){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Or){return this.instances.has(e)}getOptions(e=Or){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);r===u&&a.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:D2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Or){return this.component?this.component.multipleInstances?e:Or:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D2(t){return t===Or?void 0:t}function b2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new R2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const L2={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},M2=ce.INFO,U2={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},F2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=U2[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _d{constructor(e){this.name=e,this._logLevel=M2,this._logHandler=F2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?L2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const z2=(t,e)=>e.some(n=>t instanceof n);let $f,Hf;function B2(){return $f||($f=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function V2(){return Hf||(Hf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cy=new WeakMap,lu=new WeakMap,Ny=new WeakMap,rc=new WeakMap,wd=new WeakMap;function $2(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(vr(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Cy.set(n,t)}).catch(()=>{}),wd.set(e,t),e}function H2(t){if(lu.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});lu.set(t,e)}let cu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ny.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function W2(t){cu=t(cu)}function G2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sc(this),e,...n);return Ny.set(r,e.sort?e.sort():[e]),vr(r)}:V2().includes(t)?function(...e){return t.apply(sc(this),e),vr(Cy.get(this))}:function(...e){return vr(t.apply(sc(this),e))}}function K2(t){return typeof t=="function"?G2(t):(t instanceof IDBTransaction&&H2(t),z2(t,B2())?new Proxy(t,cu):t)}function vr(t){if(t instanceof IDBRequest)return $2(t);if(rc.has(t))return rc.get(t);const e=K2(t);return e!==t&&(rc.set(t,e),wd.set(e,t)),e}const sc=t=>wd.get(t);function J2(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),u=vr(a);return r&&a.addEventListener("upgradeneeded",d=>{r(vr(a.result),d.oldVersion,d.newVersion,vr(a.transaction),d)}),n&&a.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{i&&d.addEventListener("close",()=>i()),s&&d.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const q2=["get","getKey","getAll","getAllKeys","count"],Y2=["put","add","delete","clear"],ic=new Map;function Wf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ic.get(e))return ic.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Y2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||q2.includes(n)))return;const i=async function(a,...u){const d=this.transaction(a,s?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),s&&d.done]))[0]};return ic.set(e,i),i}W2(t=>({...t,get:(e,n,r)=>Wf(e,n)||t.get(e,n,r),has:(e,n)=>!!Wf(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Q2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Q2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const uu="@firebase/app",Gf="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn=new _d("@firebase/app"),Z2="@firebase/app-compat",ew="@firebase/analytics-compat",tw="@firebase/analytics",nw="@firebase/app-check-compat",rw="@firebase/app-check",sw="@firebase/auth",iw="@firebase/auth-compat",ow="@firebase/database",aw="@firebase/data-connect",lw="@firebase/database-compat",cw="@firebase/functions",uw="@firebase/functions-compat",dw="@firebase/installations",hw="@firebase/installations-compat",fw="@firebase/messaging",pw="@firebase/messaging-compat",mw="@firebase/performance",gw="@firebase/performance-compat",yw="@firebase/remote-config",vw="@firebase/remote-config-compat",_w="@firebase/storage",ww="@firebase/storage-compat",Sw="@firebase/firestore",Ew="@firebase/ai",xw="@firebase/firestore-compat",kw="firebase",Cw="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du="[DEFAULT]",Nw={[uu]:"fire-core",[Z2]:"fire-core-compat",[tw]:"fire-analytics",[ew]:"fire-analytics-compat",[rw]:"fire-app-check",[nw]:"fire-app-check-compat",[sw]:"fire-auth",[iw]:"fire-auth-compat",[ow]:"fire-rtdb",[aw]:"fire-data-connect",[lw]:"fire-rtdb-compat",[cw]:"fire-fn",[uw]:"fire-fn-compat",[dw]:"fire-iid",[hw]:"fire-iid-compat",[fw]:"fire-fcm",[pw]:"fire-fcm-compat",[mw]:"fire-perf",[gw]:"fire-perf-compat",[yw]:"fire-rc",[vw]:"fire-rc-compat",[_w]:"fire-gcs",[ww]:"fire-gcs-compat",[Sw]:"fire-fst",[xw]:"fire-fst-compat",[Ew]:"fire-vertex","fire-js":"fire-js",[kw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=new Map,Iw=new Map,hu=new Map;function Kf(t,e){try{t.container.addComponent(e)}catch(n){Mn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zr(t){const e=t.name;if(hu.has(e))return Mn.debug(`There were multiple attempts to register component ${e}.`),!1;hu.set(e,t);for(const n of Ma.values())Kf(n,t);for(const n of Iw.values())Kf(n,t);return!0}function dl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_r=new ho("app","Firebase",Tw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Er("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=Cw;function Iy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:du,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw _r.create("bad-app-name",{appName:String(s)});if(n||(n=Ey()),!n)throw _r.create("no-options");const i=Ma.get(s);if(i){if(Qr(n,i.options)&&Qr(r,i.config))return i;throw _r.create("duplicate-app",{appName:s})}const a=new O2(s);for(const d of hu.values())a.addComponent(d);const u=new Pw(n,r,a);return Ma.set(s,u),u}function Sd(t=du){const e=Ma.get(t);if(!e&&t===du&&Ey())return Iy();if(!e)throw _r.create("no-app",{appName:t});return e}function gn(t,e,n){let r=Nw[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mn.warn(a.join(" "));return}Zr(new Er(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="firebase-heartbeat-database",Aw=1,to="firebase-heartbeat-store";let oc=null;function Ty(){return oc||(oc=J2(jw,Aw,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(to)}catch(n){console.warn(n)}}}}).catch(t=>{throw _r.create("idb-open",{originalErrorMessage:t.message})})),oc}async function Rw(t){try{const n=(await Ty()).transaction(to),r=await n.objectStore(to).get(Py(t));return await n.done,r}catch(e){if(e instanceof wn)Mn.warn(e.message);else{const n=_r.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mn.warn(n.message)}}}async function Jf(t,e){try{const r=(await Ty()).transaction(to,"readwrite");await r.objectStore(to).put(e,Py(t)),await r.done}catch(n){if(n instanceof wn)Mn.warn(n.message);else{const r=_r.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mn.warn(r.message)}}}function Py(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=1024,bw=30;class Ow{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Mw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=qf();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>bw){const a=Uw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Mn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=qf(),{heartbeatsToSend:r,unsentEntries:s}=Lw(this._heartbeatsCache.heartbeats),i=La(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Mn.warn(n),""}}}function qf(){return new Date().toISOString().substring(0,10)}function Lw(t,e=Dw){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),Yf(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Yf(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Mw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x2()?k2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Rw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Jf(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Jf(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Yf(t){return La(JSON.stringify({version:2,heartbeats:t})).length}function Uw(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(t){Zr(new Er("platform-logger",e=>new X2(e),"PRIVATE")),Zr(new Er("heartbeat",e=>new Ow(e),"PRIVATE")),gn(uu,Gf,t),gn(uu,Gf,"esm2020"),gn("fire-js","")}Fw("");var zw="firebase",Bw="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn(zw,Bw,"app");function jy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Vw=jy,Ay=new ho("auth","Firebase",jy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=new _d("@firebase/auth");function $w(t,...e){Ua.logLevel<=ce.WARN&&Ua.warn(`Auth (${is}): ${t}`,...e)}function oa(t,...e){Ua.logLevel<=ce.ERROR&&Ua.error(`Auth (${is}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t,...e){throw Ed(t,...e)}function yn(t,...e){return Ed(t,...e)}function Ry(t,e,n){const r={...Vw(),[e]:n};return new ho("auth","Firebase",r).create(e,{appName:t.name})}function Hr(t){return Ry(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ed(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ay.create(t,...e)}function Y(t,e,...n){if(!t)throw Ed(e,...n)}function jn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw oa(e),new Error(e)}function Fn(t,e){t||jn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Hw(){return Xf()==="http:"||Xf()==="https:"}function Xf(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Hw()||w2()||"connection"in navigator)?navigator.onLine:!0}function Gw(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fn(n>e,"Short delay should be less than long delay!"),this.isMobile=v2()||S2()}get(){return Ww()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(t,e){Fn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qw=new po(3e4,6e4);function kd(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Js(t,e,n,r,s={}){return by(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const u=fo({key:t.config.apiKey,...a}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:d,...i};return _2()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Ks(t.emulatorConfig.host)&&(f.credentials="include"),Dy.fetch()(await Oy(t,t.config.apiHost,n,u),f)})}async function by(t,e,n){t._canInitEmulator=!1;const r={...Kw,...e};try{const s=new Xw(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Ho(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const u=i.ok?a.errorMessage:a.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ho(t,"credential-already-in-use",a);if(d==="EMAIL_EXISTS")throw Ho(t,"email-already-in-use",a);if(d==="USER_DISABLED")throw Ho(t,"user-disabled",a);const _=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Ry(t,_,f);Un(t,_)}}catch(s){if(s instanceof wn)throw s;Un(t,"network-request-failed",{message:String(s)})}}async function Yw(t,e,n,r,s={}){const i=await Js(t,e,n,r,s);return"mfaPendingCredential"in i&&Un(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function Oy(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?xd(t.config,s):`${t.config.apiScheme}://${s}`;return Jw.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}class Xw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yn(this.auth,"network-request-failed")),qw.get())})}}function Ho(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=yn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qw(t,e){return Js(t,"POST","/v1/accounts:delete",e)}async function Fa(t,e){return Js(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Zw(t,e=!1){const n=Sn(t),r=await n.getIdToken(e),s=Cd(r);Y(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ri(ac(s.auth_time)),issuedAtTime:Ri(ac(s.iat)),expirationTime:Ri(ac(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function ac(t){return Number(t)*1e3}function Cd(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return oa("JWT malformed, contained fewer than 3 sections"),null;try{const s=_y(n);return s?JSON.parse(s):(oa("Failed to decode base64 JWT payload"),null)}catch(s){return oa("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Qf(t){const e=Cd(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof wn&&eS(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function eS({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ri(this.lastLoginAt),this.creationTime=Ri(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(t){var g;const e=t.auth,n=await t.getIdToken(),r=await no(t,Fa(e,{idToken:n}));Y(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(g=s.providerUserInfo)!=null&&g.length?Ly(s.providerUserInfo):[],a=rS(t.providerData,i),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=u?d:!1,_={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new pu(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,_)}async function nS(t){const e=Sn(t);await za(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rS(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Ly(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sS(t,e){const n=await by(t,{},async()=>{const r=fo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await Oy(t,s,"/v1/token",`key=${i}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return t.emulatorConfig&&Ks(t.emulatorConfig.host)&&(d.credentials="include"),Dy.fetch()(a,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iS(t,e){return Js(t,"POST","/v2/accounts:revokeToken",kd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Qf(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Y(e.length!==0,"internal-error");const n=Qf(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await sS(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new Ps;return r&&(Y(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Y(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(Y(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ps,this.toJSON())}_performRefresh(){return jn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yt{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new tS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new pu(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await no(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Zw(this,e)}reload(){return nS(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yt({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await za(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qt(this.auth.app))return Promise.reject(Hr(this.auth));const e=await this.getIdToken();return await no(this,Qw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,u=n.tenantId??void 0,d=n._redirectEventId??void 0,f=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:g,emailVerified:x,isAnonymous:T,providerData:D,stsTokenManager:R}=n;Y(g&&R,e,"internal-error");const A=Ps.fromJSON(this.name,R);Y(typeof g=="string",e,"internal-error"),Qn(r,e.name),Qn(s,e.name),Y(typeof x=="boolean",e,"internal-error"),Y(typeof T=="boolean",e,"internal-error"),Qn(i,e.name),Qn(a,e.name),Qn(u,e.name),Qn(d,e.name),Qn(f,e.name),Qn(_,e.name);const E=new Yt({uid:g,auth:e,email:s,emailVerified:x,displayName:r,isAnonymous:T,photoURL:a,phoneNumber:i,tenantId:u,stsTokenManager:A,createdAt:f,lastLoginAt:_});return D&&Array.isArray(D)&&(E.providerData=D.map(S=>({...S}))),d&&(E._redirectEventId=d),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ps;s.updateFromServerResponse(n);const i=new Yt({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await za(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Y(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Ly(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),u=new Ps;u.updateFromIdToken(r);const d=new Yt({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:a}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new pu(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=new Map;function An(t){Fn(t instanceof Function,"Expected a class definition");let e=Zf.get(t);return e?(Fn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Zf.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}My.type="NONE";const ep=My;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t,e,n){return`firebase:${t}:${e}:${n}`}class js{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=aa(this.userKey,s.apiKey,i),this.fullPersistenceKey=aa("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Fa(this.auth,{idToken:e}).catch(()=>{});return n?Yt._fromGetAccountInfoResponse(this.auth,n,e):null}return Yt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new js(An(ep),e,r);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let i=s[0]||An(ep);const a=aa(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const _=await f._get(a);if(_){let g;if(typeof _=="string"){const x=await Fa(e,{idToken:_}).catch(()=>{});if(!x)break;g=await Yt._fromGetAccountInfoResponse(e,x,_)}else g=Yt._fromJSON(e,_);f!==i&&(u=g),i=f;break}}catch{}const d=s.filter(f=>f._shouldAllowMigration);return!i._shouldAllowMigration||!d.length?new js(i,e,r):(i=d[0],u&&await i._set(a,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==i)try{await f._remove(a)}catch{}})),new js(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(By(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Uy(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($y(e))return"Blackberry";if(Hy(e))return"Webos";if(Fy(e))return"Safari";if((e.includes("chrome/")||zy(e))&&!e.includes("edge/"))return"Chrome";if(Vy(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Uy(t=ct()){return/firefox\//i.test(t)}function Fy(t=ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zy(t=ct()){return/crios\//i.test(t)}function By(t=ct()){return/iemobile/i.test(t)}function Vy(t=ct()){return/android/i.test(t)}function $y(t=ct()){return/blackberry/i.test(t)}function Hy(t=ct()){return/webos/i.test(t)}function Nd(t=ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oS(t=ct()){var e;return Nd(t)&&!!((e=window.navigator)!=null&&e.standalone)}function aS(){return E2()&&document.documentMode===10}function Wy(t=ct()){return Nd(t)||Vy(t)||Hy(t)||$y(t)||/windows phone/i.test(t)||By(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(t,e=[]){let n;switch(t){case"Browser":n=tp(ct());break;case"Worker":n=`${tp(ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${is}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,u)=>{try{const d=e(i);a(d)}catch(d){u(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cS(t,e={}){return Js(t,"GET","/v2/passwordPolicy",kd(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=6;class dS{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??uS,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new np(this),this.idTokenSubscription=new np(this),this.beforeStateQueue=new lS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ay,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=An(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await js.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Fa(this,{idToken:e}),r=await Yt._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(qt(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(i=this.redirectUser)==null?void 0:i._redirectEventId,u=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===u)&&(d!=null&&d.user)&&(r=d.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await za(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Gw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qt(this.app))return Promise.reject(Hr(this));const n=e?Sn(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qt(this.app)?Promise.reject(Hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qt(this.app)?Promise.reject(Hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(An(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cS(this),n=new dS(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ho("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await iS(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&An(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=await js.create(this,[An(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(u,this,"internal-error"),u.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{a=!0,d()}}else{const d=e.addObserver(n);return()=>{a=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Gy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&$w(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Id(t){return Sn(t)}class np{constructor(e){this.auth=e,this.observer=null,this.addObserver=P2(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Td={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fS(t){Td=t}function pS(t){return Td.loadJS(t)}function mS(){return Td.gapiScript}function gS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(t,e){const n=dl(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Qr(i,e??{}))return s;Un(s,"already-initialized")}return n.initialize({options:e})}function vS(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(An);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function _S(t,e,n){const r=Id(t);Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=Ky(e),{host:a,port:u}=wS(e),d=u===null?"":`:${u}`,f={url:`${i}//${a}${d}/`},_=Object.freeze({host:a,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Y(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Y(Qr(f,r.config.emulator)&&Qr(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,Ks(a)?(yd(`${i}//${a}${d}`),vd("Auth",!0)):SS()}function Ky(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wS(t){const e=Ky(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:rp(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:rp(a)}}}function rp(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function SS(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jn("not implemented")}_getIdTokenResponse(e){return jn("not implemented")}_linkToIdToken(e,n){return jn("not implemented")}_getReauthenticationResolver(e){return jn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function As(t,e){return Yw(t,"POST","/v1/accounts:signInWithIdp",kd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="http://localhost";class es extends Jy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Un("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const a=new es(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return As(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,As(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,As(e,n)}buildRequest(){const e={requestUri:ES,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends qy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr extends mo{constructor(){super("facebook.com")}static credential(e){return es._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rr.credential(e.oauthAccessToken)}catch{return null}}}rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";rr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends mo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return es._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return sr.credential(n,r)}catch{return null}}}sr.GOOGLE_SIGN_IN_METHOD="google.com";sr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends mo{constructor(){super("github.com")}static credential(e){return es._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.GITHUB_SIGN_IN_METHOD="github.com";ir.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends mo{constructor(){super("twitter.com")}static credential(e,n){return es._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return or.credential(n,r)}catch{return null}}}or.TWITTER_SIGN_IN_METHOD="twitter.com";or.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Yt._fromIdTokenResponse(e,r,s),a=sp(r);return new zs({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=sp(r);return new zs({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function sp(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends wn{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ba.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ba(e,n,r,s)}}function Yy(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ba._fromErrorAndOperation(t,i,e,r):i})}async function xS(t,e,n=!1){const r=await no(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return zs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kS(t,e,n=!1){const{auth:r}=t;if(qt(r.app))return Promise.reject(Hr(r));const s="reauthenticate";try{const i=await no(t,Yy(r,s,e,t),n);Y(i.idToken,r,"internal-error");const a=Cd(i.idToken);Y(a,r,"internal-error");const{sub:u}=a;return Y(t.uid===u,r,"user-mismatch"),zs._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Un(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CS(t,e,n=!1){if(qt(t.app))return Promise.reject(Hr(t));const r="signIn",s=await Yy(t,r,e),i=await zs._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function NS(t,e,n,r){return Sn(t).onIdTokenChanged(e,n,r)}function IS(t,e,n){return Sn(t).beforeAuthStateChanged(e,n)}function TS(t,e,n,r){return Sn(t).onAuthStateChanged(e,n,r)}function PS(t){return Sn(t).signOut()}const Va="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Va,"1"),this.storage.removeItem(Va),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=1e3,AS=10;class Qy extends Xy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,u,d)=>{this.notifyListeners(a,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);aS()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,AS):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},jS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Qy.type="LOCAL";const RS=Qy;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy extends Xy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Zy.type="SESSION";const ev=Zy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new hl(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(a).map(async f=>f(n.origin,i)),d=await DS(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((u,d)=>{const f=Pd("",20);s.port1.start();const _=setTimeout(()=>{d(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(g){const x=g;if(x.data.eventId===f)switch(x.data.status){case"ack":clearTimeout(_),i=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),u(x.data.response);break;default:clearTimeout(_),clearTimeout(i),d(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return window}function OS(t){vn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(){return typeof vn().WorkerGlobalScope<"u"&&typeof vn().importScripts=="function"}async function LS(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MS(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function US(){return tv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="firebaseLocalStorageDb",FS=1,$a="firebaseLocalStorage",rv="fbase_key";class go{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fl(t,e){return t.transaction([$a],e?"readwrite":"readonly").objectStore($a)}function zS(){const t=indexedDB.deleteDatabase(nv);return new go(t).toPromise()}function mu(){const t=indexedDB.open(nv,FS);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($a,{keyPath:rv})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($a)?e(r):(r.close(),await zS(),e(await mu()))})})}async function ip(t,e,n){const r=fl(t,!0).put({[rv]:e,value:n});return new go(r).toPromise()}async function BS(t,e){const n=fl(t,!1).get(e),r=await new go(n).toPromise();return r===void 0?null:r.value}function op(t,e){const n=fl(t,!0).delete(e);return new go(n).toPromise()}const VS=800,$S=3;class sv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mu(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$S)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hl._getInstance(US()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await LS(),!this.activeServiceWorker)return;this.sender=new bS(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mu();return await ip(e,Va,"1"),await op(e,Va),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ip(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>BS(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>op(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=fl(s,!1).getAll();return new go(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sv.type="LOCAL";const HS=sv;new po(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t,e){return e?An(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd extends Jy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return As(e,this._buildIdpRequest())}_linkToIdToken(e,n){return As(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return As(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function GS(t){return CS(t.auth,new jd(t),t.bypassAuthState)}function KS(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),kS(n,new jd(t),t.bypassAuthState)}async function JS(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),xS(n,new jd(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:u}=e;if(a){this.reject(a);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GS;case"linkViaPopup":case"linkViaRedirect":return JS;case"reauthViaPopup":case"reauthViaRedirect":return KS;default:Un(this.auth,"internal-error")}}resolve(e){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=new po(2e3,1e4);class Es extends iv{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Es.currentPopupAction&&Es.currentPopupAction.cancel(),Es.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Y(e,this.auth,"internal-error"),e}async onExecution(){Fn(this.filter.length===1,"Popup operations only handle one event");const e=Pd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Es.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qS.get())};e()}}Es.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="pendingRedirect",la=new Map;class XS extends iv{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=la.get(this.auth._key());if(!e){try{const r=await QS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}la.set(this.auth._key(),e)}return this.bypassAuthState||la.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QS(t,e){const n=t4(e),r=e4(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function ZS(t,e){la.set(t._key(),e)}function e4(t){return An(t._redirectPersistence)}function t4(t){return aa(YS,t.config.apiKey,t.name)}async function n4(t,e,n=!1){if(qt(t.app))return Promise.reject(Hr(t));const r=Id(t),s=WS(r,e),a=await new XS(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=10*60*1e3;class s4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ov(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(yn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=r4&&this.cachedEventUids.clear(),this.cachedEventUids.has(ap(e))}saveEventToCache(e){this.cachedEventUids.add(ap(e)),this.lastProcessedEventTime=Date.now()}}function ap(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ov({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function i4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ov(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(t,e={}){return Js(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,l4=/^https?/;async function c4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await o4(t);for(const n of e)try{if(u4(n))return}catch{}Un(t,"unauthorized-domain")}function u4(t){const e=fu(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!l4.test(n))return!1;if(a4.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=new po(3e4,6e4);function lp(){const t=vn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function h4(t){return new Promise((e,n)=>{var s,i,a;function r(){lp(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lp(),n(yn(t,"network-request-failed"))},timeout:d4.get()})}if((i=(s=vn().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((a=vn().gapi)!=null&&a.load)r();else{const u=gS("iframefcb");return vn()[u]=()=>{gapi.load?r():n(yn(t,"network-request-failed"))},pS(`${mS()}?onload=${u}`).catch(d=>n(d))}}).catch(e=>{throw ca=null,e})}let ca=null;function f4(t){return ca=ca||h4(t),ca}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=new po(5e3,15e3),m4="__/auth/iframe",g4="emulator/auth/iframe",y4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},v4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _4(t){const e=t.config;Y(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xd(e,g4):`https://${t.config.authDomain}/${m4}`,r={apiKey:e.apiKey,appName:t.name,v:is},s=v4.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${fo(r).slice(1)}`}async function w4(t){const e=await f4(t),n=vn().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:_4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y4,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=yn(t,"network-request-failed"),u=vn().setTimeout(()=>{i(a)},p4.get());function d(){vn().clearTimeout(u),s(r)}r.ping(d).then(d,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E4=500,x4=600,k4="_blank",C4="http://localhost";class cp{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function N4(t,e,n,r=E4,s=x4){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...S4,width:r.toString(),height:s.toString(),top:i,left:a},f=ct().toLowerCase();n&&(u=zy(f)?k4:n),Uy(f)&&(e=e||C4,d.scrollbars="yes");const _=Object.entries(d).reduce((x,[T,D])=>`${x}${T}=${D},`,"");if(oS(f)&&u!=="_self")return I4(e||"",u),new cp(null);const g=window.open(e||"",u,_);Y(g,t,"popup-blocked");try{g.focus()}catch{}return new cp(g)}function I4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="__/auth/handler",P4="emulator/auth/handler",j4=encodeURIComponent("fac");async function up(t,e,n,r,s,i){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:is,eventId:s};if(e instanceof qy){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",T2(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,g]of Object.entries({}))a[_]=g}if(e instanceof mo){const _=e.getScopes().filter(g=>g!=="");_.length>0&&(a.scopes=_.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const _ of Object.keys(u))u[_]===void 0&&delete u[_];const d=await t._getAppCheckToken(),f=d?`#${j4}=${encodeURIComponent(d)}`:"";return`${A4(t)}?${fo(u).slice(1)}${f}`}function A4({config:t}){return t.emulator?xd(t,P4):`https://${t.authDomain}/${T4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc="webStorageSupport";class R4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ev,this._completeRedirectFn=n4,this._overrideRedirectResult=ZS}async _openPopup(e,n,r,s){var a;Fn((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const i=await up(e,n,r,fu(),s);return N4(e,i,Pd())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await up(e,n,r,fu(),s);return OS(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Fn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await w4(e),r=new s4(e);return n.register("authEvent",s=>(Y(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lc,{type:lc},s=>{var a;const i=(a=s==null?void 0:s[0])==null?void 0:a[lc];i!==void 0&&n(!!i),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=c4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Wy()||Fy()||Nd()}}const D4=R4;var dp="@firebase/auth",hp="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function L4(t){Zr(new Er("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;Y(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gy(t)},f=new hS(r,s,i,d);return vS(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Zr(new Er("auth-internal",e=>{const n=Id(e.getProvider("auth").getImmediate());return(r=>new b4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gn(dp,hp,O4(t)),gn(dp,hp,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=5*60,U4=xy("authIdTokenMaxAge")||M4;let fp=null;const F4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>U4)return;const s=n==null?void 0:n.token;fp!==s&&(fp=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function z4(t=Sd()){const e=dl(t,"auth");if(e.isInitialized())return e.getImmediate();const n=yS(t,{popupRedirectResolver:D4,persistence:[HS,RS,ev]}),r=xy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=F4(i.toString());IS(n,a,()=>a(n.currentUser)),NS(n,u=>a(u))}}const s=wy("auth");return s&&_S(n,`http://${s}`),n}function B4(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}fS({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=yn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",B4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});L4("Browser");var pp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ad;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,p){function v(){}v.prototype=p.prototype,w.F=p.prototype,w.prototype=new v,w.prototype.constructor=w,w.D=function(k,N,j){for(var C=Array(arguments.length-2),de=2;de<arguments.length;de++)C[de-2]=arguments[de];return p.prototype[N].apply(k,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(w,p,v){v||(v=0);const k=Array(16);if(typeof p=="string")for(var N=0;N<16;++N)k[N]=p.charCodeAt(v++)|p.charCodeAt(v++)<<8|p.charCodeAt(v++)<<16|p.charCodeAt(v++)<<24;else for(N=0;N<16;++N)k[N]=p[v++]|p[v++]<<8|p[v++]<<16|p[v++]<<24;p=w.g[0],v=w.g[1],N=w.g[2];let j=w.g[3],C;C=p+(j^v&(N^j))+k[0]+3614090360&4294967295,p=v+(C<<7&4294967295|C>>>25),C=j+(N^p&(v^N))+k[1]+3905402710&4294967295,j=p+(C<<12&4294967295|C>>>20),C=N+(v^j&(p^v))+k[2]+606105819&4294967295,N=j+(C<<17&4294967295|C>>>15),C=v+(p^N&(j^p))+k[3]+3250441966&4294967295,v=N+(C<<22&4294967295|C>>>10),C=p+(j^v&(N^j))+k[4]+4118548399&4294967295,p=v+(C<<7&4294967295|C>>>25),C=j+(N^p&(v^N))+k[5]+1200080426&4294967295,j=p+(C<<12&4294967295|C>>>20),C=N+(v^j&(p^v))+k[6]+2821735955&4294967295,N=j+(C<<17&4294967295|C>>>15),C=v+(p^N&(j^p))+k[7]+4249261313&4294967295,v=N+(C<<22&4294967295|C>>>10),C=p+(j^v&(N^j))+k[8]+1770035416&4294967295,p=v+(C<<7&4294967295|C>>>25),C=j+(N^p&(v^N))+k[9]+2336552879&4294967295,j=p+(C<<12&4294967295|C>>>20),C=N+(v^j&(p^v))+k[10]+4294925233&4294967295,N=j+(C<<17&4294967295|C>>>15),C=v+(p^N&(j^p))+k[11]+2304563134&4294967295,v=N+(C<<22&4294967295|C>>>10),C=p+(j^v&(N^j))+k[12]+1804603682&4294967295,p=v+(C<<7&4294967295|C>>>25),C=j+(N^p&(v^N))+k[13]+4254626195&4294967295,j=p+(C<<12&4294967295|C>>>20),C=N+(v^j&(p^v))+k[14]+2792965006&4294967295,N=j+(C<<17&4294967295|C>>>15),C=v+(p^N&(j^p))+k[15]+1236535329&4294967295,v=N+(C<<22&4294967295|C>>>10),C=p+(N^j&(v^N))+k[1]+4129170786&4294967295,p=v+(C<<5&4294967295|C>>>27),C=j+(v^N&(p^v))+k[6]+3225465664&4294967295,j=p+(C<<9&4294967295|C>>>23),C=N+(p^v&(j^p))+k[11]+643717713&4294967295,N=j+(C<<14&4294967295|C>>>18),C=v+(j^p&(N^j))+k[0]+3921069994&4294967295,v=N+(C<<20&4294967295|C>>>12),C=p+(N^j&(v^N))+k[5]+3593408605&4294967295,p=v+(C<<5&4294967295|C>>>27),C=j+(v^N&(p^v))+k[10]+38016083&4294967295,j=p+(C<<9&4294967295|C>>>23),C=N+(p^v&(j^p))+k[15]+3634488961&4294967295,N=j+(C<<14&4294967295|C>>>18),C=v+(j^p&(N^j))+k[4]+3889429448&4294967295,v=N+(C<<20&4294967295|C>>>12),C=p+(N^j&(v^N))+k[9]+568446438&4294967295,p=v+(C<<5&4294967295|C>>>27),C=j+(v^N&(p^v))+k[14]+3275163606&4294967295,j=p+(C<<9&4294967295|C>>>23),C=N+(p^v&(j^p))+k[3]+4107603335&4294967295,N=j+(C<<14&4294967295|C>>>18),C=v+(j^p&(N^j))+k[8]+1163531501&4294967295,v=N+(C<<20&4294967295|C>>>12),C=p+(N^j&(v^N))+k[13]+2850285829&4294967295,p=v+(C<<5&4294967295|C>>>27),C=j+(v^N&(p^v))+k[2]+4243563512&4294967295,j=p+(C<<9&4294967295|C>>>23),C=N+(p^v&(j^p))+k[7]+1735328473&4294967295,N=j+(C<<14&4294967295|C>>>18),C=v+(j^p&(N^j))+k[12]+2368359562&4294967295,v=N+(C<<20&4294967295|C>>>12),C=p+(v^N^j)+k[5]+4294588738&4294967295,p=v+(C<<4&4294967295|C>>>28),C=j+(p^v^N)+k[8]+2272392833&4294967295,j=p+(C<<11&4294967295|C>>>21),C=N+(j^p^v)+k[11]+1839030562&4294967295,N=j+(C<<16&4294967295|C>>>16),C=v+(N^j^p)+k[14]+4259657740&4294967295,v=N+(C<<23&4294967295|C>>>9),C=p+(v^N^j)+k[1]+2763975236&4294967295,p=v+(C<<4&4294967295|C>>>28),C=j+(p^v^N)+k[4]+1272893353&4294967295,j=p+(C<<11&4294967295|C>>>21),C=N+(j^p^v)+k[7]+4139469664&4294967295,N=j+(C<<16&4294967295|C>>>16),C=v+(N^j^p)+k[10]+3200236656&4294967295,v=N+(C<<23&4294967295|C>>>9),C=p+(v^N^j)+k[13]+681279174&4294967295,p=v+(C<<4&4294967295|C>>>28),C=j+(p^v^N)+k[0]+3936430074&4294967295,j=p+(C<<11&4294967295|C>>>21),C=N+(j^p^v)+k[3]+3572445317&4294967295,N=j+(C<<16&4294967295|C>>>16),C=v+(N^j^p)+k[6]+76029189&4294967295,v=N+(C<<23&4294967295|C>>>9),C=p+(v^N^j)+k[9]+3654602809&4294967295,p=v+(C<<4&4294967295|C>>>28),C=j+(p^v^N)+k[12]+3873151461&4294967295,j=p+(C<<11&4294967295|C>>>21),C=N+(j^p^v)+k[15]+530742520&4294967295,N=j+(C<<16&4294967295|C>>>16),C=v+(N^j^p)+k[2]+3299628645&4294967295,v=N+(C<<23&4294967295|C>>>9),C=p+(N^(v|~j))+k[0]+4096336452&4294967295,p=v+(C<<6&4294967295|C>>>26),C=j+(v^(p|~N))+k[7]+1126891415&4294967295,j=p+(C<<10&4294967295|C>>>22),C=N+(p^(j|~v))+k[14]+2878612391&4294967295,N=j+(C<<15&4294967295|C>>>17),C=v+(j^(N|~p))+k[5]+4237533241&4294967295,v=N+(C<<21&4294967295|C>>>11),C=p+(N^(v|~j))+k[12]+1700485571&4294967295,p=v+(C<<6&4294967295|C>>>26),C=j+(v^(p|~N))+k[3]+2399980690&4294967295,j=p+(C<<10&4294967295|C>>>22),C=N+(p^(j|~v))+k[10]+4293915773&4294967295,N=j+(C<<15&4294967295|C>>>17),C=v+(j^(N|~p))+k[1]+2240044497&4294967295,v=N+(C<<21&4294967295|C>>>11),C=p+(N^(v|~j))+k[8]+1873313359&4294967295,p=v+(C<<6&4294967295|C>>>26),C=j+(v^(p|~N))+k[15]+4264355552&4294967295,j=p+(C<<10&4294967295|C>>>22),C=N+(p^(j|~v))+k[6]+2734768916&4294967295,N=j+(C<<15&4294967295|C>>>17),C=v+(j^(N|~p))+k[13]+1309151649&4294967295,v=N+(C<<21&4294967295|C>>>11),C=p+(N^(v|~j))+k[4]+4149444226&4294967295,p=v+(C<<6&4294967295|C>>>26),C=j+(v^(p|~N))+k[11]+3174756917&4294967295,j=p+(C<<10&4294967295|C>>>22),C=N+(p^(j|~v))+k[2]+718787259&4294967295,N=j+(C<<15&4294967295|C>>>17),C=v+(j^(N|~p))+k[9]+3951481745&4294967295,w.g[0]=w.g[0]+p&4294967295,w.g[1]=w.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,w.g[2]=w.g[2]+N&4294967295,w.g[3]=w.g[3]+j&4294967295}r.prototype.v=function(w,p){p===void 0&&(p=w.length);const v=p-this.blockSize,k=this.C;let N=this.h,j=0;for(;j<p;){if(N==0)for(;j<=v;)s(this,w,j),j+=this.blockSize;if(typeof w=="string"){for(;j<p;)if(k[N++]=w.charCodeAt(j++),N==this.blockSize){s(this,k),N=0;break}}else for(;j<p;)if(k[N++]=w[j++],N==this.blockSize){s(this,k),N=0;break}}this.h=N,this.o+=p},r.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var p=1;p<w.length-8;++p)w[p]=0;p=this.o*8;for(var v=w.length-8;v<w.length;++v)w[v]=p&255,p/=256;for(this.v(w),w=Array(16),p=0,v=0;v<4;++v)for(let k=0;k<32;k+=8)w[p++]=this.g[v]>>>k&255;return w};function i(w,p){var v=u;return Object.prototype.hasOwnProperty.call(v,w)?v[w]:v[w]=p(w)}function a(w,p){this.h=p;const v=[];let k=!0;for(let N=w.length-1;N>=0;N--){const j=w[N]|0;k&&j==p||(v[N]=j,k=!1)}this.g=v}var u={};function d(w){return-128<=w&&w<128?i(w,function(p){return new a([p|0],p<0?-1:0)}):new a([w|0],w<0?-1:0)}function f(w){if(isNaN(w)||!isFinite(w))return g;if(w<0)return A(f(-w));const p=[];let v=1;for(let k=0;w>=v;k++)p[k]=w/v|0,v*=4294967296;return new a(p,0)}function _(w,p){if(w.length==0)throw Error("number format error: empty string");if(p=p||10,p<2||36<p)throw Error("radix out of range: "+p);if(w.charAt(0)=="-")return A(_(w.substring(1),p));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const v=f(Math.pow(p,8));let k=g;for(let j=0;j<w.length;j+=8){var N=Math.min(8,w.length-j);const C=parseInt(w.substring(j,j+N),p);N<8?(N=f(Math.pow(p,N)),k=k.j(N).add(f(C))):(k=k.j(v),k=k.add(f(C)))}return k}var g=d(0),x=d(1),T=d(16777216);t=a.prototype,t.m=function(){if(R(this))return-A(this).m();let w=0,p=1;for(let v=0;v<this.g.length;v++){const k=this.i(v);w+=(k>=0?k:4294967296+k)*p,p*=4294967296}return w},t.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(D(this))return"0";if(R(this))return"-"+A(this).toString(w);const p=f(Math.pow(w,6));var v=this;let k="";for(;;){const N=P(v,p).g;v=E(v,N.j(p));let j=((v.g.length>0?v.g[0]:v.h)>>>0).toString(w);if(v=N,D(v))return j+k;for(;j.length<6;)j="0"+j;k=j+k}},t.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function D(w){if(w.h!=0)return!1;for(let p=0;p<w.g.length;p++)if(w.g[p]!=0)return!1;return!0}function R(w){return w.h==-1}t.l=function(w){return w=E(this,w),R(w)?-1:D(w)?0:1};function A(w){const p=w.g.length,v=[];for(let k=0;k<p;k++)v[k]=~w.g[k];return new a(v,~w.h).add(x)}t.abs=function(){return R(this)?A(this):this},t.add=function(w){const p=Math.max(this.g.length,w.g.length),v=[];let k=0;for(let N=0;N<=p;N++){let j=k+(this.i(N)&65535)+(w.i(N)&65535),C=(j>>>16)+(this.i(N)>>>16)+(w.i(N)>>>16);k=C>>>16,j&=65535,C&=65535,v[N]=C<<16|j}return new a(v,v[v.length-1]&-2147483648?-1:0)};function E(w,p){return w.add(A(p))}t.j=function(w){if(D(this)||D(w))return g;if(R(this))return R(w)?A(this).j(A(w)):A(A(this).j(w));if(R(w))return A(this.j(A(w)));if(this.l(T)<0&&w.l(T)<0)return f(this.m()*w.m());const p=this.g.length+w.g.length,v=[];for(var k=0;k<2*p;k++)v[k]=0;for(k=0;k<this.g.length;k++)for(let N=0;N<w.g.length;N++){const j=this.i(k)>>>16,C=this.i(k)&65535,de=w.i(N)>>>16,je=w.i(N)&65535;v[2*k+2*N]+=C*je,S(v,2*k+2*N),v[2*k+2*N+1]+=j*je,S(v,2*k+2*N+1),v[2*k+2*N+1]+=C*de,S(v,2*k+2*N+1),v[2*k+2*N+2]+=j*de,S(v,2*k+2*N+2)}for(w=0;w<p;w++)v[w]=v[2*w+1]<<16|v[2*w];for(w=p;w<2*p;w++)v[w]=0;return new a(v,0)};function S(w,p){for(;(w[p]&65535)!=w[p];)w[p+1]+=w[p]>>>16,w[p]&=65535,p++}function y(w,p){this.g=w,this.h=p}function P(w,p){if(D(p))throw Error("division by zero");if(D(w))return new y(g,g);if(R(w))return p=P(A(w),p),new y(A(p.g),A(p.h));if(R(p))return p=P(w,A(p)),new y(A(p.g),p.h);if(w.g.length>30){if(R(w)||R(p))throw Error("slowDivide_ only works with positive integers.");for(var v=x,k=p;k.l(w)<=0;)v=M(v),k=M(k);var N=U(v,1),j=U(k,1);for(k=U(k,2),v=U(v,2);!D(k);){var C=j.add(k);C.l(w)<=0&&(N=N.add(v),j=C),k=U(k,1),v=U(v,1)}return p=E(w,N.j(p)),new y(N,p)}for(N=g;w.l(p)>=0;){for(v=Math.max(1,Math.floor(w.m()/p.m())),k=Math.ceil(Math.log(v)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),j=f(v),C=j.j(p);R(C)||C.l(w)>0;)v-=k,j=f(v),C=j.j(p);D(j)&&(j=x),N=N.add(j),w=E(w,C)}return new y(N,w)}t.B=function(w){return P(this,w).h},t.and=function(w){const p=Math.max(this.g.length,w.g.length),v=[];for(let k=0;k<p;k++)v[k]=this.i(k)&w.i(k);return new a(v,this.h&w.h)},t.or=function(w){const p=Math.max(this.g.length,w.g.length),v=[];for(let k=0;k<p;k++)v[k]=this.i(k)|w.i(k);return new a(v,this.h|w.h)},t.xor=function(w){const p=Math.max(this.g.length,w.g.length),v=[];for(let k=0;k<p;k++)v[k]=this.i(k)^w.i(k);return new a(v,this.h^w.h)};function M(w){const p=w.g.length+1,v=[];for(let k=0;k<p;k++)v[k]=w.i(k)<<1|w.i(k-1)>>>31;return new a(v,w.h)}function U(w,p){const v=p>>5;p%=32;const k=w.g.length-v,N=[];for(let j=0;j<k;j++)N[j]=p>0?w.i(j+v)>>>p|w.i(j+v+1)<<32-p:w.i(j+v);return new a(N,w.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=_,Ad=a}).apply(typeof pp<"u"?pp:typeof self<"u"?self:typeof window<"u"?window:{});var Wo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wo=="object"&&Wo];for(var c=0;c<o.length;++c){var h=o[c];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function s(o,c){if(c)e:{var h=r;o=o.split(".");for(var m=0;m<o.length-1;m++){var O=o[m];if(!(O in h))break e;h=h[O]}o=o[o.length-1],m=h[o],c=c(m),c!=m&&c!=null&&e(h,o,{configurable:!0,writable:!0,value:c})}}s("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(o){return o||function(c){var h=[],m;for(m in c)Object.prototype.hasOwnProperty.call(c,m)&&h.push([m,c[m]]);return h}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function u(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function d(o,c,h){return o.call.apply(o.bind,arguments)}function f(o,c,h){return f=d,f.apply(null,arguments)}function _(o,c){var h=Array.prototype.slice.call(arguments,1);return function(){var m=h.slice();return m.push.apply(m,arguments),o.apply(this,m)}}function g(o,c){function h(){}h.prototype=c.prototype,o.Z=c.prototype,o.prototype=new h,o.prototype.constructor=o,o.Ob=function(m,O,L){for(var z=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)z[Q-2]=arguments[Q];return c.prototype[O].apply(m,z)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function T(o){const c=o.length;if(c>0){const h=Array(c);for(let m=0;m<c;m++)h[m]=o[m];return h}return[]}function D(o,c){for(let m=1;m<arguments.length;m++){const O=arguments[m];var h=typeof O;if(h=h!="object"?h:O?Array.isArray(O)?"array":h:"null",h=="array"||h=="object"&&typeof O.length=="number"){h=o.length||0;const L=O.length||0;o.length=h+L;for(let z=0;z<L;z++)o[h+z]=O[z]}else o.push(O)}}class R{constructor(c,h){this.i=c,this.j=h,this.h=0,this.g=null}get(){let c;return this.h>0?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function A(o){a.setTimeout(()=>{throw o},0)}function E(){var o=w;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class S{constructor(){this.h=this.g=null}add(c,h){const m=y.get();m.set(c,h),this.h?this.h.next=m:this.g=m,this.h=m}}var y=new R(()=>new P,o=>o.reset());class P{constructor(){this.next=this.g=this.h=null}set(c,h){this.h=c,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let M,U=!1,w=new S,p=()=>{const o=Promise.resolve(void 0);M=()=>{o.then(v)}};function v(){for(var o;o=E();){try{o.h.call(o.g)}catch(h){A(h)}var c=y;c.j(o),c.h<100&&(c.h++,o.next=c.g,c.g=o)}U=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const h=()=>{};a.addEventListener("test",h,c),a.removeEventListener("test",h,c)}catch{}return o}();function C(o){return/^[\s\xa0]*$/.test(o)}function de(o,c){N.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,c)}g(de,N),de.prototype.init=function(o,c){const h=this.type=o.type,m=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget,c||(h=="mouseover"?c=o.fromElement:h=="mouseout"&&(c=o.toElement)),this.relatedTarget=c,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var je="closure_listenable_"+(Math.random()*1e6|0),Ze=0;function _t(o,c,h,m,O){this.listener=o,this.proxy=null,this.src=c,this.type=h,this.capture=!!m,this.ha=O,this.key=++Ze,this.da=this.fa=!1}function B(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function K(o,c,h){for(const m in o)c.call(h,o[m],m,o)}function J(o,c){for(const h in o)c.call(void 0,o[h],h,o)}function oe(o){const c={};for(const h in o)c[h]=o[h];return c}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(o,c){let h,m;for(let O=1;O<arguments.length;O++){m=arguments[O];for(h in m)o[h]=m[h];for(let L=0;L<ae.length;L++)h=ae[L],Object.prototype.hasOwnProperty.call(m,h)&&(o[h]=m[h])}}function Ne(o){this.src=o,this.g={},this.h=0}Ne.prototype.add=function(o,c,h,m,O){const L=o.toString();o=this.g[L],o||(o=this.g[L]=[],this.h++);const z=G(o,c,m,O);return z>-1?(c=o[z],h||(c.fa=!1)):(c=new _t(c,this.src,L,!!m,O),c.fa=h,o.push(c)),c};function Ie(o,c){const h=c.type;if(h in o.g){var m=o.g[h],O=Array.prototype.indexOf.call(m,c,void 0),L;(L=O>=0)&&Array.prototype.splice.call(m,O,1),L&&(B(c),o.g[h].length==0&&(delete o.g[h],o.h--))}}function G(o,c,h,m){for(let O=0;O<o.length;++O){const L=o[O];if(!L.da&&L.listener==c&&L.capture==!!h&&L.ha==m)return O}return-1}var le="closure_lm_"+(Math.random()*1e6|0),Te={};function Me(o,c,h,m,O){if(Array.isArray(c)){for(let L=0;L<c.length;L++)Me(o,c[L],h,m,O);return null}return h=Bn(h),o&&o[je]?o.J(c,h,u(m)?!!m.capture:!1,O):nn(o,c,h,!1,m,O)}function nn(o,c,h,m,O,L){if(!c)throw Error("Invalid event type");const z=u(O)?!!O.capture:!!O;let Q=xn(o);if(Q||(o[le]=Q=new Ne(o)),h=Q.add(c,h,m,z,L),h.proxy)return h;if(m=wt(),h.proxy=m,m.src=o,m.listener=h,o.addEventListener)j||(O=z),O===void 0&&(O=!1),o.addEventListener(c.toString(),m,O);else if(o.attachEvent)o.attachEvent(Bt(c.toString()),m);else if(o.addListener&&o.removeListener)o.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return h}function wt(){function o(h){return c.call(o.src,o.listener,h)}const c=he;return o}function Ft(o,c,h,m,O){if(Array.isArray(c))for(var L=0;L<c.length;L++)Ft(o,c[L],h,m,O);else m=u(m)?!!m.capture:!!m,h=Bn(h),o&&o[je]?(o=o.i,L=String(c).toString(),L in o.g&&(c=o.g[L],h=G(c,h,m,O),h>-1&&(B(c[h]),Array.prototype.splice.call(c,h,1),c.length==0&&(delete o.g[L],o.h--)))):o&&(o=xn(o))&&(c=o.g[c.toString()],o=-1,c&&(o=G(c,h,m,O)),(h=o>-1?c[o]:null)&&zt(h))}function zt(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[je])Ie(c.i,o);else{var h=o.type,m=o.proxy;c.removeEventListener?c.removeEventListener(h,m,o.capture):c.detachEvent?c.detachEvent(Bt(h),m):c.addListener&&c.removeListener&&c.removeListener(m),(h=xn(c))?(Ie(h,o),h.h==0&&(h.src=null,c[le]=null)):B(o)}}}function Bt(o){return o in Te?Te[o]:Te[o]="on"+o}function he(o,c){if(o.da)o=!0;else{c=new de(c,this);const h=o.listener,m=o.ha||o.src;o.fa&&zt(o),o=h.call(m,c)}return o}function xn(o){return o=o[le],o instanceof Ne?o:null}var Pt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Bn(o){return typeof o=="function"?o:(o[Pt]||(o[Pt]=function(c){return o.handleEvent(c)}),o[Pt])}function De(){k.call(this),this.i=new Ne(this),this.M=this,this.G=null}g(De,k),De.prototype[je]=!0,De.prototype.removeEventListener=function(o,c,h,m){Ft(this,o,c,h,m)};function Ue(o,c){var h,m=o.G;if(m)for(h=[];m;m=m.G)h.push(m);if(o=o.M,m=c.type||c,typeof c=="string")c=new N(c,o);else if(c instanceof N)c.target=c.target||o;else{var O=c;c=new N(m,o),et(c,O)}O=!0;let L,z;if(h)for(z=h.length-1;z>=0;z--)L=c.g=h[z],O=Vn(L,m,!0,c)&&O;if(L=c.g=o,O=Vn(L,m,!0,c)&&O,O=Vn(L,m,!1,c)&&O,h)for(z=0;z<h.length;z++)L=c.g=h[z],O=Vn(L,m,!1,c)&&O}De.prototype.N=function(){if(De.Z.N.call(this),this.i){var o=this.i;for(const c in o.g){const h=o.g[c];for(let m=0;m<h.length;m++)B(h[m]);delete o.g[c],o.h--}}this.G=null},De.prototype.J=function(o,c,h,m){return this.i.add(String(o),c,!1,h,m)},De.prototype.K=function(o,c,h,m){return this.i.add(String(o),c,!0,h,m)};function Vn(o,c,h,m){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();let O=!0;for(let L=0;L<c.length;++L){const z=c[L];if(z&&!z.da&&z.capture==h){const Q=z.listener,Be=z.ha||z.src;z.fa&&Ie(o.i,z),O=Q.call(Be,m)!==!1&&O}}return O&&!m.defaultPrevented}function $(o,c){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=f(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(c)>2147483647?-1:a.setTimeout(o,c||0)}function we(o){o.g=$(()=>{o.g=null,o.i&&(o.i=!1,we(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class Ke extends k{constructor(c,h){super(),this.m=c,this.l=h,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:we(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Je(o){k.call(this),this.h=o,this.g={}}g(Je,k);var tt=[];function jt(o){K(o.g,function(c,h){this.g.hasOwnProperty(h)&&zt(c)},o),o.g={}}Je.prototype.N=function(){Je.Z.N.call(this),jt(this)},Je.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vt=a.JSON.stringify,rn=a.JSON.parse,$t=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function Fe(){}function $n(){}var ht={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Hn(){N.call(this,"d")}g(Hn,N);function kn(){N.call(this,"c")}g(kn,N);var fe={},St=null;function qs(){return St=St||new De}fe.Ia="serverreachability";function os(o){N.call(this,fe.Ia,o)}g(os,N);function b(o){const c=qs();Ue(c,new os(c))}fe.STAT_EVENT="statevent";function W(o,c){N.call(this,fe.STAT_EVENT,o),this.stat=c}g(W,N);function V(o){const c=qs();Ue(c,new W(c,o))}fe.Ja="timingevent";function X(o,c){N.call(this,fe.Ja,o),this.size=c}g(X,N);function ee(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},c)}function Se(){this.g=!0}Se.prototype.ua=function(){this.g=!1};function se(o,c,h,m,O,L){o.info(function(){if(o.g)if(L){var z="",Q=L.split("&");for(let pe=0;pe<Q.length;pe++){var Be=Q[pe].split("=");if(Be.length>1){const He=Be[0];Be=Be[1];const on=He.split("_");z=on.length>=2&&on[1]=="type"?z+(He+"="+Be+"&"):z+(He+"=redacted&")}}}else z=null;else z=L;return"XMLHTTP REQ ("+m+") [attempt "+O+"]: "+c+`
`+h+`
`+z})}function qe(o,c,h,m,O,L,z){o.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+O+"]: "+c+`
`+h+`
`+L+" "+z})}function Ee(o,c,h,m){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+Ys(o,h)+(m?" "+m:"")})}function ze(o,c){o.info(function(){return"TIMEOUT: "+c})}Se.prototype.info=function(){};function Ys(o,c){if(!o.g)return c;if(!c)return null;try{const L=JSON.parse(c);if(L){for(o=0;o<L.length;o++)if(Array.isArray(L[o])){var h=L[o];if(!(h.length<2)){var m=h[1];if(Array.isArray(m)&&!(m.length<1)){var O=m[0];if(O!="noop"&&O!="stop"&&O!="close")for(let z=1;z<m.length;z++)m[z]=""}}}}return Vt(L)}catch{return c}}var pl={NO_ERROR:0,TIMEOUT:8},vv={},Md;function ml(){}g(ml,Fe),ml.prototype.g=function(){return new XMLHttpRequest},Md=new ml;function Xs(o){return encodeURIComponent(String(o))}function _v(o){var c=1;o=o.split(":");const h=[];for(;c>0&&o.length;)h.push(o.shift()),c--;return o.length&&h.push(o.join(":")),h}function Wn(o,c,h,m){this.j=o,this.i=c,this.l=h,this.S=m||1,this.V=new Je(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ud}function Ud(){this.i=null,this.g="",this.h=!1}var Fd={},gl={};function yl(o,c,h){o.M=1,o.A=wo(sn(c)),o.u=h,o.R=!0,zd(o,null)}function zd(o,c){o.F=Date.now(),_o(o),o.B=sn(o.A);var h=o.B,m=o.S;Array.isArray(m)||(m=[String(m)]),Zd(h.i,"t",m),o.C=0,h=o.j.L,o.h=new Ud,o.g=yh(o.j,h?c:null,!o.u),o.P>0&&(o.O=new Ke(f(o.Y,o,o.g),o.P)),c=o.V,h=o.g,m=o.ba;var O="readystatechange";Array.isArray(O)||(O&&(tt[0]=O.toString()),O=tt);for(let L=0;L<O.length;L++){const z=Me(h,O[L],m||c.handleEvent,!1,c.h||c);if(!z)break;c.g[z.key]=z}c=o.J?oe(o.J):{},o.u?(o.v||(o.v="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,c)):(o.v="GET",o.g.ea(o.B,o.v,null,c)),b(),se(o.i,o.v,o.B,o.l,o.S,o.u)}Wn.prototype.ba=function(o){o=o.target;const c=this.O;c&&Jn(o)==3?c.j():this.Y(o)},Wn.prototype.Y=function(o){try{if(o==this.g)e:{const Q=Jn(this.g),Be=this.g.ya(),pe=this.g.ca();if(!(Q<3)&&(Q!=3||this.g&&(this.h.h||this.g.la()||oh(this.g)))){this.K||Q!=4||Be==7||(Be==8||pe<=0?b(3):b(2)),vl(this);var c=this.g.ca();this.X=c;var h=wv(this);if(this.o=c==200,qe(this.i,this.v,this.B,this.l,this.S,Q,c),this.o){if(this.U&&!this.L){t:{if(this.g){var m,O=this.g;if((m=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(m)){var L=m;break t}}L=null}if(o=L)Ee(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_l(this,o);else{this.o=!1,this.m=3,V(12),Tr(this),Qs(this);break e}}if(this.R){o=!0;let He;for(;!this.K&&this.C<h.length;)if(He=Sv(this,h),He==gl){Q==4&&(this.m=4,V(14),o=!1),Ee(this.i,this.l,null,"[Incomplete Response]");break}else if(He==Fd){this.m=4,V(15),Ee(this.i,this.l,h,"[Invalid Chunk]"),o=!1;break}else Ee(this.i,this.l,He,null),_l(this,He);if(Bd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Q!=4||h.length!=0||this.h.h||(this.m=1,V(16),o=!1),this.o=this.o&&o,!o)Ee(this.i,this.l,h,"[Invalid Chunked Response]"),Tr(this),Qs(this);else if(h.length>0&&!this.W){this.W=!0;var z=this.j;z.g==this&&z.aa&&!z.P&&(z.j.info("Great, no buffering proxy detected. Bytes received: "+h.length),Il(z),z.P=!0,V(11))}}else Ee(this.i,this.l,h,null),_l(this,h);Q==4&&Tr(this),this.o&&!this.K&&(Q==4?fh(this.j,this):(this.o=!1,_o(this)))}else Ov(this.g),c==400&&h.indexOf("Unknown SID")>0?(this.m=3,V(12)):(this.m=0,V(13)),Tr(this),Qs(this)}}}catch{}finally{}};function wv(o){if(!Bd(o))return o.g.la();const c=oh(o.g);if(c==="")return"";let h="";const m=c.length,O=Jn(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return Tr(o),Qs(o),"";o.h.i=new a.TextDecoder}for(let L=0;L<m;L++)o.h.h=!0,h+=o.h.i.decode(c[L],{stream:!(O&&L==m-1)});return c.length=0,o.h.g+=h,o.C=0,o.h.g}function Bd(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function Sv(o,c){var h=o.C,m=c.indexOf(`
`,h);return m==-1?gl:(h=Number(c.substring(h,m)),isNaN(h)?Fd:(m+=1,m+h>c.length?gl:(c=c.slice(m,m+h),o.C=m+h,c)))}Wn.prototype.cancel=function(){this.K=!0,Tr(this)};function _o(o){o.T=Date.now()+o.H,Vd(o,o.H)}function Vd(o,c){if(o.D!=null)throw Error("WatchDog timer not null");o.D=ee(f(o.aa,o),c)}function vl(o){o.D&&(a.clearTimeout(o.D),o.D=null)}Wn.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(ze(this.i,this.B),this.M!=2&&(b(),V(17)),Tr(this),this.m=2,Qs(this)):Vd(this,this.T-o)};function Qs(o){o.j.I==0||o.K||fh(o.j,o)}function Tr(o){vl(o);var c=o.O;c&&typeof c.dispose=="function"&&c.dispose(),o.O=null,jt(o.V),o.g&&(c=o.g,o.g=null,c.abort(),c.dispose())}function _l(o,c){try{var h=o.j;if(h.I!=0&&(h.g==o||wl(h.h,o))){if(!o.L&&wl(h.h,o)&&h.I==3){try{var m=h.Ba.g.parse(c)}catch{m=null}if(Array.isArray(m)&&m.length==3){var O=m;if(O[0]==0){e:if(!h.v){if(h.g)if(h.g.F+3e3<o.F)Co(h),xo(h);else break e;Nl(h),V(18)}}else h.xa=O[1],0<h.xa-h.K&&O[2]<37500&&h.F&&h.A==0&&!h.C&&(h.C=ee(f(h.Va,h),6e3));Wd(h.h)<=1&&h.ta&&(h.ta=void 0)}else jr(h,11)}else if((o.L||h.g==o)&&Co(h),!C(c))for(O=h.Ba.g.parse(c),c=0;c<O.length;c++){let pe=O[c];const He=pe[0];if(!(He<=h.K))if(h.K=He,pe=pe[1],h.I==2)if(pe[0]=="c"){h.M=pe[1],h.ba=pe[2];const on=pe[3];on!=null&&(h.ka=on,h.j.info("VER="+h.ka));const Ar=pe[4];Ar!=null&&(h.za=Ar,h.j.info("SVER="+h.za));const qn=pe[5];qn!=null&&typeof qn=="number"&&qn>0&&(m=1.5*qn,h.O=m,h.j.info("backChannelRequestTimeoutMs_="+m)),m=h;const Yn=o.g;if(Yn){const No=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(No){var L=m.h;L.g||No.indexOf("spdy")==-1&&No.indexOf("quic")==-1&&No.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Sl(L,L.h),L.h=null))}if(m.G){const Tl=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Tl&&(m.wa=Tl,ge(m.J,m.G,Tl))}}h.I=3,h.l&&h.l.ra(),h.aa&&(h.T=Date.now()-o.F,h.j.info("Handshake RTT: "+h.T+"ms")),m=h;var z=o;if(m.na=gh(m,m.L?m.ba:null,m.W),z.L){Gd(m.h,z);var Q=z,Be=m.O;Be&&(Q.H=Be),Q.D&&(vl(Q),_o(Q)),m.g=z}else dh(m);h.i.length>0&&ko(h)}else pe[0]!="stop"&&pe[0]!="close"||jr(h,7);else h.I==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?jr(h,7):Cl(h):pe[0]!="noop"&&h.l&&h.l.qa(pe),h.A=0)}}b(4)}catch{}}var Ev=class{constructor(o,c){this.g=o,this.map=c}};function $d(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Hd(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Wd(o){return o.h?1:o.g?o.g.size:0}function wl(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function Sl(o,c){o.g?o.g.add(c):o.h=c}function Gd(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}$d.prototype.cancel=function(){if(this.i=Kd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Kd(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const h of o.g.values())c=c.concat(h.G);return c}return T(o.i)}var Jd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xv(o,c){if(o){o=o.split("&");for(let h=0;h<o.length;h++){const m=o[h].indexOf("=");let O,L=null;m>=0?(O=o[h].substring(0,m),L=o[h].substring(m+1)):O=o[h],c(O,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Gn(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let c;o instanceof Gn?(this.l=o.l,Zs(this,o.j),this.o=o.o,this.g=o.g,ei(this,o.u),this.h=o.h,El(this,eh(o.i)),this.m=o.m):o&&(c=String(o).match(Jd))?(this.l=!1,Zs(this,c[1]||"",!0),this.o=ti(c[2]||""),this.g=ti(c[3]||"",!0),ei(this,c[4]),this.h=ti(c[5]||"",!0),El(this,c[6]||"",!0),this.m=ti(c[7]||"")):(this.l=!1,this.i=new ri(null,this.l))}Gn.prototype.toString=function(){const o=[];var c=this.j;c&&o.push(ni(c,qd,!0),":");var h=this.g;return(h||c=="file")&&(o.push("//"),(c=this.o)&&o.push(ni(c,qd,!0),"@"),o.push(Xs(h).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.u,h!=null&&o.push(":",String(h))),(h=this.h)&&(this.g&&h.charAt(0)!="/"&&o.push("/"),o.push(ni(h,h.charAt(0)=="/"?Nv:Cv,!0))),(h=this.i.toString())&&o.push("?",h),(h=this.m)&&o.push("#",ni(h,Tv)),o.join("")},Gn.prototype.resolve=function(o){const c=sn(this);let h=!!o.j;h?Zs(c,o.j):h=!!o.o,h?c.o=o.o:h=!!o.g,h?c.g=o.g:h=o.u!=null;var m=o.h;if(h)ei(c,o.u);else if(h=!!o.h){if(m.charAt(0)!="/")if(this.g&&!this.h)m="/"+m;else{var O=c.h.lastIndexOf("/");O!=-1&&(m=c.h.slice(0,O+1)+m)}if(O=m,O==".."||O==".")m="";else if(O.indexOf("./")!=-1||O.indexOf("/.")!=-1){m=O.lastIndexOf("/",0)==0,O=O.split("/");const L=[];for(let z=0;z<O.length;){const Q=O[z++];Q=="."?m&&z==O.length&&L.push(""):Q==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),m&&z==O.length&&L.push("")):(L.push(Q),m=!0)}m=L.join("/")}else m=O}return h?c.h=m:h=o.i.toString()!=="",h?El(c,eh(o.i)):h=!!o.m,h&&(c.m=o.m),c};function sn(o){return new Gn(o)}function Zs(o,c,h){o.j=h?ti(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function ei(o,c){if(c){if(c=Number(c),isNaN(c)||c<0)throw Error("Bad port number "+c);o.u=c}else o.u=null}function El(o,c,h){c instanceof ri?(o.i=c,Pv(o.i,o.l)):(h||(c=ni(c,Iv)),o.i=new ri(c,o.l))}function ge(o,c,h){o.i.set(c,h)}function wo(o){return ge(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function ti(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function ni(o,c,h){return typeof o=="string"?(o=encodeURI(o).replace(c,kv),h&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function kv(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var qd=/[#\/\?@]/g,Cv=/[#\?:]/g,Nv=/[#\?]/g,Iv=/[#\?@]/g,Tv=/#/g;function ri(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function Pr(o){o.g||(o.g=new Map,o.h=0,o.i&&xv(o.i,function(c,h){o.add(decodeURIComponent(c.replace(/\+/g," ")),h)}))}t=ri.prototype,t.add=function(o,c){Pr(this),this.i=null,o=as(this,o);let h=this.g.get(o);return h||this.g.set(o,h=[]),h.push(c),this.h+=1,this};function Yd(o,c){Pr(o),c=as(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function Xd(o,c){return Pr(o),c=as(o,c),o.g.has(c)}t.forEach=function(o,c){Pr(this),this.g.forEach(function(h,m){h.forEach(function(O){o.call(c,O,m,this)},this)},this)};function Qd(o,c){Pr(o);let h=[];if(typeof c=="string")Xd(o,c)&&(h=h.concat(o.g.get(as(o,c))));else for(o=Array.from(o.g.values()),c=0;c<o.length;c++)h=h.concat(o[c]);return h}t.set=function(o,c){return Pr(this),this.i=null,o=as(this,o),Xd(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},t.get=function(o,c){return o?(o=Qd(this,o),o.length>0?String(o[0]):c):c};function Zd(o,c,h){Yd(o,c),h.length>0&&(o.i=null,o.g.set(as(o,c),T(h)),o.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(let m=0;m<c.length;m++){var h=c[m];const O=Xs(h);h=Qd(this,h);for(let L=0;L<h.length;L++){let z=O;h[L]!==""&&(z+="="+Xs(h[L])),o.push(z)}}return this.i=o.join("&")};function eh(o){const c=new ri;return c.i=o.i,o.g&&(c.g=new Map(o.g),c.h=o.h),c}function as(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function Pv(o,c){c&&!o.j&&(Pr(o),o.i=null,o.g.forEach(function(h,m){const O=m.toLowerCase();m!=O&&(Yd(this,m),Zd(this,O,h))},o)),o.j=c}function jv(o,c){const h=new Se;if(a.Image){const m=new Image;m.onload=_(Kn,h,"TestLoadImage: loaded",!0,c,m),m.onerror=_(Kn,h,"TestLoadImage: error",!1,c,m),m.onabort=_(Kn,h,"TestLoadImage: abort",!1,c,m),m.ontimeout=_(Kn,h,"TestLoadImage: timeout",!1,c,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=o}else c(!1)}function Av(o,c){const h=new Se,m=new AbortController,O=setTimeout(()=>{m.abort(),Kn(h,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:m.signal}).then(L=>{clearTimeout(O),L.ok?Kn(h,"TestPingServer: ok",!0,c):Kn(h,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(O),Kn(h,"TestPingServer: error",!1,c)})}function Kn(o,c,h,m,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),m(h)}catch{}}function Rv(){this.g=new $t}function xl(o){this.i=o.Sb||null,this.h=o.ab||!1}g(xl,Fe),xl.prototype.g=function(){return new So(this.i,this.h)};function So(o,c){De.call(this),this.H=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(So,De),t=So.prototype,t.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=c,this.readyState=1,ii(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const c={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(c.body=o),(this.H||a).fetch(new Request(this.D,c)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,si(this)),this.readyState=0},t.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;th(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function th(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}t.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.B.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?si(this):ii(this),this.readyState==3&&th(this)}},t.Oa=function(o){this.g&&(this.response=this.responseText=o,si(this))},t.Na=function(o){this.g&&(this.response=o,si(this))},t.ga=function(){this.g&&si(this)};function si(o){o.readyState=4,o.l=null,o.j=null,o.B=null,ii(o)}t.setRequestHeader=function(o,c){this.A.append(o,c)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var h=c.next();!h.done;)h=h.value,o.push(h[0]+": "+h[1]),h=c.next();return o.join(`\r
`)};function ii(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(So.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function nh(o){let c="";return K(o,function(h,m){c+=m,c+=":",c+=h,c+=`\r
`}),c}function kl(o,c,h){e:{for(m in h){var m=!1;break e}m=!0}m||(h=nh(h),typeof o=="string"?h!=null&&Xs(h):ge(o,c,h))}function Ae(o){De.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Ae,De);var Dv=/^https?$/i,bv=["POST","PUT"];t=Ae.prototype,t.Fa=function(o){this.H=o},t.ea=function(o,c,h,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Md.g(),this.g.onreadystatechange=x(f(this.Ca,this));try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(L){rh(this,L);return}if(o=h||"",h=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var O in m)h.set(O,m[O]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(const L of m.keys())h.set(L,m.get(L));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(h.keys()).find(L=>L.toLowerCase()=="content-type"),O=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call(bv,c,void 0)>=0)||m||O||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,z]of h)this.g.setRequestHeader(L,z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(L){rh(this,L)}};function rh(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.o=5,sh(o),Eo(o)}function sh(o){o.A||(o.A=!0,Ue(o,"complete"),Ue(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,Ue(this,"complete"),Ue(this,"abort"),Eo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Eo(this,!0)),Ae.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ih(this):this.Xa())},t.Xa=function(){ih(this)};function ih(o){if(o.h&&typeof i<"u"){if(o.v&&Jn(o)==4)setTimeout(o.Ca.bind(o),0);else if(Ue(o,"readystatechange"),Jn(o)==4){o.h=!1;try{const L=o.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var h;if(!(h=c)){var m;if(m=L===0){let z=String(o.D).match(Jd)[1]||null;!z&&a.self&&a.self.location&&(z=a.self.location.protocol.slice(0,-1)),m=!Dv.test(z?z.toLowerCase():"")}h=m}if(h)Ue(o,"complete"),Ue(o,"success");else{o.o=6;try{var O=Jn(o)>2?o.g.statusText:""}catch{O=""}o.l=O+" ["+o.ca()+"]",sh(o)}}finally{Eo(o)}}}}function Eo(o,c){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const h=o.g;o.g=null,c||Ue(o,"ready");try{h.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Jn(o){return o.g?o.g.readyState:0}t.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),rn(c)}};function oh(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ov(o){const c={};o=(o.g&&Jn(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<o.length;m++){if(C(o[m]))continue;var h=_v(o[m]);const O=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();const L=c[O]||[];c[O]=L,L.push(h)}J(c,function(m){return m.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function oi(o,c,h){return h&&h.internalChannelParams&&h.internalChannelParams[o]||c}function ah(o){this.za=0,this.i=[],this.j=new Se,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=oi("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=oi("baseRetryDelayMs",5e3,o),this.Za=oi("retryDelaySeedMs",1e4,o),this.Ta=oi("forwardChannelMaxRetries",2,o),this.va=oi("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new $d(o&&o.concurrentRequestLimit),this.Ba=new Rv,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ah.prototype,t.ka=8,t.I=1,t.connect=function(o,c,h,m){V(0),this.W=o,this.H=c||{},h&&m!==void 0&&(this.H.OSID=h,this.H.OAID=m),this.F=this.X,this.J=gh(this,null,this.W),ko(this)};function Cl(o){if(lh(o),o.I==3){var c=o.V++,h=sn(o.J);if(ge(h,"SID",o.M),ge(h,"RID",c),ge(h,"TYPE","terminate"),ai(o,h),c=new Wn(o,o.j,c),c.M=2,c.A=wo(sn(h)),h=!1,a.navigator&&a.navigator.sendBeacon)try{h=a.navigator.sendBeacon(c.A.toString(),"")}catch{}!h&&a.Image&&(new Image().src=c.A,h=!0),h||(c.g=yh(c.j,null),c.g.ea(c.A)),c.F=Date.now(),_o(c)}mh(o)}function xo(o){o.g&&(Il(o),o.g.cancel(),o.g=null)}function lh(o){xo(o),o.v&&(a.clearTimeout(o.v),o.v=null),Co(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function ko(o){if(!Hd(o.h)&&!o.m){o.m=!0;var c=o.Ea;M||p(),U||(M(),U=!0),w.add(c,o),o.D=0}}function Lv(o,c){return Wd(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=c.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=ee(f(o.Ea,o,c),ph(o,o.D)),o.D++,!0)}t.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const O=new Wn(this,this.j,o);let L=this.o;if(this.U&&(L?(L=oe(L),et(L,this.U)):L=this.U),this.u!==null||this.R||(O.J=L,L=null),this.S)e:{for(var c=0,h=0;h<this.i.length;h++){t:{var m=this.i[h];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(c+=m,c>4096){c=h;break e}if(c===4096||h===this.i.length-1){c=h+1;break e}}c=1e3}else c=1e3;c=uh(this,O,c),h=sn(this.J),ge(h,"RID",o),ge(h,"CVER",22),this.G&&ge(h,"X-HTTP-Session-Id",this.G),ai(this,h),L&&(this.R?c="headers="+Xs(nh(L))+"&"+c:this.u&&kl(h,this.u,L)),Sl(this.h,O),this.Ra&&ge(h,"TYPE","init"),this.S?(ge(h,"$req",c),ge(h,"SID","null"),O.U=!0,yl(O,h,null)):yl(O,h,c),this.I=2}}else this.I==3&&(o?ch(this,o):this.i.length==0||Hd(this.h)||ch(this))};function ch(o,c){var h;c?h=c.l:h=o.V++;const m=sn(o.J);ge(m,"SID",o.M),ge(m,"RID",h),ge(m,"AID",o.K),ai(o,m),o.u&&o.o&&kl(m,o.u,o.o),h=new Wn(o,o.j,h,o.D+1),o.u===null&&(h.J=o.o),c&&(o.i=c.G.concat(o.i)),c=uh(o,h,1e3),h.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Sl(o.h,h),yl(h,m,c)}function ai(o,c){o.H&&K(o.H,function(h,m){ge(c,m,h)}),o.l&&K({},function(h,m){ge(c,m,h)})}function uh(o,c,h){h=Math.min(o.i.length,h);const m=o.l?f(o.l.Ka,o.l,o):null;e:{var O=o.i;let Q=-1;for(;;){const Be=["count="+h];Q==-1?h>0?(Q=O[0].g,Be.push("ofs="+Q)):Q=0:Be.push("ofs="+Q);let pe=!0;for(let He=0;He<h;He++){var L=O[He].g;const on=O[He].map;if(L-=Q,L<0)Q=Math.max(0,O[He].g-100),pe=!1;else try{L="req"+L+"_"||"";try{var z=on instanceof Map?on:Object.entries(on);for(const[Ar,qn]of z){let Yn=qn;u(qn)&&(Yn=Vt(qn)),Be.push(L+Ar+"="+encodeURIComponent(Yn))}}catch(Ar){throw Be.push(L+"type="+encodeURIComponent("_badmap")),Ar}}catch{m&&m(on)}}if(pe){z=Be.join("&");break e}}z=void 0}return o=o.i.splice(0,h),c.G=o,z}function dh(o){if(!o.g&&!o.v){o.Y=1;var c=o.Da;M||p(),U||(M(),U=!0),w.add(c,o),o.A=0}}function Nl(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=ee(f(o.Da,o),ph(o,o.A)),o.A++,!0)}t.Da=function(){if(this.v=null,hh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=ee(f(this.Wa,this),o)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,V(10),xo(this),hh(this))};function Il(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function hh(o){o.g=new Wn(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var c=sn(o.na);ge(c,"RID","rpc"),ge(c,"SID",o.M),ge(c,"AID",o.K),ge(c,"CI",o.F?"0":"1"),!o.F&&o.ia&&ge(c,"TO",o.ia),ge(c,"TYPE","xmlhttp"),ai(o,c),o.u&&o.o&&kl(c,o.u,o.o),o.O&&(o.g.H=o.O);var h=o.g;o=o.ba,h.M=1,h.A=wo(sn(c)),h.u=null,h.R=!0,zd(h,o)}t.Va=function(){this.C!=null&&(this.C=null,xo(this),Nl(this),V(19))};function Co(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function fh(o,c){var h=null;if(o.g==c){Co(o),Il(o),o.g=null;var m=2}else if(wl(o.h,c))h=c.G,Gd(o.h,c),m=1;else return;if(o.I!=0){if(c.o)if(m==1){h=c.u?c.u.length:0,c=Date.now()-c.F;var O=o.D;m=qs(),Ue(m,new X(m,h)),ko(o)}else dh(o);else if(O=c.m,O==3||O==0&&c.X>0||!(m==1&&Lv(o,c)||m==2&&Nl(o)))switch(h&&h.length>0&&(c=o.h,c.i=c.i.concat(h)),O){case 1:jr(o,5);break;case 4:jr(o,10);break;case 3:jr(o,6);break;default:jr(o,2)}}}function ph(o,c){let h=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(h*=2),h*c}function jr(o,c){if(o.j.info("Error code "+c),c==2){var h=f(o.bb,o),m=o.Ua;const O=!m;m=new Gn(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Zs(m,"https"),wo(m),O?jv(m.toString(),h):Av(m.toString(),h)}else V(2);o.I=0,o.l&&o.l.pa(c),mh(o),lh(o)}t.bb=function(o){o?(this.j.info("Successfully pinged google.com"),V(2)):(this.j.info("Failed to ping google.com"),V(1))};function mh(o){if(o.I=0,o.ja=[],o.l){const c=Kd(o.h);(c.length!=0||o.i.length!=0)&&(D(o.ja,c),D(o.ja,o.i),o.h.i.length=0,T(o.i),o.i.length=0),o.l.oa()}}function gh(o,c,h){var m=h instanceof Gn?sn(h):new Gn(h);if(m.g!="")c&&(m.g=c+"."+m.g),ei(m,m.u);else{var O=a.location;m=O.protocol,c=c?c+"."+O.hostname:O.hostname,O=+O.port;const L=new Gn(null);m&&Zs(L,m),c&&(L.g=c),O&&ei(L,O),h&&(L.h=h),m=L}return h=o.G,c=o.wa,h&&c&&ge(m,h,c),ge(m,"VER",o.ka),ai(o,m),m}function yh(o,c,h){if(c&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Aa&&!o.ma?new Ae(new xl({ab:h})):new Ae(o.ma),c.Fa(o.L),c}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vh(){}t=vh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function At(o,c){De.call(this),this.g=new ah(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.sa&&(o?o["X-WebChannel-Client-Profile"]=c.sa:o={"X-WebChannel-Client-Profile":c.sa}),this.g.U=o,(o=c&&c.Qb)&&!C(o)&&(this.g.u=o),this.A=c&&c.supportsCrossDomainXhr||!1,this.v=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!C(c)&&(this.g.G=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new ls(this)}g(At,De),At.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},At.prototype.close=function(){Cl(this.g)},At.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var h={};h.__data__=o,o=h}else this.v&&(h={},h.__data__=Vt(o),o=h);c.i.push(new Ev(c.Ya++,o)),c.I==3&&ko(c)},At.prototype.N=function(){this.g.l=null,delete this.j,Cl(this.g),delete this.g,At.Z.N.call(this)};function _h(o){Hn.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){e:{for(const h in c){o=h;break e}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}g(_h,Hn);function wh(){kn.call(this),this.status=1}g(wh,kn);function ls(o){this.g=o}g(ls,vh),ls.prototype.ra=function(){Ue(this.g,"a")},ls.prototype.qa=function(o){Ue(this.g,new _h(o))},ls.prototype.pa=function(o){Ue(this.g,new wh)},ls.prototype.oa=function(){Ue(this.g,"b")},At.prototype.send=At.prototype.o,At.prototype.open=At.prototype.m,At.prototype.close=At.prototype.close,pl.NO_ERROR=0,pl.TIMEOUT=8,pl.HTTP_ERROR=6,vv.COMPLETE="complete",$n.EventType=ht,ht.OPEN="a",ht.CLOSE="b",ht.ERROR="c",ht.MESSAGE="d",De.prototype.listen=De.prototype.J,Ae.prototype.listenOnce=Ae.prototype.K,Ae.prototype.getLastError=Ae.prototype.Ha,Ae.prototype.getLastErrorCode=Ae.prototype.ya,Ae.prototype.getStatus=Ae.prototype.ca,Ae.prototype.getResponseJson=Ae.prototype.La,Ae.prototype.getResponseText=Ae.prototype.la,Ae.prototype.send=Ae.prototype.ea,Ae.prototype.setWithCredentials=Ae.prototype.Fa}).apply(typeof Wo<"u"?Wo:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}at.UNAUTHENTICATED=new at(null),at.GOOGLE_CREDENTIALS=new at("google-credentials-uid"),at.FIRST_PARTY=new at("first-party-uid"),at.MOCK_USER=new at("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo="12.9.0";function V4(t){yo=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new _d("@firebase/firestore");function Xt(t,...e){if(Bs.logLevel<=ce.DEBUG){const n=e.map(Rd);Bs.debug(`Firestore (${yo}): ${t}`,...n)}}function av(t,...e){if(Bs.logLevel<=ce.ERROR){const n=e.map(Rd);Bs.error(`Firestore (${yo}): ${t}`,...n)}}function $4(t,...e){if(Bs.logLevel<=ce.WARN){const n=e.map(Rd);Bs.warn(`Firestore (${yo}): ${t}`,...n)}}function Rd(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,lv(t,r,n)}function lv(t,e,n){let r=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw av(r),new Error(r)}function Di(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||lv(e,s,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class re extends wn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(at.UNAUTHENTICATED))}shutdown(){}}class W4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class G4{constructor(e){this.t=e,this.currentUser=at.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Di(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let i=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new bi,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const d=i;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},u=d=>{Xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(Xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new bi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Di(typeof r.accessToken=="string",31837,{l:r}),new cv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Di(e===null||typeof e=="string",2055,{h:e}),new at(e)}}class K4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=at.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class J4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new K4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(at.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Di(this.o===void 0,3512);const r=i=>{i.error!=null&&Xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,Xt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new mp(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Di(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new mp(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Y4(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function xr(t,e){return t<e?-1:t>e?1:0}function Q4(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return cc(s)===cc(i)?xr(s,i):cc(s)?1:-1}return xr(t.length,e.length)}const Z4=55296,eE=57343;function cc(t){const e=t.charCodeAt(0);return e>=Z4&&e<=eE}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="__name__";class un{constructor(e,n,r){n===void 0?n=0:n>e.length&&ro(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ro(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return un.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof un?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=un.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return xr(e.length,n.length)}static compareSegments(e,n){const r=un.isNumericId(e),s=un.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?un.extractNumericId(e).compare(un.extractNumericId(n)):Q4(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ad.fromString(e.substring(4,e.length-2))}}class Jt extends un{construct(e,n,r){return new Jt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Jt(n)}static emptyPath(){return new Jt([])}}const tE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lr extends un{construct(e,n,r){return new Lr(e,n,r)}static isValidIdentifier(e){return tE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gp}static keyField(){return new Lr([gp])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new re(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new re(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new re(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else u==="`"?(a=!a,s++):u!=="."||a?(r+=u,s++):(i(),s++)}if(i(),a)throw new re(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lr(n)}static emptyPath(){return new Lr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.path=e}static fromPath(e){return new zr(Jt.fromString(e))}static fromName(e){return new zr(Jt.fromString(e).popFirst(5))}static empty(){return new zr(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Jt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zr(new Jt(e.slice()))}}function nE(t,e,n,r){if(e===!0&&r===!0)throw new re(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function rE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function sE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ro(12329,{type:typeof t})}function iE(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sE(t);throw new re(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t,e){const n={typeString:t};return e&&(n.value=e),n}function vo(t,e){if(!rE(t))throw new re(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new re(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp=-62135596800,vp=1e6;class dn{static now(){return dn.fromMillis(Date.now())}static fromDate(e){return dn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*vp);return new dn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<yp)throw new re(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vp}_compareTo(e){return this.seconds===e.seconds?xr(this.nanoseconds,e.nanoseconds):xr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vo(e,dn._jsonSchema))return new dn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-yp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dn._jsonSchemaVersion="firestore/timestamp/1.0",dn._jsonSchema={type:Oe("string",dn._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};function oE(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new aE("Invalid base64 string: "+i):i}}(e);return new ts(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new ts(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ts.EMPTY_BYTE_STRING=new ts("");const gu="(default)";class Ha{constructor(e,n){this.projectId=e,this.database=n||gu}static empty(){return new Ha("","")}get isDefaultDatabase(){return this.database===gu}isEqual(e){return e instanceof Ha&&e.projectId===this.projectId&&e.database===this.database}}function lE(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new re(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ha(t.options.projectId,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n=null,r=[],s=[],i=null,a="F",u=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function uE(t){return new cE(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _p,te;(te=_p||(_p={}))[te.OK=0]="OK",te[te.CANCELLED=1]="CANCELLED",te[te.UNKNOWN=2]="UNKNOWN",te[te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",te[te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",te[te.NOT_FOUND=5]="NOT_FOUND",te[te.ALREADY_EXISTS=6]="ALREADY_EXISTS",te[te.PERMISSION_DENIED=7]="PERMISSION_DENIED",te[te.UNAUTHENTICATED=16]="UNAUTHENTICATED",te[te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",te[te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",te[te.ABORTED=10]="ABORTED",te[te.OUT_OF_RANGE=11]="OUT_OF_RANGE",te[te.UNIMPLEMENTED=12]="UNIMPLEMENTED",te[te.INTERNAL=13]="INTERNAL",te[te.UNAVAILABLE=14]="UNAVAILABLE",te[te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Ad([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=1048576;function uc(){return typeof document<"u"?document:null}class fE{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Xt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,u=new Dd(e,n,a,s,i);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var wp,Sp;(Sp=wp||(wp={})).Ma="default",Sp.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="ComponentProvider",Ep=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="firestore.googleapis.com",xp=!0;class kp{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new re(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uv,this.ssl=xp}else this.host=e.host,this.ssl=e.ssl??xp;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hE)throw new re(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pE(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new re(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new re(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new re(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dv{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new H4;switch(r.type){case"firstParty":return new J4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Ep.get(n);r&&(Xt(mE,"Removing Datastore"),Ep.delete(n),r.terminate())}(this),Promise.resolve()}}function gE(t,e,n,r={}){var f;t=iE(t,dv);const s=Ks(e),i=t._getSettings(),a={...i,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;s&&(yd(`https://${u}`),vd("Firestore",!0)),i.host!==uv&&i.host!==u&&$4("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...i,host:u,ssl:s,emulatorOptions:r};if(!Qr(d,a)&&(t._setSettings(d),r.mockUserToken)){let _,g;if(typeof r.mockUserToken=="string")_=r.mockUserToken,g=at.MOCK_USER;else{_=ky(r.mockUserToken,(f=t._app)==null?void 0:f.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new re(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new at(x)}t._authCredentials=new W4(new cv(_,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bd(this.firestore,e,this._query)}}class fn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Od(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}toJSON(){return{type:fn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(vo(n,fn._jsonSchema))return new fn(e,r||null,new zr(Jt.fromString(n.referencePath)))}}fn._jsonSchemaVersion="firestore/documentReference/1.0",fn._jsonSchema={type:Oe("string",fn._jsonSchemaVersion),referencePath:Oe("string")};class Od extends bd{constructor(e,n,r){super(e,n,uE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new zr(e))}withConverter(e){return new Od(this.firestore,e,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="AsyncQueue";class Np{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fE(this,"async_queue_retry"),this._c=()=>{const r=uc();r&&Xt(Cp,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=uc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=uc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new bi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!oE(e))throw e;Xt(Cp,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,av("INTERNAL UNHANDLED ERROR: ",Ip(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Dd.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ro(47125,{Pc:Ip(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Ip(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class yE extends dv{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Np,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Np(e),this._firestoreClient=void 0,await e}}}function vE(t,e){const n=typeof t=="object"?t:Sd(),r=typeof t=="string"?t:gu,s=dl(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Sy("firestore");i&&gE(s,...i)}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this._byteString=e}static fromBase64String(e){try{return new In(ts.fromBase64String(e))}catch(n){throw new re(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new In(ts.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:In._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vo(e,In._jsonSchema))return In.fromBase64String(e.bytes)}}In._jsonSchemaVersion="firestore/bytes/1.0",In._jsonSchema={type:Oe("string",In._jsonSchemaVersion),bytes:Oe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xr(this._lat,e._lat)||xr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wr._jsonSchemaVersion}}static fromJSON(e){if(vo(e,Wr._jsonSchema))return new Wr(e.latitude,e.longitude)}}Wr._jsonSchemaVersion="firestore/geoPoint/1.0",Wr._jsonSchema={type:Oe("string",Wr._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Gr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vo(e,Gr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Gr(e.vectorValues);throw new re(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gr._jsonSchemaVersion="firestore/vectorValue/1.0",Gr._jsonSchema={type:Oe("string",Gr._jsonSchemaVersion),vectorValues:Oe("object")};function fv(t,e,n){if((e=Sn(e))instanceof hv)return e._internalPath;if(typeof e=="string")return wE(t,e);throw yu("Field path arguments must be of type string or ",t)}const _E=new RegExp("[~\\*/\\[\\]]");function wE(t,e,n){if(e.search(_E)>=0)throw yu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new hv(...e.split("."))._internalPath}catch{throw yu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function yu(t,e,n,r,s){let i=`Function ${e}() called with invalid data`;i+=". ";let a="";return new re(ne.INVALID_ARGUMENT,i+t+a)}const Tp="@firebase/firestore",Pp="4.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(fv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class SE extends pv{data(){return super.data()}}class Go{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rs extends pv{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ua(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(fv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new re(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Rs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Rs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Rs._jsonSchema={type:Oe("string",Rs._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class ua extends Rs{data(e={}){return super.data(e)}}class Oi{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Go(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ua(this._firestore,this._userDataWriter,r.key,r,new Go(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(u=>{const d=new ua(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Go(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(u=>i||u.type!==3).map(u=>{const d=new ua(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Go(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,_=-1;return u.type!==0&&(f=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),_=a.indexOf(u.doc.key)),{type:EE(u.type),doc:d,oldIndex:f,newIndex:_}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new re(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Oi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=X4.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function EE(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ro(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oi._jsonSchemaVersion="firestore/querySnapshot/1.0",Oi._jsonSchema={type:Oe("string",Oi._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};(function(e,n=!0){V4(is),Zr(new Er("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),u=new yE(new G4(r.getProvider("auth-internal")),new q4(a,r.getProvider("app-check-internal")),lE(a,s),a);return i={useFetchStreams:n,...i},u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),gn(Tp,Pp,e),gn(Tp,Pp,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="firebasestorage.googleapis.com",xE="storageBucket",kE=2*60*1e3,CE=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En extends wn{constructor(e,n,r=0){super(dc(e),`Firebase Storage: ${n} (${dc(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,En.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return dc(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _n;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_n||(_n={}));function dc(t){return"storage/"+t}function NE(){const t="An unknown error occurred, please check the error payload for server response.";return new En(_n.UNKNOWN,t)}function IE(){return new En(_n.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function TE(){return new En(_n.CANCELED,"User canceled the upload/download.")}function PE(t){return new En(_n.INVALID_URL,"Invalid URL '"+t+"'.")}function jE(t){return new En(_n.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function jp(t){return new En(_n.INVALID_ARGUMENT,t)}function gv(){return new En(_n.APP_DELETED,"The Firebase app was deleted.")}function AE(t){return new En(_n.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Qt.makeFromUrl(e,n)}catch{return new Qt(e,"")}if(r.path==="")return r;throw jE(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const a="(/(.*))?$",u=new RegExp("^gs://"+s+a,"i"),d={bucket:1,path:3};function f(P){P.path_=decodeURIComponent(P.path)}const _="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",T=new RegExp(`^https?://${g}/${_}/b/${s}/o${x}`,"i"),D={bucket:1,path:3},R=n===mv?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",E=new RegExp(`^https?://${R}/${s}/${A}`,"i"),y=[{regex:u,indices:d,postModify:i},{regex:T,indices:D,postModify:f},{regex:E,indices:{bucket:1,path:2},postModify:f}];for(let P=0;P<y.length;P++){const M=y[P],U=M.regex.exec(e);if(U){const w=U[M.indices.bucket];let p=U[M.indices.path];p||(p=""),r=new Qt(w,p),M.postModify(r);break}}if(r==null)throw PE(e);return r}}class RE{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t,e,n){let r=1,s=null,i=null,a=!1,u=0;function d(){return u===2}let f=!1;function _(...A){f||(f=!0,e.apply(null,A))}function g(A){s=setTimeout(()=>{s=null,t(T,d())},A)}function x(){i&&clearTimeout(i)}function T(A,...E){if(f){x();return}if(A){x(),_.call(null,A,...E);return}if(d()||a){x(),_.call(null,A,...E);return}r<64&&(r*=2);let y;u===1?(u=2,y=0):y=(r+Math.random())*1e3,g(y)}let D=!1;function R(A){D||(D=!0,x(),!f&&(s!==null?(A||(u=2),clearTimeout(s),g(0)):A||(u=1)))}return g(0),i=setTimeout(()=>{a=!0,R(!0)},n),R}function bE(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(t){return t!==void 0}function Ap(t,e,n,r){if(r<e)throw jp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw jp(`Invalid value for '${t}'. Expected ${n} or less.`)}function LE(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Wa;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Wa||(Wa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,n,r,s,i,a,u,d,f,_,g,x=!0,T=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=u,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=_,this.connectionFactory_=g,this.retry=x,this.isUsingEmulator=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,R)=>{this.resolve_=D,this.reject_=R,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Ko(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=u=>{const d=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const u=i.getErrorCode()===Wa.NO_ERROR,d=i.getStatus();if(!u||ME(d,this.additionalRetryCodes_)&&this.retry){const _=i.getErrorCode()===Wa.ABORT;r(!1,new Ko(!1,null,_));return}const f=this.successCodes_.indexOf(d)!==-1;r(!0,new Ko(f,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());OE(d)?i(d):i()}catch(d){a(d)}else if(u!==null){const d=NE();d.serverResponse=u.getErrorText(),this.errorCallback_?a(this.errorCallback_(u,d)):a(d)}else if(s.canceled){const d=this.appDelete_?gv():TE();a(d)}else{const d=IE();a(d)}};this.canceled_?n(!1,new Ko(!1,null,!0)):this.backoffId_=DE(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bE(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ko{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function FE(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function zE(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function BE(t,e){e&&(t["X-Firebase-GMPID"]=e)}function VE(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function $E(t,e,n,r,s,i,a=!0,u=!1){const d=LE(t.urlParams),f=t.url+d,_=Object.assign({},t.headers);return BE(_,e),FE(_,n),zE(_,i),VE(_,r),new UE(f,t.method,_,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function WE(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n){this._service=e,n instanceof Qt?this._location=n:this._location=Qt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ga(e,n)}get root(){const e=new Qt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WE(this._location.path)}get storage(){return this._service}get parent(){const e=HE(this._location.path);if(e===null)return null;const n=new Qt(this._location.bucket,e);return new Ga(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw AE(e)}}function Rp(t,e){const n=e==null?void 0:e[xE];return n==null?null:Qt.makeFromBucketSpec(n,t)}function GE(t,e,n,r={}){t.host=`${e}:${n}`;const s=Ks(e);s&&(yd(`https://${t.host}/b`),vd("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:ky(i,t.app.options.projectId))}class KE{constructor(e,n,r,s,i,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=a,this._bucket=null,this._host=mv,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kE,this._maxUploadRetryTime=CE,this._requests=new Set,s!=null?this._bucket=Qt.makeFromBucketSpec(s,this._host):this._bucket=Rp(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qt.makeFromBucketSpec(this._url,e):this._bucket=Rp(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ap("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ap("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ga(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new RE(gv());{const a=$E(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const Dp="@firebase/storage",bp="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="storage";function JE(t=Sd(),e){t=Sn(t);const r=dl(t,yv).getImmediate({identifier:e}),s=Sy("storage");return s&&qE(r,...s),r}function qE(t,e,n,r={}){GE(t,e,n,r)}function YE(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new KE(n,r,s,e,is)}function XE(){Zr(new Er(yv,YE,"PUBLIC").setMultipleInstances(!0)),gn(Dp,bp,""),gn(Dp,bp,"esm2020")}XE();const QE={apiKey:"AIzaSyCfyFAJfYAspUD8TtopzBQ82tT2nP3nOjw",authDomain:"blazly-social-51a89.firebaseapp.com",projectId:"blazly-social-51a89",storageBucket:"blazly-social-51a89.firebasestorage.app",messagingSenderId:"644375809096",appId:"1:644375809096:web:31ce839760edca00e31c7d"},Ld=Iy(QE),Ka=z4(Ld);vE(Ld);JE(Ld);const vu="/api";function Op(t){var n,r,s,i,a;if(!t)return null;const e={id:t.id||t.uid||t._id,email:t.email,name:t.name,timezone:t.timezone??"UTC",profileCompletion:t.profileCompletion??0,onboardingStep:t.onboardingStep??1,profile:{firstName:((n=t.profile)==null?void 0:n.firstName)||((r=t.displayName)==null?void 0:r.split(" ")[0])||"",lastName:((s=t.profile)==null?void 0:s.lastName)||((i=t.displayName)==null?void 0:i.split(" ").slice(1).join(" "))||"",profilePicture:((a=t.profile)==null?void 0:a.profilePicture)||t.photoURL||t.picture}};return t.profile&&(e.profile.firstName=t.profile.firstName||e.profile.firstName,e.profile.lastName=t.profile.lastName||e.profile.lastName,e.profile.profilePicture=t.profile.profilePicture||e.profile.profilePicture),e}function Ir(){const[t,e]=I.useState(null),[n,r]=I.useState(!0),[s,i]=I.useState(null);return I.useEffect(()=>{let u=!1;const d=async()=>{try{const _=await fetch(`${vu}/me`,{credentials:"include"});if(u)return;if(_.ok){const g=await _.json();return e(Op(g)),i("session"),!0}}catch{}return!1},f=TS(Ka,async _=>{u||(_?(e(Op({uid:_.uid,email:_.email,displayName:_.displayName,photoURL:_.photoURL})),i("firebase")):await d()||e(null),r(!1))});return()=>{u=!0,f()}},[]),{user:t,loading:n,logout:async()=>{s==="firebase"&&await PS(Ka);try{localStorage.removeItem("blazly_token"),await fetch(`${vu}/auth/logout`,{method:"POST",credentials:"include"})}catch{}e(null),i(null)}}}async function q(t,e={}){let n=null;const r=typeof localStorage<"u"?localStorage.getItem("blazly_token"):null;r?n=r:Ka.currentUser&&(n=await Ka.currentUser.getIdToken().catch(()=>null));const s={...e.headers||{}};return e.body instanceof FormData||(s["Content-Type"]="application/json"),n&&(s.Authorization=`Bearer ${n}`),fetch(`${vu}${t}`,{...e,headers:s,credentials:"include"})}const Lp=["LinkedIn: Best times Tue 11 AM, Wed 10 AM, Fri 10 AM.","Write short, punchy hooks in the first line.","Use 25 relevant hashtags on LinkedIn."];function Lt({compact:t=!1,lightBg:e=!1}){const[n,r]=I.useState(Lp[Math.floor(Math.random()*Lp.length)]);return I.useEffect(()=>{fetch("/data/tips.json").then(s=>s.json()).then(s=>{const i=[...s.platformTips||[],...s.writingTips||[]];i.length&&r(i[Math.floor(Math.random()*i.length)])}).catch(()=>{})},[]),l.jsxs("div",{className:`loading-screen ${t?"loading-screen--compact":""} ${e?"loading-screen--light-bg":""}`,children:[l.jsx("div",{className:"loading-screen__spinner","aria-hidden":!0}),l.jsx("p",{className:"loading-screen__text",children:"Loading"}),n&&l.jsxs("div",{className:"loading-screen__tip",children:[l.jsx("span",{className:"loading-screen__tip-badge",children:"Pro tip"}),l.jsx("p",{children:n})]})]})}function ZE(){const t=vt(),[e]=md(),{user:n,loading:r}=Ir(),s=e.get("error"),[i,a]=I.useState(!0),[u,d]=I.useState(""),[f,_]=I.useState(""),[g,x]=I.useState(""),[T,D]=I.useState(""),[R,A]=I.useState(""),[E,S]=I.useState(!1);if(I.useEffect(()=>{n&&!r&&t("/home",{replace:!0})},[n,r,t]),r)return l.jsx("div",{className:"landing",children:l.jsx(Lt,{})});const y=async P=>{P.preventDefault(),A(""),S(!0);try{const w=await q(i?"/auth/login":"/auth/signup",{method:"POST",body:JSON.stringify(i?{email:u,password:f}:{email:u,password:f,firstName:g,lastName:T})}),p=await w.json().catch(()=>({}));if(!w.ok){A(p.error||"Authentication failed"),S(!1);return}p.token&&localStorage.setItem("blazly_token",p.token),window.location.href=p.isNew?"/onboarding":"/home"}catch(M){console.error("Auth Error:",M),A("Network error. Please try again."),S(!1)}};return l.jsxs("div",{className:"landing",children:[l.jsxs("div",{className:"landing__card",children:[l.jsxs("div",{className:"landing__logo",children:[l.jsx("span",{className:"landing__logo-icon",children:"B"}),l.jsx("span",{className:"landing__logo-text",children:"Blazly"})]}),l.jsx("p",{className:"landing__tagline",children:"Social media automation  create & schedule in one place."}),(s||R)&&l.jsx("div",{className:"landing__error",children:decodeURIComponent(s||R)}),l.jsxs("form",{className:"landing__form",onSubmit:y,children:[!i&&l.jsxs("div",{className:"landing__row",children:[l.jsx("input",{type:"text",placeholder:"First Name",className:"landing__input",value:g,onChange:P=>x(P.target.value)}),l.jsx("input",{type:"text",placeholder:"Last Name",className:"landing__input",value:T,onChange:P=>D(P.target.value)})]}),l.jsx("input",{type:"email",placeholder:"Email address",className:"landing__input",value:u,onChange:P=>d(P.target.value),required:!0}),l.jsx("input",{type:"password",placeholder:"Password",className:"landing__input",value:f,onChange:P=>_(P.target.value),required:!0,minLength:6}),l.jsx("button",{type:"submit",className:"landing__cta landing__cta--primary",disabled:E,children:E?"Please wait...":i?"Sign In":"Create Account"})]}),l.jsxs("div",{className:"landing__toggle",children:[i?"Don't have an account? ":"Already have an account? ",l.jsx("button",{className:"landing__toggle-btn",type:"button",onClick:()=>{a(!i),A("")},children:i?"Sign up":"Sign in"})]})]}),l.jsx("div",{className:"landing__bg","aria-hidden":!0})]})}const ex=[{id:1,title:"Basic Info",key:"basicInfo"},{id:2,title:"Business Details",key:"businessDetails"},{id:3,title:"Business Profile Scraper",key:"website"},{id:4,title:"Competitor Analysis",key:"competitor"},{id:5,title:"AI Profile & Connect",key:"profile"}],tx=[{id:"linkedin",name:"LinkedIn",color:"#0a66c2"},{id:"facebook",name:"Facebook",color:"#1877F2"},{id:"twitter",name:"Twitter",color:"#000000"},{id:"threads",name:"Threads",color:"#000000"},{id:"instagram",name:"Instagram",color:"#E4405F"}],nx=["UTC","America/New_York","America/Chicago","America/Denver","America/Los_Angeles","Europe/London","Europe/Paris","Europe/Berlin","Asia/Tokyo","Asia/Singapore","Asia/Kolkata","Australia/Sydney"];function rx(){var Ie;const t=vt(),{user:e,loading:n}=Ir(),[r,s]=I.useState(1),[i,a]=I.useState(0),[u,d]=I.useState(null),[f,_]=I.useState(null),[g,x]=I.useState(""),[T,D]=I.useState("UTC"),[R,A]=I.useState(""),[E,S]=I.useState(""),[y,P]=I.useState(""),[M,U]=I.useState(""),[w,p]=I.useState(""),[v,k]=I.useState(!1),[N,j]=I.useState(""),[C,de]=I.useState([]);I.useEffect(()=>{!n&&!e&&t("/",{replace:!0})},[e,n,t]),I.useEffect(()=>{e&&(async()=>{var le,Te,Me,nn,wt;try{const[Ft,zt,Bt]=await Promise.all([q("/onboarding"),q("/profile"),q("/integrations")]);if(Ft.ok){const he=await Ft.json();s(he.step||1),a(he.profileCompletion||0),d(he)}if(zt.ok){const he=await zt.json();x(((le=he.account)==null?void 0:le.name)||""),D(((Te=he.account)==null?void 0:Te.timezone)||"UTC"),A(((Me=he.businessProfile)==null?void 0:Me.businessName)||""),S(((nn=he.businessProfile)==null?void 0:nn.businessSummary)||""),P(((wt=he.businessProfile)==null?void 0:wt.websiteUrl)||"")}Bt.ok&&de(await Bt.json())}catch{}})()},[e]);const je=async(G,le=!1)=>{try{const Te=await q("/onboarding",{method:"PATCH",body:JSON.stringify({step:G,skip:le})});if(Te.ok){const Me=await Te.json();s(Me.step),a(Me.profileCompletion)}}catch{}},Ze=async()=>{r<5?(await B(),await je(r+1)):t("/home",{replace:!0})},_t=async()=>{await je(r+1,!0),r>=5&&t("/home",{replace:!0})},B=async()=>{try{r===1&&await q("/me",{method:"PATCH",body:JSON.stringify({name:g.trim(),timezone:T})}),r===2&&await q("/profile",{method:"PATCH",body:JSON.stringify({businessName:R.trim()})})}catch{}},K=async()=>{var G,le;if(y.trim()){k(!0),j("");try{const Te=await q("/profile/scrape",{method:"POST",body:JSON.stringify({websiteUrl:y.trim()})}),Me=await Te.json();Te.ok?(A(((G=Me.businessProfile)==null?void 0:G.businessName)||R),S(((le=Me.businessProfile)==null?void 0:le.businessSummary)||E)):j(Me.error||"Scraping failed")}catch(Te){j(Te.message||"Scraping failed")}k(!1)}},J=async()=>{if(!(!M.trim()||!w.trim())){k(!0),j("");try{const G=await q("/profile/competitors",{method:"POST",body:JSON.stringify({competitorName:M.trim(),competitorUrl:w.trim()})});if(G.ok)U(""),p("");else{const le=await G.json();j(le.error||"Failed to add competitor")}}catch(G){j(G.message||"Failed")}k(!1)}},oe=async G=>{_(G);try{await q("/auth/session",{method:"POST"}),window.location.href=`/api/auth/integrations/${G}`}catch{_(null),alert("Failed to start connection.")}},ae=G=>C.find(le=>le.platform===G);if(n||!e)return l.jsx("div",{className:"onboarding",children:l.jsx(Lt,{})});const et=Math.round(i),Ne=r/5*100;return l.jsxs("div",{className:"onboarding",children:[l.jsxs("div",{className:"onboarding__topbar",children:[l.jsxs("div",{className:"onboarding__progress-wrap",children:[l.jsx("div",{className:"onboarding__progress-bar",style:{width:`${Ne}%`}}),l.jsxs("span",{className:"onboarding__step-label",children:["Step ",r," of 5"]})]}),l.jsxs("span",{className:"onboarding__pct",children:[et,"% complete"]})]}),l.jsxs("div",{className:"onboarding__card",children:[l.jsx("h1",{children:(Ie=ex[r-1])==null?void 0:Ie.title}),r===1&&l.jsxs(l.Fragment,{children:[l.jsx("p",{children:"Let's start with the basics."}),l.jsxs("div",{className:"onboarding__field",children:[l.jsx("label",{children:"Your name"}),l.jsx("input",{type:"text",value:g,onChange:G=>x(G.target.value),placeholder:"Jane Smith"})]}),l.jsxs("div",{className:"onboarding__field",children:[l.jsx("label",{children:"Timezone"}),l.jsx("select",{value:T,onChange:G=>D(G.target.value),children:nx.map(G=>l.jsx("option",{value:G,children:G.replace(/_/g," ")},G))})]})]}),r===2&&l.jsxs(l.Fragment,{children:[l.jsx("p",{children:"Tell us about your business."}),l.jsxs("div",{className:"onboarding__field",children:[l.jsx("label",{children:"Business name"}),l.jsx("input",{type:"text",value:R,onChange:G=>A(G.target.value),placeholder:"Acme Inc"})]}),l.jsx("p",{className:"onboarding__hint",children:"We'll enrich this in the next step when you add your website."})]}),r===3&&l.jsxs(l.Fragment,{children:[l.jsx("p",{children:"Add your website URL. We'll scrape it to identify your business details and fill the profile questions automatically."}),l.jsxs("div",{className:"onboarding__field",children:[l.jsx("label",{children:"Website URL"}),l.jsx("input",{type:"url",value:y,onChange:G=>P(G.target.value),placeholder:"https://yourcompany.com"})]}),l.jsx("button",{className:"onboarding__btn-primary",onClick:K,disabled:v||!y.trim(),children:v?"Scraping":"Scrape & Analyze"}),N&&l.jsx("p",{className:"onboarding__error",children:N}),E&&l.jsxs("div",{className:"onboarding__summary",children:[l.jsx("strong",{children:"Extracted summary:"}),l.jsxs("p",{children:[E.slice(0,200),""]})]})]}),r===4&&l.jsxs(l.Fragment,{children:[l.jsx("p",{children:"Add competitor URLs for competitor analysis. We compare their data against your business profile from the previous step."}),l.jsxs("div",{className:"onboarding__field",children:[l.jsx("label",{children:"Competitor name"}),l.jsx("input",{type:"text",value:M,onChange:G=>U(G.target.value),placeholder:"Competitor Inc"})]}),l.jsxs("div",{className:"onboarding__field",children:[l.jsx("label",{children:"Competitor URL"}),l.jsx("input",{type:"url",value:w,onChange:G=>p(G.target.value),placeholder:"https://competitor.com"})]}),l.jsx("button",{className:"onboarding__btn-primary",onClick:J,disabled:v||!M.trim()||!w.trim(),children:v?"Analyzing":"Add & Analyze"}),N&&l.jsx("p",{className:"onboarding__error",children:N}),l.jsx("p",{className:"onboarding__hint",children:"View full analysis on your Profile  Competitors."})]}),r===5&&l.jsxs(l.Fragment,{children:[l.jsx("p",{children:"Connect your social accounts and review your profile."}),E&&l.jsxs("div",{className:"onboarding__summary onboarding__summary--full",children:[l.jsx("strong",{children:"Your brand summary"}),l.jsx("p",{children:E})]}),l.jsx("div",{className:"onboarding__grid",children:tx.map(G=>{const le=ae(G.id);return l.jsxs("div",{className:"onboarding__item",children:[l.jsx("div",{className:"onboarding__item-icon",style:{color:G.color},children:G.name[0]}),l.jsx("span",{className:"onboarding__item-name",children:G.name}),le?l.jsx("span",{className:"onboarding__item-status",children:"Connected"}):l.jsx("button",{className:"onboarding__btn-connect",onClick:()=>oe(G.id),disabled:f===G.id,style:{backgroundColor:G.color},children:f===G.id?"Connecting":"Connect"})]},G.id)})})]}),l.jsxs("div",{className:"onboarding__actions",children:[l.jsx("button",{className:"onboarding__btn-skip",onClick:_t,children:"Skip for now"}),l.jsx("button",{className:"onboarding__btn-primary onboarding__btn-next",onClick:Ze,children:r<5?"Next":"Complete"})]})]})]})}const sx="modulepreload",ix=function(t){return"/"+t},Mp={},ox=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(d=>{if(d=ix(d),d in Mp)return;Mp[d]=!0;const f=d.endsWith(".css"),_=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${_}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":sx,f||(g.as="script"),g.crossOrigin="",g.href=d,u&&g.setAttribute("nonce",u),document.head.appendChild(g),f)return new Promise((x,T)=>{g.addEventListener("load",x),g.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return s.then(a=>{for(const u of a||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})};function Up(t){return t?new Date(t).toLocaleString(void 0,{dateStyle:"short",timeStyle:"short"}):""}function ax(t){return{draft:"Draft",scheduled:"Scheduled",published:"Published",failed:"Failed"}[t]||t}function lx(t){return{draft:"muted",scheduled:"warning",published:"success",failed:"error"}[t]||"muted"}const cx={instagram:l.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 1.17.054 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0-2.163c-3.259 0-3.667.014-4.947.072-1.28.057-2.147.26-2.911.557-.79.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053 0 8.333 0 8.74 0 12s.014 3.667.072 4.947c.058 1.28.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.014 4.947-.072c1.28-.057 2.148-.26 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.28-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 5.838a6.162 6.162 0 1 0 0 12.324 6.162 6.162 0 1 0 0-12.324zM12 16a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm6.406-11.845a1.44 1.44 0 1 1 0 2.88 1.44 1.44 0 0 1 0-2.88z"})}),linkedin:l.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M4.98 3.5c0 1.381-1.11 2.5-2.48 2.5s-2.48-1.119-2.48-2.5c0-1.38 1.11-2.5 2.48-2.5s2.48 1.12 2.48 2.5zm.02 4.5h-5v16h5v-16zm7.982 0h-4.968v16h4.969v-8.399c0-4.67 6.029-5.052 6.029 0v8.399h4.988v-10.131c0-7.88-8.922-7.593-11.018-3.714v-2.155z"})}),twitter:l.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})}),facebook:l.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),threads:l.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M12.186 24h-.007c-3.581-.024-6.334-1.205-8.184-3.509C2.35 18.44 1.5 15.586 1.472 12.01v-.017c.03-3.579.879-6.43 2.525-8.482C5.845 1.205 8.6.024 12.18 0h.014c2.746.02 5.043.725 6.826 2.098 1.677 1.29 2.858 3.13 3.509 5.467l-2.04.569c-1.104-3.96-3.898-5.984-8.304-6.015-2.91.022-5.11.936-6.54 2.717C4.307 6.504 3.616 8.914 3.589 12c.027 3.086.718 5.496 2.057 7.164 1.43 1.781 3.631 2.695 6.54 2.717 2.623-.02 4.358-.631 5.8-2.045 1.647-1.613 1.618-3.593 1.09-4.798-.31-.71-.873-1.3-1.634-1.75-.192 1.352-.622 2.446-1.284 3.272-.886 1.102-2.14 1.704-3.73 1.79-1.202.065-2.361-.218-3.259-.801-1.063-.689-1.685-1.74-1.752-2.964-.065-1.19.408-2.285 1.33-3.082.88-.76 2.119-1.207 3.583-1.291a13.853 13.853 0 0 1 3.02.142l-.126 1.974a11.881 11.881 0 0 0-2.588-.122c-1.124.068-2.013.39-2.64.956-.6.541-.93 1.258-.896 2.024.032.738.414 1.37 1.077 1.78.579.358 1.354.515 2.184.445 1.149-.096 2.025-.531 2.607-1.294.646-.847.977-2.08.977-3.662v-.617c0-3.089-1.623-4.66-4.822-4.66-1.603 0-2.886.537-3.815 1.596-.929 1.06-1.402 2.526-1.402 4.356 0 1.83.473 3.296 1.402 4.356.929 1.059 2.212 1.596 3.815 1.596 1.074 0 2.036-.23 2.86-.683l.717 1.84c-1.007.55-2.228.83-3.577.83-2.042 0-3.694-.686-4.91-2.04-1.217-1.353-1.834-3.213-1.834-5.529 0-2.316.617-4.176 1.834-5.529 1.216-1.354 2.868-2.04 4.91-2.04 4.038 0 6.822 2.298 6.822 6.66v.617c0 2.006-.458 3.585-1.361 4.698-.903 1.113-2.229 1.69-3.944 1.716z"})})};function ux({posts:t,onUpdate:e}){const n=r=>{window.confirm("Delete this post?")&&q(`/posts/${r}`,{method:"DELETE"}).then(s=>s.ok&&(e==null?void 0:e())).catch(()=>{})};return t!=null&&t.length?l.jsx("ul",{className:"post-list",children:t.map(r=>{var a,u,d,f;const s=r.imageUrl||r.videoUrl||((u=(a=r.mediaItems)==null?void 0:a[0])==null?void 0:u.url),i=r.videoUrl||((f=(d=r.mediaItems)==null?void 0:d[0])==null?void 0:f.type)==="VIDEO";return l.jsxs("li",{className:"post-list__item",children:[l.jsxs("div",{className:"post-list__main",children:[s&&l.jsx("div",{className:"post-list__thumbnail",children:i?l.jsx("div",{className:"post-list__video-placeholder",children:"Video"}):l.jsx("img",{src:s,alt:"Preview"})}),l.jsxs("div",{className:"post-list__details",children:[l.jsx("div",{className:"post-list__platforms",children:(r.platforms||[]).map(_=>l.jsx("span",{className:`post-list__platform-icon post-list__platform-icon--${_}`,title:_,children:cx[_]||_},_))}),l.jsx("p",{className:"post-list__content",children:r.content||"(No content)"}),l.jsxs("div",{className:"post-list__meta",children:[l.jsx("span",{className:`post-list__status post-list__status--${lx(r.status)}`,children:ax(r.status)}),r.scheduledAt&&r.status==="scheduled"&&l.jsxs("span",{className:"post-list__date",children:["Scheduled: ",Up(r.scheduledAt)]}),r.publishedAt&&l.jsxs("span",{className:"post-list__date",children:["Published: ",Up(r.publishedAt)]})]})]})]}),r.error&&l.jsx("p",{className:"post-list__error",children:r.error}),(r.status==="draft"||r.status==="scheduled")&&l.jsx("button",{type:"button",className:"post-list__delete",onClick:()=>n(r.id),children:"Delete"})]},r.id)})}):l.jsxs("div",{className:"post-list__empty-container",children:[l.jsx("p",{className:"post-list__empty",children:"0 posts so far"}),l.jsx("p",{className:"post-list__empty-sub",children:"Create your first post above to get started!"})]})}const dx=I.lazy(()=>ox(()=>import("./PostComposer-CHewp-o3.js"),__vite__mapDeps([0,1]))),Fp=["linkedin","facebook","twitter","instagram","threads"];function hx(){const t=vt(),[e]=md(),n=e.get("platform"),[r,s]=I.useState([]),[i,a]=I.useState(0),[u,d]=I.useState(!1),[f,_]=I.useState(!0),[g,x]=I.useState(!1),[T,D]=I.useState([]),[R,A]=I.useState(n&&Fp.includes(n)?n:null);I.useEffect(()=>{n&&Fp.includes(n)&&A(n)},[n]);const E=(p=!1)=>{p?x(!0):_(!0);const v=p&&r.length>0?r[r.length-1].id:null;let k=v?`?startAfter=${v}&limit=10`:"?limit=10";R&&(k+=`&platform=${R}`),q("/posts"+k).then(N=>N.json()).then(N=>{s(p?j=>[...j,...N.posts||[]]:N.posts||[]),a(N.total||0),d(N.hasMore||!1)}).catch(()=>{p||s([])}).finally(()=>{_(!1),x(!1)})},S=()=>{q("/integrations").then(p=>p.json()).then(D).catch(()=>D([]))};I.useEffect(()=>{const v=new URLSearchParams(window.location.search).get("error");v&&(alert(decodeURIComponent(v)),window.history.replaceState({},"",window.location.pathname)),S()},[]),I.useEffect(()=>{E(!1)},[R]);const y=async p=>{var v;if(confirm("Are you sure you want to disconnect?"))try{(await q(`/integrations/${p}`,{method:"DELETE"})).ok&&(S(),((v=T.find(j=>j.id===p))==null?void 0:v.platform)===R&&A(null))}catch{alert("Failed to disconnect")}};I.useEffect(()=>{R&&S()},[R]);const P=T.filter(p=>p.isActive).length,[M,U]=I.useState({scheduled:0,published:0});I.useEffect(()=>{q("/posts?limit=500").then(p=>p.json()).then(p=>{const v=p.posts||[];U({scheduled:v.filter(k=>k.status==="scheduled").length,published:v.filter(k=>k.status==="published").length})}).catch(()=>{})},[R,i]);const w=[{label:"Create Post",desc:"Write and share content",path:"/integrations",icon:"edit"},{label:"Content Calendar",desc:"Plan and schedule",path:"/planner",icon:"calendar"},{label:"View Posts",desc:"Manage your content",path:"/posts",icon:"list"},{label:"Edit Profile",desc:"Add social accounts",path:"/profile",icon:"link"}];return l.jsx("div",{className:"home-page",children:R?l.jsxs("div",{className:"home-content",children:[T.filter(p=>p.platform===R&&p.isActive).map(p=>{var v,k;return l.jsxs("header",{className:"home-hero",children:[l.jsxs("div",{className:"home-hero__profile",children:[l.jsx("img",{src:((v=p.profile)==null?void 0:v.profilePicture)||"/default-avatar.png",alt:"",className:"home-hero__avatar",onError:N=>{var j;return N.target.src="https://ui-avatars.com/api/?name="+(((j=p.profile)==null?void 0:j.name)||R)}}),l.jsxs("div",{className:"home-hero__info",children:[l.jsx("h2",{children:((k=p.profile)==null?void 0:k.name)||"-"}),l.jsxs("p",{children:["@",R," connected"]})]})]}),l.jsx("button",{className:"home-hero__disconnect",onClick:()=>y(p.id),children:"Disconnect"})]},p.id)}),l.jsxs("div",{className:"home-grid",children:[l.jsx("section",{className:"home-section",children:l.jsx(I.Suspense,{fallback:l.jsx("div",{className:"home-loading",children:l.jsx(Lt,{compact:!0})}),children:l.jsx(dx,{onSuccess:()=>E(!1),integrations:T,selectedPlatform:R,onPlatformChange:A,theme:R==="linkedin"?"linkedin":"standard"})})}),l.jsxs("section",{className:"home-section home-posts",children:[l.jsxs("div",{className:"home-section__header",children:[l.jsx("h3",{children:"Recent Posts"}),l.jsx("span",{className:"home-count",children:i})]}),f&&!g?l.jsx("div",{className:"home-loading",children:l.jsx(Lt,{compact:!0})}):l.jsxs(l.Fragment,{children:[l.jsx(ux,{posts:r,onUpdate:()=>E(!1)}),u&&l.jsx("button",{className:"home-load-more",onClick:()=>E(!0),disabled:g,children:g?"Loading...":"Load More"})]})]})]})]}):l.jsxs("div",{className:"home-dashboard",children:[l.jsxs("div",{className:"home-dashboard__hero",children:[l.jsx("h1",{children:"Welcome to Blazly"}),l.jsx("p",{children:P>0?"Select a platform from the left menu to create and schedule posts, or use the quick actions below.":"Connect your social accounts to get started."})]}),l.jsxs("div",{className:"home-dashboard__stats",children:[l.jsxs("div",{className:"home-stat-card",children:[l.jsx("span",{className:"home-stat-value",children:M.scheduled}),l.jsx("span",{className:"home-stat-label",children:"Scheduled"})]}),l.jsxs("div",{className:"home-stat-card",children:[l.jsx("span",{className:"home-stat-value",children:M.published}),l.jsx("span",{className:"home-stat-label",children:"Published"})]}),l.jsxs("div",{className:"home-stat-card",children:[l.jsx("span",{className:"home-stat-value",children:P}),l.jsx("span",{className:"home-stat-label",children:"Connected"})]})]}),l.jsxs("div",{className:"home-dashboard__actions",children:[l.jsx("h2",{children:"Quick Actions"}),l.jsx("div",{className:"home-actions-grid",children:w.map(p=>l.jsxs("button",{className:"home-action-card",onClick:()=>t(p.path),children:[l.jsx("span",{className:`home-action-icon home-action-icon--${p.icon}`}),l.jsx("span",{className:"home-action-label",children:p.label}),l.jsx("span",{className:"home-action-desc",children:p.desc})]},p.path))})]}),P===0&&l.jsxs("div",{className:"home-dashboard__cta",children:[l.jsx("p",{children:"Connect LinkedIn, Facebook, X, Instagram, or Threads to start posting."}),l.jsx("button",{className:"home-cta-btn",onClick:()=>t("/integrations"),children:"Go to Integrations"})]})]})})}const zp={marketing:["social media","content","branding","advertising","growth","SEO"],content:["marketing","social media","blog","video","copywriting","strategy"],social:["media","marketing","engagement","community","influencer","networking"],business:["startup","entrepreneur","B2B","B2C","SaaS","enterprise"],startup:["founder","venture","growth","product","tech","scale"],ai:["automation","machine learning","productivity","innovation","LLM"],productivity:["tools","automation","workflow","efficiency","tips"],design:["UX","UI","branding","creative","visual"],tech:["software","SaaS","developer","API","automation"],leadership:["management","thought leadership","executive","strategy"],sales:["B2B","enterprise","growth","revenue","pipeline"]},Bp=t=>{if(!t||t.length<2)return[];const e=t.toLowerCase().trim(),n=zp[e];if(n)return n;const r=Object.entries(zp).flatMap(([i,a])=>i.includes(e)||e.includes(i)?[i,...a]:[]),s=[...new Set(r)].filter(i=>i!==e).slice(0,8);return s.length?s:[e]};function fx({value:t=[],onChange:e,placeholder:n="Add keywords",maxKeywords:r=20}){const[s,i]=I.useState(""),[a,u]=I.useState([]),[d,f]=I.useState(!1),[_,g]=I.useState(!1),x=I.useRef(),T=Array.isArray(t)?t:[];I.useEffect(()=>{if(!s.trim()){u([]);return}const E=setTimeout(async()=>{var S;g(!0);try{const y=await q(`/ai/keywords/suggest?q=${encodeURIComponent(s)}&existing=${T.join(",")}`),P=await y.json();if(y.ok&&((S=P.suggestions)!=null&&S.length)){const M=P.suggestions.filter(U=>!T.includes(U));u(M.slice(0,10))}else{const U=Bp(s).filter(w=>!T.includes(w));u(U.length?U:s.length>=2?[s.trim().toLowerCase()]:[])}}catch{const M=Bp(s).filter(U=>!T.includes(U));u(M.length?M:s.length>=2?[s.trim().toLowerCase()]:[])}g(!1)},300);return()=>clearTimeout(E)},[s,T.join(",")]);const D=A=>{const E=(typeof A=="string"?A:s).trim().toLowerCase();!E||T.includes(E)||T.length>=r||(e([...T,E]),i(""),u([]))},R=A=>{e(T.filter(E=>E!==A))};return l.jsxs("div",{className:"keyword-picker",children:[l.jsxs("div",{className:"keyword-picker-chips",children:[T.map(A=>l.jsxs("span",{className:"keyword-picker-chip",children:[A,l.jsx("button",{type:"button",onClick:()=>R(A),"aria-label":"Remove",children:""})]},A)),l.jsx("input",{ref:x,type:"text",className:"keyword-picker-input",value:s,onChange:A=>i(A.target.value),onFocus:()=>f(!0),onBlur:()=>setTimeout(()=>f(!1),150),onKeyDown:A=>{A.key==="Enter"&&s.trim()&&(A.preventDefault(),D(s)),A.key==="Backspace"&&!s&&T.length&&R(T[T.length-1])},placeholder:T.length>=r?"":n,disabled:T.length>=r})]}),d&&a.length>0&&l.jsx("div",{className:"keyword-picker-suggestions",children:a.map(A=>l.jsx("button",{type:"button",className:"keyword-picker-suggestion",onMouseDown:()=>D(A),children:A},A))}),T.length>0&&l.jsxs("span",{className:"keyword-picker-hint",children:[T.length,"/",r]})]})}const px=["linkedin","twitter","instagram","facebook","threads"];function mx(){const t=vt(),{hash:e}=Gs();Ir();const[n,r]=I.useState(!0),[s,i]=I.useState(!1),[a,u]=I.useState({name:"",email:"",timezone:"UTC",profileCompletion:0}),[d,f]=I.useState(null),[_,g]=I.useState({lastScrapedAt:null,competitorCount:0}),[x,T]=I.useState([]),[D,R]=I.useState(""),[A,E]=I.useState("UTC"),[S,y]=I.useState(""),[P,M]=I.useState(""),[U,w]=I.useState(""),[p,v]=I.useState([]),[k,N]=I.useState(""),[j,C]=I.useState(""),[de,je]=I.useState(""),[Ze,_t]=I.useState(!1),[B,K]=I.useState(""),[J,oe]=I.useState(""),[ae,et]=I.useState(""),[Ne,Ie]=I.useState(!1),[G,le]=I.useState(""),[Te,Me]=I.useState(!1),[nn,wt]=I.useState(""),[Ft,zt]=I.useState({global:"",useGlobalForAll:!0,platforms:{}}),[Bt,he]=I.useState([]),[xn,Pt]=I.useState(!1);I.useEffect(()=>{(async()=>{var we,Ke,Je,tt,jt,Vt,rn,$t,Fe,$n;try{const[ht,Hn,kn]=await Promise.all([q("/profile"),q("/integrations"),q("/me")]);if(ht.ok){const fe=await ht.json();u(fe.account||{}),f(fe.businessProfile),g(fe.scraping||{}),R(((we=fe.account)==null?void 0:we.name)||""),E(((Ke=fe.account)==null?void 0:Ke.timezone)||"UTC"),y(((Je=fe.businessProfile)==null?void 0:Je.businessName)||""),M(((tt=fe.businessProfile)==null?void 0:tt.businessSummary)||""),w(((jt=fe.businessProfile)==null?void 0:jt.brandTone)||""),v(((Vt=fe.businessProfile)==null?void 0:Vt.keywords)||[]),N(((rn=fe.businessProfile)==null?void 0:rn.targetAudience)||""),C((($t=fe.businessProfile)==null?void 0:$t.valueProposition)||""),je(((Fe=fe.businessProfile)==null?void 0:Fe.websiteUrl)||""),le((($n=fe.businessProfile)==null?void 0:$n.websiteUrl)||"")}if(Hn.ok){const fe=await Hn.json();T(fe),fe.length>0&&q("/profile/optimizer").then(St=>St.ok&&St.json()).then(St=>(St==null?void 0:St.platforms)&&he(St.platforms)).catch(()=>{})}if(kn.ok){const fe=await kn.json();zt(fe.aiInstructions||{global:"",useGlobalForAll:!0,platforms:{}})}}catch{}r(!1)})()},[]);const Bn=async()=>{i(!0);try{await q("/me",{method:"PATCH",body:JSON.stringify({name:D.trim(),timezone:A})}),await q("/profile",{method:"PATCH",body:JSON.stringify({businessName:S.trim(),businessSummary:P.trim(),brandTone:U.trim(),keywords:Array.isArray(p)?p:p.split(",").map($=>$.trim()).filter(Boolean),targetAudience:k.trim(),valueProposition:j.trim()})}),u($=>({...$,name:D.trim(),timezone:A}))}catch{}i(!1)},De=async()=>{var we,Ke,Je,tt,jt,Vt,rn;const $=G.trim()||de;if($){Me(!0),wt("");try{const $t=await q("/profile/scrape",{method:"POST",body:JSON.stringify({websiteUrl:$})}),Fe=await $t.json();$t.ok?(f(Fe.businessProfile),y(((we=Fe.businessProfile)==null?void 0:we.businessName)||""),M(((Ke=Fe.businessProfile)==null?void 0:Ke.businessSummary)||""),w(((Je=Fe.businessProfile)==null?void 0:Je.brandTone)||""),v(((tt=Fe.businessProfile)==null?void 0:tt.keywords)||[]),N(((jt=Fe.businessProfile)==null?void 0:jt.targetAudience)||""),C(((Vt=Fe.businessProfile)==null?void 0:Vt.valueProposition)||""),je(((rn=Fe.businessProfile)==null?void 0:rn.websiteUrl)||$),g($n=>{var ht;return{...$n,lastScrapedAt:(ht=Fe.businessProfile)==null?void 0:ht.lastScrapedAt}})):wt(Fe.error||"Scraping failed")}catch($t){wt($t.message||"Failed")}Me(!1)}},Ue=async()=>{if(et(""),!B||!J||J.length<6){et("Current password and new password (min 6 chars) required");return}Ie(!0);try{const $=await q("/profile/password",{method:"POST",body:JSON.stringify({currentPassword:B,newPassword:J})}),we=await $.json();$.ok?(_t(!1),K(""),oe("")):et(we.error||"Failed")}catch{et("Failed")}Ie(!1)};if(n)return l.jsxs("div",{className:"profile-loading profile-loading--thin",children:[l.jsx("div",{className:"profile-loading-bar",children:l.jsx("div",{className:"profile-loading-fill"})}),l.jsx("span",{className:"profile-loading-pct",children:"Loading"})]});const Vn=[{id:"account",label:"Account"},{id:"business",label:"Business Profile"},{id:"scraper",label:"Scraper"},{id:"integrations",label:"Integrations"},{id:"optimizer",label:"Profile Optimizer"},{id:"ai",label:"AI Instructions"}];return l.jsxs("div",{className:"profile-page",children:[l.jsxs("header",{className:"profile-header",children:[l.jsx("button",{className:"profile-back",onClick:()=>t("/home"),children:" Back"}),l.jsx("h1",{children:"Profile & Settings"})]}),l.jsxs("div",{className:"profile-layout",children:[l.jsx("aside",{className:"profile-sections-nav",children:Vn.map($=>l.jsx("a",{href:`#${$.id}`,className:`profile-section-link ${(e||"#account").replace("#","")===$.id?"profile-section-link--active":""}`,onClick:we=>{var Ke;we.preventDefault(),window.history.replaceState(null,"",`#${$.id}`),(Ke=document.getElementById($.id))==null||Ke.scrollIntoView({behavior:"smooth"})},children:$.label},$.id))}),l.jsxs("div",{className:"profile-content",children:[l.jsxs("section",{id:"account",className:"profile-section",children:[l.jsx("h2",{children:"Account"}),l.jsxs("div",{className:"profile-completion-bar",children:[l.jsx("div",{className:"profile-completion-bar-track",children:l.jsx("div",{className:"profile-completion-fill",style:{width:`${a.profileCompletion||0}%`}})}),l.jsxs("span",{className:"profile-completion-label",children:[a.profileCompletion??0,"%"]})]}),l.jsxs("div",{className:"profile-field",children:[l.jsx("label",{children:"Name"}),l.jsx("input",{type:"text",value:D,onChange:$=>R($.target.value),placeholder:"Your name"})]}),l.jsxs("div",{className:"profile-field",children:[l.jsx("label",{children:"Email"}),l.jsx("input",{type:"email",value:a.email,disabled:!0,readOnly:!0,className:"profile-field--readonly"})]}),l.jsxs("div",{className:"profile-field",children:[l.jsx("label",{children:"Password"}),l.jsx("input",{type:"password",value:"",disabled:!0,readOnly:!0,className:"profile-field--readonly"}),l.jsx("button",{className:"profile-link",onClick:()=>_t(!0),children:"Change password"})]}),l.jsxs("div",{className:"profile-field",children:[l.jsx("label",{children:"Timezone"}),l.jsxs("select",{value:A,onChange:$=>E($.target.value),children:[l.jsx("option",{value:"UTC",children:"UTC"}),l.jsx("option",{value:"America/New_York",children:"Eastern"}),l.jsx("option",{value:"America/Chicago",children:"Central"}),l.jsx("option",{value:"America/Denver",children:"Mountain"}),l.jsx("option",{value:"America/Los_Angeles",children:"Pacific"}),l.jsx("option",{value:"Europe/London",children:"London"}),l.jsx("option",{value:"Europe/Paris",children:"Paris"}),l.jsx("option",{value:"Asia/Tokyo",children:"Tokyo"}),l.jsx("option",{value:"Asia/Kolkata",children:"India"})]})]})]}),l.jsxs("section",{id:"business",className:"profile-section",children:[l.jsx("h2",{children:"Business Profile"}),l.jsx("p",{className:"profile-desc",children:"Editable fields from AI-generated analysis."}),l.jsxs("div",{className:"profile-field",children:[l.jsx("label",{children:"Business name"}),l.jsx("input",{type:"text",value:S,onChange:$=>y($.target.value)})]}),l.jsxs("div",{className:"profile-field",children:[l.jsx("label",{children:"Business summary"}),l.jsx("textarea",{value:P,onChange:$=>M($.target.value),rows:4,placeholder:"2-4 sentence summary..."})]}),l.jsxs("div",{className:"profile-field",children:[l.jsx("label",{children:"Tone"}),l.jsx("input",{type:"text",value:U,onChange:$=>w($.target.value),placeholder:"e.g. professional, casual"})]}),l.jsxs("div",{className:"profile-field",children:[l.jsx("label",{children:"Target audience"}),l.jsx("input",{type:"text",value:k,onChange:$=>N($.target.value)})]}),l.jsxs("div",{className:"profile-field",children:[l.jsx("label",{children:"Keywords"}),l.jsx(fx,{value:p,onChange:v,placeholder:"Type to add (e.g. marketing, content)",maxKeywords:25})]}),l.jsxs("div",{className:"profile-field",children:[l.jsx("label",{children:"Value proposition"}),l.jsx("textarea",{value:j,onChange:$=>C($.target.value),rows:2})]}),l.jsx("button",{className:"profile-save",onClick:Bn,disabled:s,children:s?"Saving":"Save changes"})]}),l.jsxs("section",{id:"scraper",className:"profile-section",children:[l.jsx("h2",{children:"Business Profile Scraper"}),l.jsx("p",{className:"profile-desc",children:"Scrape your website to identify business details and auto-fill your profile."}),_.lastScrapedAt&&l.jsxs("p",{className:"profile-desc",children:["Last scraped: ",new Date(_.lastScrapedAt).toLocaleString()]}),l.jsxs("div",{className:"profile-field",children:[l.jsx("label",{children:"Website URL"}),l.jsx("input",{type:"url",value:G,onChange:$=>le($.target.value),placeholder:"https://yourcompany.com"})]}),l.jsxs("div",{className:"profile-scrape-actions",children:[l.jsx("button",{className:"profile-save",onClick:De,disabled:Te||!G.trim(),children:Te?"Scraping":"Rescrape Website"}),l.jsx("button",{className:"profile-btn-secondary",onClick:()=>t("/profile/competitors"),children:"Competitor Scraper & Analysis"})]}),nn&&l.jsx("p",{className:"profile-error",children:nn})]}),l.jsxs("section",{id:"integrations",className:"profile-section",children:[l.jsx("h2",{children:"Integrations"}),l.jsx("div",{className:"profile-integrations",children:px.map($=>{const we=x.find(Ke=>Ke.platform===$);return l.jsxs("div",{className:"profile-integration-item",children:[l.jsx("span",{className:"profile-int-name",children:$}),we?l.jsx("span",{className:"profile-int-status connected",children:"Connected"}):l.jsx("button",{className:"profile-int-connect",onClick:()=>{q("/auth/session",{method:"POST"}).then(()=>{window.location.href=`/api/auth/integrations/${$}`})},children:"Connect"})]},$)})})]}),l.jsxs("section",{id:"optimizer",className:"profile-section",children:[l.jsx("h2",{children:"Profile Optimizer"}),l.jsx("p",{className:"profile-desc",children:"AI-powered suggestions to optimize your profile for each connected platform. Based on your business profile and platform best practices."}),x.length===0?l.jsx("p",{className:"profile-desc",children:"Connect platforms in Integrations above to get personalized profile suggestions."}):l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"profile-save",style:{marginBottom:16},onClick:async()=>{Pt(!0);try{const $=await q("/profile/optimizer");if($.ok){const we=await $.json();he(we.platforms||[])}}catch{}Pt(!1)},disabled:xn,children:xn?"Loading":"Refresh suggestions"}),l.jsx("div",{className:"profile-optimizer-grid",children:Bt.map($=>{var we,Ke,Je;return l.jsxs("div",{className:"profile-optimizer-card",children:[l.jsxs("div",{className:"profile-optimizer-header",children:[l.jsx("h3",{children:$.platformName}),$.pageName&&l.jsx("span",{className:"profile-optimizer-page",children:$.pageName})]}),(((we=$.permissions)==null?void 0:we.public_profile_desc)||((Ke=$.permissions)==null?void 0:Ke.profile_desc))&&l.jsxs("p",{className:"profile-optimizer-perms",children:[l.jsx("strong",{children:"API:"})," ",$.permissions.public_profile_desc||$.permissions.profile_desc]}),l.jsx("ul",{className:"profile-optimizer-list",children:(Je=$.suggestions)==null?void 0:Je.map((tt,jt)=>l.jsxs("li",{className:"profile-optimizer-item",children:[l.jsx("span",{className:"profile-optimizer-field",children:tt.field}),tt.current&&l.jsxs("span",{className:"profile-optimizer-current",children:["Current: ",tt.current]}),l.jsxs("span",{className:"profile-optimizer-suggested",children:["Suggested: ",tt.suggested]}),l.jsx("span",{className:"profile-optimizer-reason",children:tt.reason})]},jt))}),(!$.suggestions||$.suggestions.length===0)&&l.jsx("p",{className:"profile-desc",children:"Complete your Business Profile for better suggestions."})]},$.platform)})})]})]}),l.jsxs("section",{id:"ai",className:"profile-section",children:[l.jsx("h2",{children:"AI Custom Instructions"}),l.jsx("textarea",{className:"profile-textarea",placeholder:"E.g. Write in a friendly tone. Use industry examples.",value:Ft.global,onChange:$=>zt(we=>({...we,global:$.target.value})),rows:4}),l.jsx("button",{className:"profile-save",onClick:async()=>{i(!0),await q("/me",{method:"PATCH",body:JSON.stringify({aiInstructions:Ft})}),i(!1)},children:"Save Instructions"})]})]})]}),Ze&&l.jsx("div",{className:"profile-modal-overlay",onClick:()=>!Ne&&_t(!1),children:l.jsxs("div",{className:"profile-modal",onClick:$=>$.stopPropagation(),children:[l.jsx("h3",{children:"Change password"}),l.jsx("input",{type:"password",placeholder:"Current password",value:B,onChange:$=>K($.target.value)}),l.jsx("input",{type:"password",placeholder:"New password (min 6 chars)",value:J,onChange:$=>oe($.target.value)}),ae&&l.jsx("p",{className:"profile-error",children:ae}),l.jsxs("div",{className:"profile-modal-actions",children:[l.jsx("button",{onClick:()=>_t(!1),children:"Cancel"}),l.jsx("button",{onClick:Ue,disabled:Ne,children:Ne?"Saving":"Change"})]})]})})]})}const gx={linkedin:l.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"100%",height:"100%",children:l.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),twitter:l.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"100%",height:"100%",children:l.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),instagram:l.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"100%",height:"100%",children:l.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})}),facebook:l.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"100%",height:"100%",children:l.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),threads:l.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"100%",height:"100%",children:l.jsx("path",{d:"M12.004 0C5.372 0 0 5.372 0 12c0 6.628 5.372 12 12.004 12 6.628 0 12-5.372 12-12C24 5.372 18.632 0 12.004 0zm0 3.5c1.93 0 3.5 1.57 3.5 3.5s-1.57 3.5-3.5 3.5-3.5-1.57-3.5-3.5 1.57-3.5 3.5-3.5zm0 15.5c-2.85 0-5.4-1.38-7-3.5.02-2.18 3.14-3.5 7-3.5 3.86 0 6.98 1.32 7 3.5-1.6 2.12-4.15 3.5-7 3.5z"})})},yx={linkedin:"#0A66C2",twitter:"#000000",instagram:"#E4405F",facebook:"#1877F2",threads:"#000000"};function da({platform:t,size:e=24,title:n}){const r=gx[t],s=yx[t]||"currentColor",i=n||t;return r?l.jsx("span",{className:"platform-logo",title:i,style:{width:e,height:e,color:s,display:"inline-flex",alignItems:"center",justifyContent:"center"},"aria-label":i,children:r}):null}const gi={linkedin:"LinkedIn",twitter:"X",instagram:"Instagram",facebook:"Facebook",threads:"Threads"};function vx(){const t=vt();Ir();const[e,n]=I.useState([]),[r,s]=I.useState(0),[i,a]=I.useState(!0),[u,d]=I.useState(null),[f,_]=I.useState(null),[g,x]=I.useState({platform:"",status:"",fromDate:"",toDate:""}),T=async()=>{a(!0);try{const y=new URLSearchParams;y.set("limit","50"),g.platform&&y.set("platform",g.platform),g.status&&y.set("status",g.status),g.fromDate&&y.set("fromDate",g.fromDate),g.toDate&&y.set("toDate",g.toDate);const M=await(await q(`/posts?${y}`)).json();n(M.posts||[]),s(M.total??0)}catch{n([]),s(0)}a(!1)};I.useEffect(()=>{T()},[g.platform,g.status,g.fromDate,g.toDate]);const D=async y=>{const P=new URLSearchParams;P.set("limit","1000"),P.set("format",y),g.platform&&P.set("platform",g.platform),g.status&&P.set("status",g.status),g.fromDate&&P.set("fromDate",g.fromDate),g.toDate&&P.set("toDate",g.toDate);const U=await(await q(`/posts?${P}`)).text(),w=new Blob([U],{type:y==="csv"?"text/csv":"application/json"}),p=URL.createObjectURL(w),v=document.createElement("a");v.href=p,v.download=`posts.${y==="csv"?"csv":"json"}`,v.click(),URL.revokeObjectURL(p)},R=()=>{const y=document.getElementById("posts-print-area");if(y){const P=window.open("","_blank");P.document.write(`<!DOCTYPE html><html><head><title>Posts Export</title><style>
        body{font-family:system-ui;padding:24px;max-width:800px;margin:0 auto}
        .posts-item{border:1px solid #ddd;border-radius:8px;padding:16px;margin-bottom:12px}
        .posts-item__content{line-height:1.5;margin-bottom:8px}
        .posts-item__meta{font-size:0.85rem;color:#666}
        h1{margin-bottom:16px}
      </style></head><body><h1>Posts & Reports</h1>${y.innerHTML}</body></html>`),P.document.close(),P.focus(),setTimeout(()=>{P.print(),P.close()},250)}else window.print()},A=y=>y?new Date(y).toLocaleString(void 0,{dateStyle:"short",timeStyle:"short"}):"",E=async y=>{if(window.confirm("Delete this post?"))try{const P=await q(`/posts/${y.id}`,{method:"DELETE"});if(P.ok)T(),d(null),_(null);else{const M=await P.json();alert(M.error||"Delete failed")}}catch(P){alert(P.message||"Delete failed")}},S=async()=>{if(f)try{const y=await q(`/posts/${f.id}`,{method:"PATCH",body:JSON.stringify({content:f.content,scheduleAt:f.status==="scheduled"?f.scheduledAt:void 0})});if(y.ok)T(),_(null);else{const P=await y.json();alert(P.error||"Update failed")}}catch(y){alert(y.message||"Update failed")}};return l.jsxs("div",{className:"posts-page",children:[l.jsxs("header",{className:"posts-header",children:[l.jsx("button",{className:"posts-back",onClick:()=>t("/home"),children:" Back"}),l.jsx("h1",{children:"Posts & Reports"})]}),l.jsxs("div",{className:"posts-toolbar",children:[l.jsxs("div",{className:"posts-filters",children:[l.jsxs("select",{value:g.platform,onChange:y=>x(P=>({...P,platform:y.target.value})),children:[l.jsx("option",{value:"",children:"All platforms"}),l.jsx("option",{value:"linkedin",children:"LinkedIn"}),l.jsx("option",{value:"twitter",children:"Twitter"}),l.jsx("option",{value:"instagram",children:"Instagram"}),l.jsx("option",{value:"facebook",children:"Facebook"}),l.jsx("option",{value:"threads",children:"Threads"})]}),l.jsxs("select",{value:g.status,onChange:y=>x(P=>({...P,status:y.target.value})),children:[l.jsx("option",{value:"",children:"All statuses"}),l.jsx("option",{value:"published",children:"Published"}),l.jsx("option",{value:"scheduled",children:"Scheduled"}),l.jsx("option",{value:"draft",children:"Draft"}),l.jsx("option",{value:"failed",children:"Failed"})]}),l.jsx("input",{type:"date",value:g.fromDate,onChange:y=>x(P=>({...P,fromDate:y.target.value})),placeholder:"From"}),l.jsx("input",{type:"date",value:g.toDate,onChange:y=>x(P=>({...P,toDate:y.target.value})),placeholder:"To"})]}),l.jsxs("div",{className:"posts-export",children:[l.jsx("span",{children:"Export:"}),l.jsx("button",{onClick:()=>D("csv"),children:"CSV"}),l.jsx("button",{onClick:()=>D("json"),children:"JSON"}),l.jsx("button",{onClick:R,children:"PDF / Print"})]})]}),i?l.jsx("div",{className:"posts-loading",children:l.jsx(Lt,{compact:!0})}):l.jsxs("div",{className:"posts-list",id:"posts-print-area",children:[l.jsxs("p",{className:"posts-count",children:["Total: ",r," posts"]}),e.length===0?l.jsx("p",{className:"posts-empty",children:"No posts found."}):e.map(y=>{var P,M;return l.jsxs("article",{className:"posts-item",children:[l.jsx("div",{className:"posts-item__platforms posts-item__platforms--corner",children:(y.platforms||[]).map(U=>l.jsx("span",{className:"posts-item__platform",title:gi[U]||U,children:l.jsx(da,{platform:U,size:20})},U))}),l.jsxs("div",{className:"posts-item__content",onClick:()=>d(y),children:[(P=y.content)==null?void 0:P.slice(0,200),(((M=y.content)==null?void 0:M.length)||0)>200?"":""]}),l.jsxs("div",{className:"posts-item__meta",children:[l.jsx("span",{className:`posts-item__status posts-item__status--${y.status}`,children:y.status}),l.jsx("span",{children:A(y.publishedAt||y.scheduledAt||y.createdAt)})]}),l.jsxs("div",{className:"posts-item__actions",children:[l.jsx("button",{type:"button",className:"posts-item__btn",onClick:()=>d(y),children:"View"}),(y.status==="draft"||y.status==="scheduled")&&l.jsx("button",{type:"button",className:"posts-item__btn",onClick:()=>_(y),children:"Edit"}),l.jsx("button",{type:"button",className:"posts-item__btn posts-item__btn--danger",onClick:()=>E(y),children:"Delete"})]})]},y.id)})]}),u&&l.jsx("div",{className:"posts-modal-overlay",onClick:()=>d(null),children:l.jsxs("div",{className:"posts-modal",onClick:y=>y.stopPropagation(),children:[l.jsx("h3",{children:"Post"}),l.jsx("div",{className:"posts-modal__platforms",children:(u.platforms||[]).map(y=>l.jsxs("span",{className:"posts-modal__platform",title:gi[y]||y,children:[l.jsx(da,{platform:y,size:22}),l.jsx("span",{className:"posts-modal__platform-name",children:gi[y]||y})]},y))}),l.jsxs("div",{className:"posts-modal__meta",children:[l.jsx("span",{className:`posts-item__status posts-item__status--${u.status}`,children:u.status}),l.jsx("span",{children:A(u.publishedAt||u.scheduledAt||u.createdAt)})]}),l.jsx("div",{className:"posts-modal__content",children:u.content||"(No content)"}),u.imageUrl&&l.jsx("div",{className:"posts-modal__image",children:l.jsx("img",{src:u.imageUrl,alt:""})}),l.jsxs("div",{className:"posts-modal__actions",children:[l.jsx("button",{onClick:()=>d(null),children:"Close"}),(u.status==="draft"||u.status==="scheduled")&&l.jsx("button",{className:"posts-modal__edit",onClick:()=>{_(u),d(null)},children:"Edit"}),l.jsx("button",{className:"posts-modal__delete",onClick:()=>{E(u),d(null)},children:"Delete"})]})]})}),f&&l.jsx("div",{className:"posts-modal-overlay",onClick:()=>_(null),children:l.jsxs("div",{className:"posts-modal",onClick:y=>y.stopPropagation(),children:[l.jsx("h3",{children:"Edit post"}),l.jsx("div",{className:"posts-modal__platforms",children:(f.platforms||[]).map(y=>l.jsxs("span",{className:"posts-modal__platform",title:gi[y]||y,children:[l.jsx(da,{platform:y,size:22}),l.jsx("span",{className:"posts-modal__platform-name",children:gi[y]||y})]},y))}),l.jsx("textarea",{className:"posts-modal__textarea",value:f.content||"",onChange:y=>_(P=>({...P,content:y.target.value})),rows:8}),f.status==="scheduled"&&l.jsxs("div",{className:"posts-modal__field",children:[l.jsx("label",{children:"Scheduled at"}),l.jsx("input",{type:"datetime-local",value:f.scheduledAt?new Date(f.scheduledAt).toISOString().slice(0,16):"",onChange:y=>_(P=>({...P,scheduledAt:new Date(y.target.value).toISOString()}))})]}),l.jsxs("div",{className:"posts-modal__actions",children:[l.jsx("button",{onClick:()=>_(null),children:"Cancel"}),l.jsx("button",{className:"posts-modal__save",onClick:S,children:"Save"})]})]})})]})}const _x=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function wx(){const t=vt();Ir();const[e,n]=I.useState(()=>new Date().getFullYear()),[r,s]=I.useState(()=>new Date().getMonth()),[i,a]=I.useState([]),[u,d]=I.useState({}),[f,_]=I.useState([]),[g,x]=I.useState(!0),[T,D]=I.useState(null),[R,A]=I.useState(null),[E,S]=I.useState(""),[y,P]=I.useState([]),[M,U]=I.useState(!1),[w,p]=I.useState(""),[v,k]=I.useState(!1),[N,j]=I.useState({}),[C,de]=I.useState(null),[je,Ze]=I.useState(null),[_t,B]=I.useState(""),[K,J]=I.useState(null),[oe,ae]=I.useState(null),[et,Ne]=I.useState(!1),[Ie,G]=I.useState("calendar"),[le,Te]=I.useState([]),[Me,nn]=I.useState(!1),[wt,Ft]=I.useState("social"),[zt,Bt]=I.useState(!1),[he,xn]=I.useState(null),Pt=async()=>{x(!0);try{const[b,W,V]=await Promise.all([q("/posts?limit=200"),q("/integrations"),q("/scheduling/suggested-times")]),ee=(await b.json()).posts||[];a(ee);const Se={};ee.filter(se=>se.scheduledAt||se.publishedAt).forEach(se=>{const qe=new Date(se.scheduledAt||se.publishedAt),Ee=`${qe.getFullYear()}-${String(qe.getMonth()+1).padStart(2,"0")}-${String(qe.getDate()).padStart(2,"0")}`;Se[Ee]||(Se[Ee]=[]),Se[Ee].push(se)}),d(Se),W.ok&&_(await W.json()),V.ok&&j(await V.json())}catch{a([]),d({})}x(!1)};I.useEffect(()=>{Pt()},[]),I.useEffect(()=>{q("/me").then(b=>b.ok?b.json():null).then(b=>b&&xn(b)).catch(()=>{})},[]);const Bn=I.useCallback(async()=>{nn(!0);try{const b=await q(`/trends/ideas?category=${wt}`),W=await b.json();b.ok?Te(W.ideas||[]):Te([])}catch{Te([])}nn(!1)},[wt]);I.useEffect(()=>{Ie==="ideas"&&Bn()},[Ie,wt,Bn]);const De=async(b,W)=>{try{const V=b&&(he!=null&&he.email)?he.email:null;(await q("/me",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({emailContentSuggestions:!0,notificationEmail:V||(he==null?void 0:he.email)})})).ok&&(xn(ee=>({...ee,emailContentSuggestions:!0,notificationEmail:V||(he==null?void 0:he.email)})),Bt(!1))}catch{}},Ue=new Date(e,r+1,0).getDate(),Vn=new Date(e,r,1).getDay(),$=Array(Vn).fill(null),we=Array.from({length:Ue},(b,W)=>W+1),Ke=[...$,...we],Je=b=>`${e}-${String(r+1).padStart(2,"0")}-${String(b).padStart(2,"0")}`,tt=b=>{const W=N[b];return Array.isArray(W)&&W.length>0?W[0]:"09:00"},jt=b=>{var se;const W=new Date(e,r,b),V=`${e}-${String(r+1).padStart(2,"0")}-${String(b).padStart(2,"0")}`,X=Je(b),ee=u[X]||[],Se=W<new Date(new Date().setHours(0,0,0,0));if(ee.length>0||Se)A({dateStr:V,dateTime:`${V}T09:00`,posts:ee,isPast:Se});else{const qe=y[0]||((se=f.find(ze=>ze.isActive))==null?void 0:se.platform)||"linkedin",Ee=tt(qe);D({dateStr:V,dateTime:`${V}T${Ee}`}),S(""),P([]),p("")}},Vt=async b=>{if(window.confirm("Delete this scheduled post?"))try{(await q(`/posts/${b}`,{method:"DELETE"})).ok&&(Pt(),A(V=>{const X=V.posts.filter(ee=>ee.id!==b);return X.length?{...V,posts:X}:null}))}catch{alert("Failed to delete")}},rn=async(b,W,V="09:00")=>{const X=i.find(se=>se.id===b),ee=X!=null&&X.scheduledAt?`${new Date(X.scheduledAt).getFullYear()}-${String(new Date(X.scheduledAt).getMonth()+1).padStart(2,"0")}-${String(new Date(X.scheduledAt).getDate()).padStart(2,"0")}`:null,Se=`${W}T${V}:00`;try{const se=await q(`/posts/${b}/reschedule`,{method:"PATCH",body:JSON.stringify({scheduledTime:Se})});if(se.ok)if(Ze(null),X){const qe={...X,scheduledAt:new Date(Se).toISOString()};if(d(Ee=>{const ze={...Ee};return ee&&ze[ee]&&(ze[ee]=ze[ee].filter(Ys=>Ys.id!==b),ze[ee].length===0&&delete ze[ee]),ze[W]||(ze[W]=[]),ze[W]=[...ze[W].filter(Ys=>Ys.id!==b),qe],ze}),a(Ee=>Ee.map(ze=>ze.id===b?qe:ze)),(R==null?void 0:R.dateStr)===ee){const Ee=(R.posts||[]).filter(ze=>ze.id!==b);A(Ee.length?{...R,posts:Ee}:null)}else A(null)}else Pt(),A(null);else{const qe=await se.json();alert(qe.error||"Failed to reschedule")}}catch{alert("Failed to reschedule")}},$t=(b,W,V)=>{b.preventDefault(),ae(null);const X=b.dataTransfer.getData("text/plain");if(!X||!V)return;const ee=i.find(Ee=>Ee.id===X);if(!ee||ee.status!=="scheduled")return;const Se=`${e}-${String(r+1).padStart(2,"0")}-${String(V).padStart(2,"0")}`,se=new Date(ee.scheduledAt),qe=`${String(se.getHours()).padStart(2,"0")}:${String(se.getMinutes()).padStart(2,"0")}`;rn(X,Se,qe),J(null)},Fe=(b,W)=>{J(W.id),b.dataTransfer.setData("text/plain",W.id),b.dataTransfer.effectAllowed="move"},$n=(b,W,V)=>{b.preventDefault(),V&&K&&ae(W)},ht=()=>ae(null),Hn=async(b,W)=>{try{const V=await q(`/posts/${b}`,{method:"PATCH",body:JSON.stringify(W)});if(V.ok)Pt(),de(null),A(X=>X?{...X,posts:X.posts.map(ee=>ee.id===b?{...ee,...W}:ee)}:null);else{const X=await V.json();alert(X.error||"Failed to update")}}catch{alert("Failed to update")}},kn=(b,W,V)=>{A(null),D({dateStr:b,dateTime:W}),S(V??""),P([]),p("")},fe=b=>{f.filter(V=>V.isActive).map(V=>V.platform).includes(b)&&P(V=>V.includes(b)?V.filter(X=>X!==b):[...V,b])},St=async()=>{if(w.trim()){k(!0);try{const b=y[0]||"linkedin",W=await q("/ai/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:w,imagePrompt:"",platform:b})}),V=await W.json();W.ok&&V.content?(S(X=>X?X+`

`+V.content:V.content),p("")):alert(V.error||"AI generation failed")}catch(b){alert(b.message||"Failed to generate")}k(!1)}},qs=async()=>{if(!(!T||!E.trim()||y.length===0)){U(!0);try{const b=await q("/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:E.trim(),scheduleAt:new Date(T.dateTime).toISOString(),platforms:y})}),W=await b.json();b.ok?(Pt(),D(V=>V?{...V}:null),S(""),p("")):alert(W.error||"Failed to schedule")}catch(b){alert(b.message||"Failed to schedule")}U(!1)}},os=f.filter(b=>b.isActive);return l.jsxs("div",{className:"planner-page",children:[zt&&l.jsx("div",{className:"planner-modal-overlay",onClick:()=>Bt(!1),children:l.jsxs("div",{className:"planner-modal planner-email-modal",onClick:b=>b.stopPropagation(),children:[l.jsx("h3",{children:"Email notifications for content suggestions"}),l.jsx("p",{className:"planner-email-desc",children:"We'll notify you when we have fresh content ideas based on your keywords and trends."}),l.jsxs("p",{className:"planner-email-address",children:["Use this email: ",l.jsx("strong",{children:(he==null?void 0:he.email)||"Your profile email"})]}),l.jsx("p",{className:"planner-email-hint",children:"Confirm to use the same email from your profile for notifications."}),l.jsxs("div",{className:"planner-email-actions",children:[l.jsx("button",{className:"planner-btn-secondary",onClick:()=>Bt(!1),children:"Cancel"}),l.jsx("button",{className:"planner-btn-primary",onClick:()=>De(!0),children:"Yes, use my profile email"})]})]})}),l.jsxs("header",{className:"planner-header",children:[l.jsxs("div",{className:"planner-header-top",children:[l.jsx("button",{className:"planner-back",onClick:()=>t("/home"),children:" Back"}),l.jsx("div",{className:"planner-view-dropdown-wrap",children:l.jsxs("select",{className:"planner-view-dropdown",value:Ie,onChange:b=>G(b.target.value),children:[l.jsx("option",{value:"calendar",children:"Plan"}),l.jsx("option",{value:"ideas",children:"Ideas"})]})})]}),l.jsx("h1",{children:Ie==="ideas"?"Content Ideas":"Content Calendar"}),l.jsx("p",{className:"planner-desc",children:Ie==="ideas"?"AI-suggested post ideas based on your keywords and current trends. Refresh to get new ideas as trends change.":"Click a future date to schedule a post. Pick platforms and write your content."})]}),Ie==="ideas"&&l.jsxs("div",{className:"planner-ideas-view",children:[l.jsxs("div",{className:"planner-ideas-toolbar",children:[l.jsxs("select",{value:wt,onChange:b=>Ft(b.target.value),className:"planner-ideas-select",children:[l.jsx("option",{value:"social",children:"Social & Content"}),l.jsx("option",{value:"business",children:"Business"}),l.jsx("option",{value:"tech",children:"Tech"})]}),l.jsx("button",{className:"planner-ideas-refresh",onClick:Bn,disabled:Me,children:Me?"Loading":" Refresh"})]}),Me&&le.length===0?l.jsx("div",{className:"planner-ideas-loading",children:l.jsx(Lt,{compact:!0})}):le.length===0?l.jsx("p",{className:"planner-ideas-empty",children:"No ideas yet. Add keywords in Profile to get personalized suggestions."}):l.jsx("div",{className:"planner-ideas-list",children:le.map((b,W)=>l.jsxs("div",{className:"planner-idea-card",children:[l.jsx("span",{className:"planner-idea-platform",children:b.platform||"social"}),l.jsx("h4",{children:b.title||"Post idea"}),l.jsx("p",{className:"planner-idea-body",children:b.postIdea}),b.trend&&l.jsxs("span",{className:"planner-idea-trend",children:["Trend: ",b.trend]}),l.jsx("button",{type:"button",className:"planner-idea-use",onClick:()=>{G("calendar"),kn(new Date().toISOString().slice(0,10),new Date().toISOString().slice(0,16),b.postIdea||"")},children:"Use this idea"})]},W))})]}),Ie==="calendar"&&l.jsx("div",{className:"planner-toolbar",children:l.jsxs("div",{className:"planner-nav",children:[l.jsx("button",{onClick:()=>{r<=0?(n(b=>b-1),s(11)):s(b=>b-1)},children:" Prev"}),l.jsx("span",{className:"planner-month",children:new Date(e,r).toLocaleString(void 0,{month:"long",year:"numeric"})}),l.jsx("button",{onClick:()=>{r>=11?(n(b=>b+1),s(0)):s(b=>b+1)},children:"Next "})]})}),Ie==="calendar"&&l.jsxs("div",{className:"planner-calendar",children:[l.jsx("div",{className:"planner-cal-header",children:_x.map(b=>l.jsx("div",{className:"planner-cal-day",children:b},b))}),l.jsx("div",{className:"planner-cal-grid",children:Ke.map((b,W)=>{const V=b?Je(b):null,X=b?new Date(e,r,b):null,ee=X&&X<new Date,Se=X&&X.toDateString()===new Date().toDateString();return l.jsx("div",{className:`planner-cal-cell ${b?"":"planner-cal-cell--blank"} ${ee?"planner-cal-cell--past":""} ${Se?"planner-cal-cell--today":""} ${oe===V?"planner-cal-cell--drop":""}`,onClick:()=>b&&jt(b),onDragOver:se=>$n(se,V,b),onDragLeave:ht,onDrop:se=>$t(se,V,b),"data-date-key":V,children:b&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"planner-cal-date",children:b}),u[V]&&l.jsxs("div",{className:"planner-cal-posts",children:[u[V].slice(0,2).map(se=>{var qe;return l.jsx("div",{className:"planner-cal-post planner-cal-post--draggable",title:(qe=se.content)==null?void 0:qe.slice(0,80),draggable:se.status==="scheduled",onDragStart:Ee=>se.status==="scheduled"&&Fe(Ee,se),children:(se.platforms||[])[0]||"post"},se.id)}),u[V].length>2&&l.jsxs("span",{className:"planner-cal-more",children:["+",u[V].length-2]})]}),!ee&&!u[V]&&l.jsx("span",{className:"planner-cal-add",children:"+ Schedule"})]})},W)})})]}),T&&l.jsx("div",{className:"planner-modal-overlay",onClick:()=>!M&&D(null),children:l.jsxs("div",{className:"planner-modal",onClick:b=>b.stopPropagation(),children:[M&&l.jsx("div",{className:"planner-modal-loading-overlay",children:l.jsx(Lt,{compact:!0})}),l.jsx("h3",{children:"Schedule post"}),l.jsxs("div",{className:"planner-modal-datetime",children:[l.jsx("span",{className:"planner-modal-label",children:"Date & time"}),l.jsxs("div",{className:"planner-modal-datetime-row",children:[l.jsx("input",{type:"datetime-local",className:"planner-modal-datetime-input",value:T.dateTime,onChange:b=>D(W=>({...W,dateTime:b.target.value})),min:new Date().toISOString().slice(0,16)}),l.jsx("button",{type:"button",className:"planner-suggested-btn",onClick:()=>Ne(!0),title:"View AI suggested times per platform",children:"AI Suggested"})]}),et&&l.jsxs("div",{className:"planner-suggested-modal",children:[l.jsx("h4",{children:"Suggested posting times by platform"}),l.jsx("div",{className:"planner-suggested-grid",children:os.map(b=>l.jsxs("div",{className:"planner-suggested-platform",children:[l.jsx("strong",{children:b.platform}),l.jsx("div",{className:"planner-suggested-times",children:(N[b.platform]||["09:00"]).map((W,V)=>l.jsx("button",{type:"button",className:"planner-suggested-time-btn",onClick:()=>{const[X,ee]=W.split(":"),Se=new Date(T.dateTime);Se.setHours(parseInt(X,10),parseInt(ee||0,10)),D(se=>({...se,dateTime:Se.toISOString().slice(0,16)})),Ne(!1)},children:W},V))})]},b.id))}),l.jsx("button",{type:"button",className:"planner-suggested-close",onClick:()=>Ne(!1),children:"Close"})]}),l.jsxs("span",{className:"planner-modal-time-display",children:[" ",new Date(T.dateTime).toLocaleString(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"})]})]}),l.jsxs("div",{className:"planner-modal-platforms",children:[l.jsx("span",{className:"planner-modal-label",children:"Platforms"}),os.map(b=>l.jsxs("label",{className:"planner-modal-platform",children:[l.jsx("input",{type:"checkbox",checked:y.includes(b.platform),onChange:()=>fe(b.platform)}),b.platform]},b.id))]}),os.length===0&&l.jsx("p",{className:"planner-modal-hint",children:"Connect platforms in the sidebar to schedule."}),l.jsxs("div",{className:"planner-modal-content-box",children:[l.jsxs("div",{className:"planner-modal-ai-inline",children:[l.jsx("input",{type:"text",className:"planner-modal-ai-input",placeholder:"Describe topic (e.g. Monday motivation)",value:w,onChange:b=>p(b.target.value),onKeyDown:b=>b.key==="Enter"&&St()}),l.jsx("button",{type:"button",className:"planner-modal-ai-btn",onClick:St,disabled:!w.trim()||v,children:v?"":"Generate"})]}),l.jsx("textarea",{className:"planner-modal-textarea",placeholder:"Write your post or use AI to generate (can generate multiple times)",value:E,onChange:b=>S(b.target.value),rows:5})]}),l.jsxs("div",{className:"planner-modal-actions",children:[l.jsx("button",{className:"planner-modal-cancel",onClick:()=>D(null),children:"Cancel"}),l.jsx("button",{className:"planner-modal-submit",onClick:qs,disabled:M||!E.trim()||y.length===0,children:M?"Scheduling":"Schedule"})]})]})}),je&&l.jsx("div",{className:"planner-modal-overlay",onClick:()=>Ze(null),children:l.jsxs("div",{className:"planner-modal planner-modal--small",onClick:b=>b.stopPropagation(),children:[l.jsx("h3",{children:"Reschedule post"}),l.jsx("input",{type:"datetime-local",value:je.newDate?(()=>{const b=new Date(je.newDate);return`${b.getFullYear()}-${String(b.getMonth()+1).padStart(2,"0")}-${String(b.getDate()).padStart(2,"0")}T${String(b.getHours()).padStart(2,"0")}:${String(b.getMinutes()).padStart(2,"0")}`})():"",onChange:b=>Ze(W=>({...W,newDate:b.target.value})),min:new Date().toISOString().slice(0,16)}),l.jsxs("div",{className:"planner-modal-actions",children:[l.jsx("button",{onClick:()=>Ze(null),children:"Cancel"}),l.jsx("button",{className:"planner-modal-submit",onClick:()=>{const[b,W]=je.newDate.split("T"),V=W?W.slice(0,5):"09:00";rn(je.id,b,V),Ze(null)},children:"Move"})]})]})}),C&&l.jsx("div",{className:"planner-modal-overlay",onClick:()=>de(null),children:l.jsxs("div",{className:"planner-modal",onClick:b=>b.stopPropagation(),children:[l.jsx("h3",{children:"Edit scheduled post"}),l.jsxs("div",{className:"planner-modal-datetime",children:[l.jsx("span",{className:"planner-modal-label",children:"Date & time"}),l.jsx("input",{type:"datetime-local",className:"planner-modal-datetime-input",value:C.scheduledAt?new Date(C.scheduledAt).toISOString().slice(0,16):"",onChange:b=>de(W=>({...W,scheduledAt:new Date(b.target.value).toISOString()})),min:new Date().toISOString().slice(0,16)})]}),l.jsx("textarea",{className:"planner-modal-textarea",value:C.content||"",onChange:b=>de(W=>({...W,content:b.target.value})),rows:4}),l.jsxs("div",{className:"planner-modal-actions",children:[l.jsx("button",{className:"planner-modal-cancel",onClick:()=>de(null),children:"Cancel"}),l.jsx("button",{className:"planner-modal-submit",onClick:()=>Hn(C.id,{content:C.content,scheduleAt:C.scheduledAt}),children:"Save"})]})]})}),R&&l.jsx("div",{className:"planner-modal-overlay",onClick:()=>A(null),children:l.jsxs("div",{className:"planner-modal planner-modal--view",onClick:b=>b.stopPropagation(),children:[l.jsxs("h3",{children:[R.isPast?"Posted on":"Scheduled for"," ",new Date(R.dateStr).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric"})]}),l.jsx("div",{className:"planner-view-posts",children:R.posts.length===0?l.jsx("p",{className:"planner-view-empty",children:R.isPast?"No posts on this day":"No posts yet"}):R.posts.map(b=>{var W,V;return l.jsxs("div",{className:"planner-view-post",draggable:b.status==="scheduled",onDragStart:X=>b.status==="scheduled"&&Fe(X,b),title:b.status==="scheduled"?"Drag to another date":"",children:[b.imageUrl&&l.jsx("div",{className:"planner-view-post__thumb",children:l.jsx("img",{src:b.imageUrl,alt:""})}),l.jsxs("div",{className:"planner-view-post__body",children:[l.jsxs("p",{className:"planner-view-post__content",children:[(W=b.content)==null?void 0:W.slice(0,150),(((V=b.content)==null?void 0:V.length)||0)>150?"":""]}),l.jsxs("div",{className:"planner-view-post__meta",children:[l.jsx("span",{className:"planner-view-post__platforms",children:(b.platforms||[]).join(", ")}),l.jsx("span",{className:`planner-view-post__status planner-view-post__status--${b.status}`,children:b.status}),l.jsx("span",{children:new Date(b.scheduledAt||b.publishedAt).toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"})})]}),l.jsxs("div",{className:"planner-view-post__actions",children:[b.status==="scheduled"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",className:"planner-view-post__edit",onClick:()=>de(b),children:"Edit"}),l.jsx("button",{type:"button",className:"planner-view-post__reschedule",onClick:()=>Ze({...b,newDate:`${R.dateStr}T${new Date(b.scheduledAt).toTimeString().slice(0,5)}`}),children:"Reschedule"})]}),b.status==="scheduled"&&l.jsx("button",{type:"button",className:"planner-view-post__delete",onClick:()=>Vt(b.id),children:"Delete"})]})]})]},b.id)})}),l.jsxs("div",{className:"planner-modal-actions",children:[l.jsx("button",{className:"planner-modal-cancel",onClick:()=>A(null),children:"Close"}),!R.isPast&&l.jsx("button",{className:"planner-modal-submit",onClick:()=>kn(R.dateStr,R.dateTime),children:"+ Add another post"})]})]})}),g&&l.jsx("div",{className:"planner-loading",children:l.jsx(Lt,{compact:!0})})]})}function Sx(){const t=vt();Ir();const[e,n]=I.useState("");return l.jsxs("div",{className:"inbox-page",children:[l.jsxs("header",{className:"inbox-header",children:[l.jsx("button",{className:"inbox-back",onClick:()=>t("/home"),children:" Back"}),l.jsx("h1",{children:"Unified Inbox"}),l.jsx("p",{className:"inbox-desc",children:"AI-powered comment & message manager. Connect your comment API to read and reply across platforms."})]}),l.jsx("div",{className:"inbox-placeholder",children:l.jsxs("div",{className:"inbox-placeholder__card",children:[l.jsx("h3",{children:"Inbox coming soon"}),l.jsx("p",{children:"Once you provide the API for reading and writing comments, this inbox will display mentions and messages from LinkedIn, Twitter, Instagram, and other platforms."}),l.jsx("p",{className:"inbox-placeholder__hint",children:"You can integrate via a backend endpoint that fetches comments and sends replies."})]})})]})}const Ex=[{key:"ideology",label:"What They Do"},{key:"positioning",label:"What Makes Them Different"},{key:"sustainabilityModel",label:"Sustainability Strategy"},{key:"messagingTone",label:"Messaging Strategy"},{key:"contentStyle",label:"Content Style"},{key:"keyProducts",label:"Key Products"},{key:"pricingStrategy",label:"Pricing Strategy"},{key:"targetAudience",label:"Target Audience"},{key:"socialProof",label:"Social Proof"},{key:"strengthsVsYou",label:"Strength vs You"},{key:"opportunityGap",label:"Opportunity Gap"}];function xx(){const t=vt(),[e,n]=I.useState([]),[r,s]=I.useState(!0),[i,a]=I.useState(!1),[u,d]=I.useState(""),[f,_]=I.useState(""),[g,x]=I.useState(!1),[T,D]=I.useState("");I.useEffect(()=>{(async()=>{try{const E=await q("/profile/competitors");if(E.ok){const S=await E.json();n(Array.isArray(S)?S:[])}}catch{}s(!1)})()},[]);const R=async()=>{if(!(!u.trim()||!f.trim())){x(!0),D("");try{const A=await q("/profile/competitors",{method:"POST",body:JSON.stringify({competitorName:u.trim(),competitorUrl:f.trim()})}),E=await A.json();A.ok?(n(S=>[E.competitor,...S]),a(!1),d(""),_("")):D(E.error||"Failed to add competitor")}catch(A){D(A.message||"Failed")}x(!1)}};return r?l.jsx("div",{className:"competitors-loading",children:l.jsx(Lt,{})}):l.jsxs("div",{className:"competitors-page",children:[l.jsxs("header",{className:"competitors-header",children:[l.jsx("button",{className:"competitors-back",onClick:()=>t("/profile"),children:" Back"}),l.jsx("h1",{children:"Competitor Analysis"}),l.jsx("p",{className:"competitors-desc",children:"AI-powered insights from competitor websites"}),l.jsx("button",{className:"competitors-add",onClick:()=>a(!0),children:"+ Add Competitor"})]}),e.length===0?l.jsxs("div",{className:"competitors-empty",children:[l.jsx("p",{children:"No competitors added yet."}),l.jsx("button",{className:"competitors-add-btn",onClick:()=>a(!0),children:"Add your first competitor"})]}):l.jsx("div",{className:"competitors-list",children:e.map(A=>l.jsxs("div",{className:"competitors-card",children:[l.jsxs("div",{className:"competitors-card-header",children:[l.jsx("h2",{children:A.competitorName}),l.jsx("a",{href:A.competitorUrl,target:"_blank",rel:"noopener noreferrer",className:"competitors-link",children:A.competitorUrl}),A.lastScrapedAt&&l.jsxs("span",{className:"competitors-scraped",children:["Last analyzed: ",new Date(A.lastScrapedAt).toLocaleDateString()]})]}),l.jsx("div",{className:"competitors-sections",children:Ex.map(({key:E,label:S})=>{var M;const y=(M=A.aiAnalysis)==null?void 0:M[E];if(!y)return null;const P=Array.isArray(y);return l.jsxs("div",{className:"competitors-section",children:[l.jsx("h3",{className:"competitors-section-title",children:S}),l.jsx("div",{className:"competitors-section-content",children:P?l.jsx("ul",{children:y.map((U,w)=>l.jsx("li",{children:U},w))}):l.jsx("p",{children:y})})]},E)})})]},A.id))}),i&&l.jsx("div",{className:"competitors-modal-overlay",onClick:()=>!g&&a(!1),children:l.jsxs("div",{className:"competitors-modal",onClick:A=>A.stopPropagation(),children:[l.jsx("h3",{children:"Add Competitor"}),l.jsxs("div",{className:"competitors-modal-field",children:[l.jsx("label",{children:"Name"}),l.jsx("input",{type:"text",value:u,onChange:A=>d(A.target.value),placeholder:"Competitor Inc"})]}),l.jsxs("div",{className:"competitors-modal-field",children:[l.jsx("label",{children:"Website URL"}),l.jsx("input",{type:"url",value:f,onChange:A=>_(A.target.value),placeholder:"https://competitor.com"})]}),T&&l.jsx("p",{className:"competitors-error",children:T}),l.jsxs("div",{className:"competitors-modal-actions",children:[l.jsx("button",{onClick:()=>a(!1),children:"Cancel"}),l.jsx("button",{className:"competitors-modal-submit",onClick:R,disabled:g||!u.trim()||!f.trim(),children:g?"Analyzing":"Add & Analyze"})]})]})})]})}const kx=[{id:"linkedin",name:"LinkedIn",icon:l.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),color:"#0a66c2"},{id:"facebook",name:"Facebook",icon:l.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.791-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),color:"#1877F2"},{id:"twitter",name:"Twitter",icon:l.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),color:"#000000"},{id:"threads",name:"Threads",icon:l.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.894 8.221l-1.97 9.28c-.145.658-.537.818-1.084.508l-3-2.21-1.446 1.394c-.14.18-.357.295-.6.295-.002 0-.003 0-.005 0l.213-3.054 5.56-5.022c.24-.213-.054-.334-.373-.121l-6.869 4.326-2.96-.924c-.64-.203-.658-.64.135-.954l11.566-4.458c.538-.196 1.006.128.832.941z"})}),color:"#000000"},{id:"instagram",name:"Instagram",icon:l.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678a6.162 6.162 0 1 0 0 12.324 6.162 6.162 0 1 0 0-12.324zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405a1.441 1.441 0 1 1-2.88 0 1.441 1.441 0 0 1 2.88 0z"})}),color:"#E4405F"}];function Cx(){vt();const[t]=md(),[e,n]=I.useState([]),[r,s]=I.useState(!0),[i,a]=I.useState(null),u=t.get("error"),d=t.get("success");I.useEffect(()=>{f()},[]);const f=async()=>{try{const D=await(await q("/integrations")).json();n(D)}catch(T){console.error("Error loading integrations:",T)}finally{s(!1)}},_=T=>{window.location.href=`/api/auth/integrations/${T}`},g=async(T,D)=>{if(confirm(`Are you sure you want to disconnect ${D}?`)){a(T);try{(await q(`/integrations/${T}`,{method:"DELETE"})).ok&&await f()}catch(R){console.error("Error disconnecting:",R)}finally{a(null)}}},x=T=>e.find(D=>D.platform===T);return r?l.jsx("div",{className:"integrations",children:l.jsx("div",{className:"integrations__loading",children:"Loading integrations..."})}):l.jsxs("div",{className:"integrations",children:[l.jsxs("div",{className:"integrations__header",children:[l.jsx("h1",{className:"integrations__title",children:"Integrations"}),l.jsx("p",{className:"integrations__subtitle",children:"Connect your social media accounts to start posting"})]}),u&&l.jsx("div",{className:"integrations__alert integrations__alert--error",children:decodeURIComponent(u)}),d&&l.jsxs("div",{className:"integrations__alert integrations__alert--success",children:["Successfully connected to ",d,"!"]}),l.jsx("div",{className:"integrations__grid",children:kx.map(T=>{var E;const D=x(T.id),R=!!D,A=D&&i===D.id;return l.jsxs("div",{className:`integrations__card ${R?"integrations__card--connected":""}`,children:[l.jsx("div",{className:"integrations__card-icon",style:{color:T.color},children:T.icon}),l.jsx("h3",{className:"integrations__card-name",children:T.name}),R&&((E=D.profile)==null?void 0:E.name)&&l.jsxs("p",{className:"integrations__card-account",children:["Connected as ",D.profile.name]}),l.jsx("div",{className:"integrations__card-actions",children:R?l.jsx("button",{className:"integrations__button integrations__button--disconnect",onClick:()=>g(D.id||D._id,T.name),disabled:A,children:A?"Disconnecting...":"Disconnect"}):l.jsx("button",{className:"integrations__button integrations__button--connect",onClick:()=>_(T.id),style:{backgroundColor:T.color},children:"Connect"})})]},T.id)})})]})}function Nx(){vt();const[t,e]=I.useState([]),[n,r]=I.useState(!0),[s,i]=I.useState(!1),[a,u]=I.useState(null);I.useEffect(()=>{fetch("/api/auth/integrations/facebook/pages").then(f=>f.json()).then(f=>{f.error?u(f.error):e(f.pages||[])}).catch(f=>{u("Failed to load pages. Please try again."),console.error("Error loading pages:",f)}).finally(()=>r(!1))},[]);const d=async f=>{i(!0),u(null);try{const g=await(await fetch("/api/auth/integrations/facebook/select-page",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pageId:f})})).json();g.error?(u(g.error),i(!1)):window.location.href="/home?integration=facebook&status=connected"}catch(_){u("Failed to select page. Please try again."),i(!1),console.error("Error selecting page:",_)}};return n?l.jsx("div",{className:"facebook-page-selection",children:l.jsx("div",{className:"facebook-page-selection__card facebook-page-selection__card--loading",children:l.jsx(Lt,{compact:!0})})}):a&&t.length===0?l.jsx("div",{className:"facebook-page-selection",children:l.jsxs("div",{className:"facebook-page-selection__card",children:[l.jsx("div",{className:"facebook-page-selection__error",children:a}),l.jsx("button",{className:"facebook-page-selection__retry",onClick:()=>window.location.href="/api/auth/facebook",children:"Sign in again"})]})}):l.jsx("div",{className:"facebook-page-selection",children:l.jsxs("div",{className:"facebook-page-selection__card",children:[l.jsx("h1",{className:"facebook-page-selection__title",children:"Select a Facebook Page"}),l.jsx("p",{className:"facebook-page-selection__subtitle",children:"Choose the page you want to post to."}),a&&l.jsx("div",{className:"facebook-page-selection__error",children:a}),t.length===0?l.jsxs("div",{className:"facebook-page-selection__empty",children:[l.jsx("p",{children:"No pages found. Please make sure you have at least one Facebook Page."}),l.jsx("button",{className:"facebook-page-selection__retry",onClick:()=>window.location.href="/api/auth/facebook",children:"Sign in again"})]}):l.jsx("div",{className:"facebook-page-selection__pages",children:t.map(f=>l.jsxs("button",{className:"facebook-page-selection__page",onClick:()=>d(f.id),disabled:s,children:[l.jsxs("div",{className:"facebook-page-selection__page-info",children:[l.jsx("h3",{className:"facebook-page-selection__page-name",children:f.name}),f.category&&l.jsx("p",{className:"facebook-page-selection__page-category",children:f.category})]}),s?l.jsx("div",{className:"facebook-page-selection__spinner",children:"..."}):l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]},f.id))})]})})}function Ix(){vt();const[t,e]=I.useState([]),[n,r]=I.useState(!0),[s,i]=I.useState(!1),[a,u]=I.useState(null);I.useEffect(()=>{fetch("/api/auth/integrations/instagram/accounts",{credentials:"include"}).then(f=>f.json()).then(f=>{f.error?u(f.error):e(f.pages||[])}).catch(f=>{u("Failed to load Instagram accounts. Please try again."),console.error("Error loading accounts:",f)}).finally(()=>r(!1))},[]);const d=async f=>{i(!0),u(null);try{const g=await(await fetch("/api/auth/integrations/instagram/select-account",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({pageId:f})})).json();g.error?(u(g.error),i(!1)):window.location.href="/home?integration=instagram&status=connected"}catch(_){u("Failed to select account. Please try again."),i(!1),console.error("Error selecting account:",_)}};return n?l.jsx("div",{className:"instagram-account-selection",children:l.jsx("div",{className:"instagram-account-selection__card instagram-account-selection__card--loading",children:l.jsx(Lt,{compact:!0})})}):a&&t.length===0?l.jsx("div",{className:"instagram-account-selection",children:l.jsxs("div",{className:"instagram-account-selection__card",children:[l.jsx("div",{className:"instagram-account-selection__error",children:a}),l.jsx("button",{className:"instagram-account-selection__retry",onClick:()=>window.location.href="/api/auth/integrations/instagram",children:"Sign in again"})]})}):l.jsx("div",{className:"instagram-account-selection",children:l.jsxs("div",{className:"instagram-account-selection__card",children:[l.jsx("h1",{className:"instagram-account-selection__title",children:"Select an Instagram Account"}),l.jsx("p",{className:"instagram-account-selection__subtitle",children:"Choose the Instagram Business account you want to post to."}),a&&l.jsx("div",{className:"instagram-account-selection__error",children:a}),t.length===0?l.jsxs("div",{className:"instagram-account-selection__empty",children:[l.jsx("p",{children:"No Instagram Business accounts found. Please link an Instagram Business/Creator account to a Facebook Page first."}),l.jsx("button",{className:"instagram-account-selection__retry",onClick:()=>window.location.href="/api/auth/integrations/instagram",children:"Try again"})]}):l.jsx("div",{className:"instagram-account-selection__list",children:t.map(f=>{const _=f.instagram_business_account;return l.jsxs("button",{className:"instagram-account-selection__item",onClick:()=>d(f.id),disabled:s,children:[l.jsxs("div",{className:"instagram-account-selection__item-info",children:[(_==null?void 0:_.profile_picture_url)&&l.jsx("img",{src:_.profile_picture_url,alt:"",className:"instagram-account-selection__item-avatar"}),l.jsxs("div",{children:[l.jsx("h3",{className:"instagram-account-selection__item-name",children:(_==null?void 0:_.username)||f.name}),l.jsxs("p",{className:"instagram-account-selection__item-page",children:["via ",f.name]})]})]}),s?l.jsx("div",{className:"instagram-account-selection__spinner",children:"..."}):l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]},f.id)})})]})})}const Vp={linkedin:"LinkedIn",facebook:"Facebook",twitter:"X",instagram:"Instagram",threads:"Threads"},yi=({d:t,viewBox:e="0 0 24 24"})=>l.jsx("svg",{width:"20",height:"20",viewBox:e,fill:"currentColor",children:l.jsx("path",{d:t})}),$p={en:{morning:"Good morning",afternoon:"Good afternoon",evening:"Good evening",night:"Good night"},es:{morning:"Buenos das",afternoon:"Buenas tardes",evening:"Buenas noches",night:"Buenas noches"},fr:{morning:"Bonjour",afternoon:"Bon aprs-midi",evening:"Bonsoir",night:"Bonne nuit"},de:{morning:"Guten Morgen",afternoon:"Guten Tag",evening:"Guten Abend",night:"Gute Nacht"},hi:{morning:" ",afternoon:" ",evening:" ",night:" "},ta:{morning:" ",afternoon:" ",evening:" ",night:" "}};function Tx(){const t=new Date().getHours(),e=(navigator.language||"en").split("-")[0],n=$p[e]||$p.en;let r;return t>=5&&t<12?r=n.morning:t>=12&&t<17?r=n.afternoon:t>=17&&t<21?r=n.evening:r=n.night,{text:r,icon:t>=5&&t<18?"sun":"moon"}}const Px=()=>l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",children:[l.jsx("circle",{cx:"12",cy:"12",r:"5"}),l.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]}),jx=()=>l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",children:l.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),Hp=[{path:"/home",label:"Home",icon:l.jsx(yi,{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"})},{path:"/posts",label:"Posts",icon:l.jsx(yi,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"})},{path:"/planner",label:"Planner",icon:l.jsx(yi,{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zm0-12H5V6h14v2z"})},{path:"/inbox",label:"Inbox",icon:l.jsx(yi,{d:"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})},{path:"/integrations",label:"Integrations",icon:l.jsx(yi,{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}];function Rr({children:t}){var y,P,M,U,w,p;const e=vt(),n=Gs(),{user:r,logout:s}=Ir(),[i,a]=I.useState([]),[u,d]=I.useState(!1),[f,_]=I.useState(()=>{try{const v=localStorage.getItem("app_ideas_notif_dismiss");if(!v)return!1;const k=JSON.parse(v);return k&&Date.now()-k<24*60*60*1e3}catch{return!1}}),g=()=>{q("/integrations").then(v=>v.json()).then(a).catch(()=>a([]))};I.useEffect(()=>{g();const v=new URLSearchParams(n.search);v.get("integration")&&v.get("status")==="connected"&&g()},[n.search,n.pathname]);const x=async v=>{if(i.find(N=>N.platform===v&&N.isActive)){e(`/home?platform=${v}`);return}try{await q("/auth/session",{method:"POST"}),window.location.href=`/api/auth/integrations/${v}`}catch{alert("Failed to start connection.")}},T=()=>{_(!0);try{localStorage.setItem("app_ideas_notif_dismiss",JSON.stringify(Date.now()))}catch{}},D=v=>n.pathname===v,R=i.filter(v=>v.isActive),A=((y=r==null?void 0:r.profile)==null?void 0:y.firstName)||((P=r==null?void 0:r.profile)==null?void 0:P.lastName)||((M=r==null?void 0:r.name)==null?void 0:M.split(" ")[0])||((U=r==null?void 0:r.email)==null?void 0:U.split("@")[0])||"there",{text:E,icon:S}=Tx();return l.jsxs("div",{className:"app-layout",children:[!f&&l.jsxs("div",{className:"app-layout__top-notif",children:[l.jsx("span",{children:"You have content suggestions"}),l.jsx("button",{onClick:()=>{e("/planner"),T()},children:"View Ideas"}),l.jsx("button",{className:"app-layout__notif-dismiss",onClick:T,"aria-label":"Dismiss",children:""})]}),l.jsxs("div",{className:"app-layout__body",children:[l.jsxs("aside",{className:"app-layout__integrations-sidebar",children:[l.jsxs("div",{className:"app-layout__sidebar-brand",onClick:()=>e("/home"),children:[l.jsx("span",{className:"app-layout__sidebar-logo",children:"B"}),l.jsx("span",{className:"app-layout__sidebar-name",children:"Blazly"})]}),r&&l.jsxs("div",{className:"app-layout__sidebar-greeting",children:[l.jsx("span",{className:`app-layout__sidebar-greeting-icon ${S==="moon"?"app-layout__sidebar-greeting-icon--moon":""}`,children:S==="sun"?l.jsx(Px,{}):l.jsx(jx,{})}),l.jsxs("span",{className:"app-layout__sidebar-greeting-text",children:[E,", ",A,"!"]})]}),l.jsx("div",{className:"app-layout__sidebar-platforms",children:R.length>0?R.map(v=>l.jsxs("button",{className:"app-layout__sidebar-item",onClick:()=>x(v.platform),title:Vp[v.platform],children:[l.jsx("span",{className:"app-layout__sidebar-icon",children:l.jsx(da,{platform:v.platform,size:24})}),l.jsx("span",{className:"app-layout__sidebar-label",children:Vp[v.platform]}),l.jsx("span",{className:"app-layout__sidebar-dot","aria-hidden":!0})]},v.platform)):l.jsxs("button",{className:"app-layout__sidebar-connect",onClick:()=>e("/integrations"),title:"Connect platforms",children:[l.jsx("span",{className:"app-layout__sidebar-icon",children:"+"}),l.jsx("span",{className:"app-layout__sidebar-label",children:"Connect"})]})})]}),l.jsxs("div",{className:"app-layout__content",children:[l.jsxs("header",{className:"app-layout__header",children:[l.jsx("nav",{className:"app-layout__nav",children:Hp.map(({path:v,label:k,icon:N})=>l.jsxs("button",{className:`app-layout__nav-tab ${D(v)?"active":""}`,onClick:()=>{e(v),d(!1)},title:k,children:[l.jsx("span",{className:"app-layout__nav-icon",children:N}),l.jsx("span",{className:"app-layout__nav-label",children:k})]},v))}),l.jsxs("div",{className:"app-layout__header-right",children:[l.jsx("button",{className:"app-layout__profile-btn",onClick:()=>e("/profile"),title:"Profile",children:(w=r==null?void 0:r.profile)!=null&&w.profilePicture?l.jsx("img",{src:r.profile.profilePicture,alt:""}):l.jsx("span",{children:(((p=r==null?void 0:r.email)==null?void 0:p[0])||"U").toUpperCase()})}),l.jsx("button",{className:"app-layout__logout",onClick:s,title:"Sign Out",children:"Sign out"}),l.jsxs("button",{className:"app-layout__hamburger",onClick:()=>d(!u),"aria-label":"Menu",children:[l.jsx("span",{}),l.jsx("span",{}),l.jsx("span",{})]})]})]}),u&&l.jsxs("div",{className:"app-layout__mobile-menu",children:[Hp.map(({path:v,label:k,icon:N})=>l.jsxs("button",{className:`app-layout__mobile-item ${D(v)?"active":""}`,onClick:()=>{e(v),d(!1)},children:[l.jsx("span",{className:"app-layout__mobile-icon",children:N}),k]},v)),l.jsx("button",{className:"app-layout__mobile-item",onClick:()=>{e("/profile"),d(!1)},children:"Profile"}),l.jsx("button",{className:"app-layout__mobile-item",onClick:()=>{s(),d(!1)},children:"Sign out"})]}),l.jsx("main",{className:"app-layout__main",children:t})]})]})]})}function ln({children:t}){const{user:e,loading:n}=Ir();return n?l.jsx(Lt,{}):e?t:l.jsx(gy,{to:"/",replace:!0})}function Ax(){return l.jsxs(n2,{children:[l.jsx(Et,{path:"/",element:l.jsx(ZE,{})}),l.jsx(Et,{path:"/onboarding",element:l.jsx(ln,{children:l.jsx(rx,{})})}),l.jsx(Et,{path:"/home",element:l.jsx(ln,{children:l.jsx(Rr,{children:l.jsx(hx,{})})})}),l.jsx(Et,{path:"/profile",element:l.jsx(ln,{children:l.jsx(Rr,{children:l.jsx(mx,{})})})}),l.jsx(Et,{path:"/profile/competitors",element:l.jsx(ln,{children:l.jsx(Rr,{children:l.jsx(xx,{})})})}),l.jsx(Et,{path:"/posts",element:l.jsx(ln,{children:l.jsx(Rr,{children:l.jsx(vx,{})})})}),l.jsx(Et,{path:"/planner",element:l.jsx(ln,{children:l.jsx(Rr,{children:l.jsx(wx,{})})})}),l.jsx(Et,{path:"/inbox",element:l.jsx(ln,{children:l.jsx(Rr,{children:l.jsx(Sx,{})})})}),l.jsx(Et,{path:"/integrations",element:l.jsx(ln,{children:l.jsx(Rr,{children:l.jsx(Cx,{})})})}),l.jsx(Et,{path:"/integrations/facebook/select-page",element:l.jsx(ln,{children:l.jsx(Nx,{})})}),l.jsx(Et,{path:"/integrations/instagram/select-account",element:l.jsx(ln,{children:l.jsx(Ix,{})})}),l.jsx(Et,{path:"*",element:l.jsx(gy,{to:"/",replace:!0})})]})}hc.createRoot(document.getElementById("root")).render(l.jsx(tm.StrictMode,{children:l.jsx(o2,{children:l.jsx(Ax,{})})}));export{Lt as L,q as a,l as j,I as r};
